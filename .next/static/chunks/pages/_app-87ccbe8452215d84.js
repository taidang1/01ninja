(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{3379:function(e,n,r){"use strict";var i=r(4836);n.Z=void 0;var o=i(r(4938)),s=r(5893),a=(0,o.default)((0,s.jsx)("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"}),"ArrowForwardIos");n.Z=a},594:function(e,n,r){"use strict";var i=r(4836);n.Z=void 0;var o=i(r(4938)),s=r(5893),a=(0,o.default)((0,s.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");n.Z=a},6111:function(e,n,r){"use strict";var i=r(4836);n.Z=void 0;var o=i(r(4938)),s=r(5893),a=(0,o.default)((0,s.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite");n.Z=a},326:function(e,n,r){"use strict";var i=r(4836);n.Z=void 0;var o=i(r(4938)),s=r(5893),a=(0,o.default)((0,s.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");n.Z=a},655:function(e,n,r){"use strict";var i=r(4836);n.Z=void 0;var o=i(r(4938)),s=r(5893),a=(0,o.default)((0,s.jsx)("path",{d:"M8 5v14l11-7z"}),"PlayArrow");n.Z=a},4938:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i.createSvgIcon}});var i=r(2441)},1347:function(e,n,r){"use strict";r.d(n,{Z:function(){return U}});var i=r(7462),o=r(3366),s=r(1387),a=r(9766),u=r(6500),c=r(4920),l=r(6523);function h(e,n=0,r=1){return Math.min(Math.max(n,e),r)}function f(e){let n;if(e.type)return e;if("#"===e.charAt(0))return f(function(e){e=e.slice(1);let n=RegExp(`.{1,${e.length>=6?2:1}}`,"g"),r=e.match(n);return r&&1===r[0].length&&(r=r.map(e=>e+e)),r?`rgb${4===r.length?"a":""}(${r.map((e,n)=>n<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3).join(", ")})`:""}(e));let r=e.indexOf("("),i=e.substring(0,r);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(i))throw Error((0,s.Z)(9,e));let o=e.substring(r+1,e.length-1);if("color"===i){if(n=(o=o.split(" ")).shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(n))throw Error((0,s.Z)(10,n))}else o=o.split(",");return o=o.map(e=>parseFloat(e)),{type:i,values:o,colorSpace:n}}function d(e){let{type:n,colorSpace:r}=e,{values:i}=e;return -1!==n.indexOf("rgb")?i=i.map((e,n)=>n<3?parseInt(e,10):e):-1!==n.indexOf("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),`${n}(${i=-1!==n.indexOf("color")?`${r} ${i.join(" ")}`:`${i.join(", ")}`})`}function p(e){let n="hsl"===(e=f(e)).type||"hsla"===e.type?f(function(e){e=f(e);let{values:n}=e,r=n[0],i=n[1]/100,o=n[2]/100,s=i*Math.min(o,1-o),a=(e,n=(e+r/30)%12)=>o-s*Math.max(Math.min(n-3,9-n,1),-1),u="rgb",c=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===e.type&&(u+="a",c.push(n[3])),d({type:u,values:c})}(e)).values:e.values;return Number((.2126*(n=n.map(n=>("color"!==e.type&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)))[0]+.7152*n[1]+.0722*n[2]).toFixed(3))}var m={black:"#000",white:"#fff"},g={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},v={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},y={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},b={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},w={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},E={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},T={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};let I=["mode","contrastThreshold","tonalOffset"],S={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:m.white,default:m.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},_={text:{primary:m.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:m.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function x(e,n,r,i){let o=i.light||i,s=i.dark||1.5*i;e[n]||(e.hasOwnProperty(r)?e[n]=e[r]:"light"===n?e.light=function(e,n){if(e=f(e),n=h(n),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*n;else if(-1!==e.type.indexOf("rgb"))for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*n;else if(-1!==e.type.indexOf("color"))for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*n;return d(e)}(e.main,o):"dark"===n&&(e.dark=function(e,n){if(e=f(e),n=h(n),-1!==e.type.indexOf("hsl"))e.values[2]*=1-n;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let r=0;r<3;r+=1)e.values[r]*=1-n;return d(e)}(e.main,s)))}let A=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"],k={textTransform:"uppercase"},N='"Roboto", "Helvetica", "Arial", sans-serif';function C(...e){return`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,0.2),${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,0.14),${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,0.12)`}let D=["none",C(0,2,1,-1,0,1,1,0,0,1,3,0),C(0,3,1,-2,0,2,2,0,0,1,5,0),C(0,3,3,-2,0,3,4,0,0,1,8,0),C(0,2,4,-1,0,4,5,0,0,1,10,0),C(0,3,5,-1,0,5,8,0,0,1,14,0),C(0,3,5,-1,0,6,10,0,0,1,18,0),C(0,4,5,-2,0,7,10,1,0,2,16,1),C(0,5,5,-3,0,8,10,1,0,3,14,2),C(0,5,6,-3,0,9,12,1,0,3,16,2),C(0,6,6,-3,0,10,14,1,0,4,18,3),C(0,6,7,-4,0,11,15,1,0,4,20,3),C(0,7,8,-4,0,12,17,2,0,5,22,4),C(0,7,8,-4,0,13,19,2,0,5,24,4),C(0,7,9,-4,0,14,21,2,0,5,26,4),C(0,8,9,-5,0,15,22,2,0,6,28,5),C(0,8,10,-5,0,16,24,2,0,6,30,5),C(0,8,11,-5,0,17,26,2,0,6,32,5),C(0,9,11,-5,0,18,28,2,0,7,34,6),C(0,9,12,-6,0,19,29,2,0,7,36,6),C(0,10,13,-6,0,20,31,3,0,8,38,7),C(0,10,13,-6,0,21,33,3,0,8,40,7),C(0,10,14,-6,0,22,35,3,0,8,42,7),C(0,11,14,-7,0,23,36,3,0,9,44,8),C(0,11,15,-7,0,24,38,3,0,9,46,8)],P=["duration","easing","delay"],R={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},O={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function L(e){return`${Math.round(e)}ms`}function M(e){if(!e)return 0;let n=e/36;return Math.round((4+15*n**.25+n/5)*10)}var j={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};let V=["breakpoints","mixins","spacing","palette","transitions","typography","shape"],F=function(e={}){var n;let{mixins:r={},palette:h={},transitions:f={},typography:d={}}=e,C=(0,o.Z)(e,V);if(e.vars)throw Error((0,s.Z)(18));let F=function(e){let{mode:n="light",contrastThreshold:r=3,tonalOffset:u=.2}=e,c=(0,o.Z)(e,I),l=e.primary||function(e="light"){return"dark"===e?{main:w[200],light:w[50],dark:w[400]}:{main:w[700],light:w[400],dark:w[800]}}(n),h=e.secondary||function(e="light"){return"dark"===e?{main:v[200],light:v[50],dark:v[400]}:{main:v[500],light:v[300],dark:v[700]}}(n),f=e.error||function(e="light"){return"dark"===e?{main:y[500],light:y[300],dark:y[700]}:{main:y[700],light:y[400],dark:y[800]}}(n),d=e.info||function(e="light"){return"dark"===e?{main:E[400],light:E[300],dark:E[700]}:{main:E[700],light:E[500],dark:E[900]}}(n),A=e.success||function(e="light"){return"dark"===e?{main:T[400],light:T[300],dark:T[700]}:{main:T[800],light:T[500],dark:T[900]}}(n),k=e.warning||function(e="light"){return"dark"===e?{main:b[400],light:b[300],dark:b[700]}:{main:"#ed6c02",light:b[500],dark:b[900]}}(n);function N(e){let n=function(e,n){let r=p(e),i=p(n);return(Math.max(r,i)+.05)/(Math.min(r,i)+.05)}(e,_.text.primary)>=r?_.text.primary:S.text.primary;return n}let C=({color:e,name:n,mainShade:r=500,lightShade:o=300,darkShade:a=700})=>{if(!(e=(0,i.Z)({},e)).main&&e[r]&&(e.main=e[r]),!e.hasOwnProperty("main"))throw Error((0,s.Z)(11,n?` (${n})`:"",r));if("string"!=typeof e.main)throw Error((0,s.Z)(12,n?` (${n})`:"",JSON.stringify(e.main)));return x(e,"light",o,u),x(e,"dark",a,u),e.contrastText||(e.contrastText=N(e.main)),e},D=(0,a.Z)((0,i.Z)({common:(0,i.Z)({},m),mode:n,primary:C({color:l,name:"primary"}),secondary:C({color:h,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:C({color:f,name:"error"}),warning:C({color:k,name:"warning"}),info:C({color:d,name:"info"}),success:C({color:A,name:"success"}),grey:g,contrastThreshold:r,getContrastText:N,augmentColor:C,tonalOffset:u},{dark:_,light:S}[n]),c);return D}(h),U=(0,u.Z)(e),B=(0,a.Z)(U,{mixins:(n=U.breakpoints,(0,i.Z)({toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}}},r)),palette:F,shadows:D.slice(),typography:function(e,n){let r="function"==typeof n?n(e):n,{fontFamily:s=N,fontSize:u=14,fontWeightLight:c=300,fontWeightRegular:l=400,fontWeightMedium:h=500,fontWeightBold:f=700,htmlFontSize:d=16,allVariants:p,pxToRem:m}=r,g=(0,o.Z)(r,A),v=u/14,y=m||(e=>`${e/d*v}rem`),b=(e,n,r,o,a)=>(0,i.Z)({fontFamily:s,fontWeight:e,fontSize:y(n),lineHeight:r},s===N?{letterSpacing:`${Math.round(1e5*(o/n))/1e5}em`}:{},a,p),w={h1:b(c,96,1.167,-1.5),h2:b(c,60,1.2,-.5),h3:b(l,48,1.167,0),h4:b(l,34,1.235,.25),h5:b(l,24,1.334,0),h6:b(h,20,1.6,.15),subtitle1:b(l,16,1.75,.15),subtitle2:b(h,14,1.57,.1),body1:b(l,16,1.5,.15),body2:b(l,14,1.43,.15),button:b(h,14,1.75,.4,k),caption:b(l,12,1.66,.4),overline:b(l,12,2.66,1,k)};return(0,a.Z)((0,i.Z)({htmlFontSize:d,pxToRem:y,fontFamily:s,fontSize:u,fontWeightLight:c,fontWeightRegular:l,fontWeightMedium:h,fontWeightBold:f},w),g,{clone:!1})}(F,d),transitions:function(e){let n=(0,i.Z)({},R,e.easing),r=(0,i.Z)({},O,e.duration),s=(e=["all"],i={})=>{let{duration:s=r.standard,easing:a=n.easeInOut,delay:u=0}=i;return(0,o.Z)(i,P),(Array.isArray(e)?e:[e]).map(e=>`${e} ${"string"==typeof s?s:L(s)} ${a} ${"string"==typeof u?u:L(u)}`).join(",")};return(0,i.Z)({getAutoHeightDuration:M,create:s},e,{easing:n,duration:r})}(f),zIndex:(0,i.Z)({},j)});return(B=[].reduce((e,n)=>(0,a.Z)(e,n),B=(0,a.Z)(B,C))).unstable_sxConfig=(0,i.Z)({},c.Z,null==C?void 0:C.unstable_sxConfig),B.unstable_sx=function(e){return(0,l.Z)({sx:e,theme:this})},B}();var U=F},1007:function(e,n,r){"use strict";r.d(n,{ZP:function(){return tB},Dz:function(){return tF}});var i,o=r(3366),s=r(7462),a=r(7294),u=r.t(a,2),c=function(e){var n=Object.create(null);return function(r){return void 0===n[r]&&(n[r]=e(r)),n[r]}},l=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,h=c(function(e){return l.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&91>e.charCodeAt(2)}),f=function(){function e(e){var n=this;this._insertTag=function(e){var r;r=0===n.tags.length?n.insertionPoint?n.insertionPoint.nextSibling:n.prepend?n.container.firstChild:n.before:n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(e,r),n.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var n=e.prototype;return n.hydrate=function(e){e.forEach(this._insertTag)},n.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)==0){var n;this._insertTag(((n=document.createElement("style")).setAttribute("data-emotion",this.key),void 0!==this.nonce&&n.setAttribute("nonce",this.nonce),n.appendChild(document.createTextNode("")),n.setAttribute("data-s",""),n))}var r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=function(e){if(e.sheet)return e.sheet;for(var n=0;n<document.styleSheets.length;n++)if(document.styleSheets[n].ownerNode===e)return document.styleSheets[n]}(r);try{i.insertRule(e,i.cssRules.length)}catch(e){}}else r.appendChild(document.createTextNode(e));this.ctr++},n.flush=function(){this.tags.forEach(function(e){return e.parentNode&&e.parentNode.removeChild(e)}),this.tags=[],this.ctr=0},e}(),d=Math.abs,p=String.fromCharCode,m=Object.assign;function g(e,n,r){return e.replace(n,r)}function v(e,n){return e.indexOf(n)}function y(e,n){return 0|e.charCodeAt(n)}function b(e,n,r){return e.slice(n,r)}function w(e){return e.length}function E(e,n){return n.push(e),e}var T=1,I=1,S=0,_=0,x=0,A="";function k(e,n,r,i,o,s,a){return{value:e,root:n,parent:r,type:i,props:o,children:s,line:T,column:I,length:a,return:""}}function N(e,n){return m(k("",null,null,"",null,null,0),e,{length:-e.length},n)}function C(){return x=_<S?y(A,_++):0,I++,10===x&&(I=1,T++),x}function D(){return y(A,_)}function P(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function R(e){return T=I=1,S=w(A=e),_=0,[]}function O(e){var n,r;return(n=_-1,r=function e(n){for(;C();)switch(x){case n:return _;case 34:case 39:34!==n&&39!==n&&e(x);break;case 40:41===n&&e(n);break;case 92:C()}return _}(91===e?e+2:40===e?e+1:e),b(A,n,r)).trim()}var L="-ms-",M="-moz-",j="-webkit-",V="comm",F="rule",U="decl",B="@keyframes";function q(e,n){for(var r="",i=e.length,o=0;o<i;o++)r+=n(e[o],o,e,n)||"";return r}function z(e,n,r,i){switch(e.type){case"@import":case U:return e.return=e.return||e.value;case V:return"";case B:return e.return=e.value+"{"+q(e.children,i)+"}";case F:e.value=e.props.join(",")}return w(r=q(e.children,i))?e.return=e.value+"{"+r+"}":""}function K(e,n,r,i,o,s,a,u,c,l,h){for(var f=o-1,p=0===o?s:[""],m=p.length,v=0,y=0,w=0;v<i;++v)for(var E=0,T=b(e,f+1,f=d(y=a[v])),I=e;E<m;++E)(I=(y>0?p[E]+" "+T:g(T,/&\f/g,p[E])).trim())&&(c[w++]=I);return k(e,n,r,0===o?F:u,c,l,h)}function G(e,n,r,i){return k(e,n,r,U,b(e,0,i),b(e,i+1,-1),i)}var H=function(e,n,r){for(var i=0,o=0;i=o,o=D(),38===i&&12===o&&(n[r]=1),!P(o);)C();return b(A,e,_)},W=function(e,n){var r=-1,i=44;do switch(P(i)){case 0:38===i&&12===D()&&(n[r]=1),e[r]+=H(_-1,n,r);break;case 2:e[r]+=O(i);break;case 4:if(44===i){e[++r]=58===D()?"&\f":"",n[r]=e[r].length;break}default:e[r]+=p(i)}while(i=C());return e},Z=function(e,n){var r;return r=W(R(e),n),A="",r},$=new WeakMap,X=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;"rule"!==r.type;)if(!(r=r.parent))return;if((1!==e.props.length||58===n.charCodeAt(0)||$.get(r))&&!i){$.set(e,!0);for(var o=[],s=Z(n,o),a=r.props,u=0,c=0;u<s.length;u++)for(var l=0;l<a.length;l++,c++)e.props[c]=o[u]?s[u].replace(/&\f/g,a[l]):a[l]+" "+s[u]}}},Y=function(e){if("decl"===e.type){var n=e.value;108===n.charCodeAt(0)&&98===n.charCodeAt(2)&&(e.return="",e.value="")}},Q=[function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case U:e.return=function e(n,r){switch(45^y(n,0)?(((r<<2^y(n,0))<<2^y(n,1))<<2^y(n,2))<<2^y(n,3):0){case 5103:return j+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return j+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return j+n+M+n+L+n+n;case 6828:case 4268:return j+n+L+n+n;case 6165:return j+n+L+"flex-"+n+n;case 5187:return j+n+g(n,/(\w+).+(:[^]+)/,j+"box-$1$2"+L+"flex-$1$2")+n;case 5443:return j+n+L+"flex-item-"+g(n,/flex-|-self/,"")+n;case 4675:return j+n+L+"flex-line-pack"+g(n,/align-content|flex-|-self/,"")+n;case 5548:return j+n+L+g(n,"shrink","negative")+n;case 5292:return j+n+L+g(n,"basis","preferred-size")+n;case 6060:return j+"box-"+g(n,"-grow","")+j+n+L+g(n,"grow","positive")+n;case 4554:return j+g(n,/([^-])(transform)/g,"$1"+j+"$2")+n;case 6187:return g(g(g(n,/(zoom-|grab)/,j+"$1"),/(image-set)/,j+"$1"),n,"")+n;case 5495:case 3959:return g(n,/(image-set\([^]*)/,j+"$1$`$1");case 4968:return g(g(n,/(.+:)(flex-)?(.*)/,j+"box-pack:$3"+L+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+j+n+n;case 4095:case 3583:case 4068:case 2532:return g(n,/(.+)-inline(.+)/,j+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(w(n)-1-r>6)switch(y(n,r+1)){case 109:if(45!==y(n,r+4))break;case 102:return g(n,/(.+:)(.+)-([^]+)/,"$1"+j+"$2-$3$1"+M+(108==y(n,r+3)?"$3":"$2-$3"))+n;case 115:return~v(n,"stretch")?e(g(n,"stretch","fill-available"),r)+n:n}break;case 4949:if(115!==y(n,r+1))break;case 6444:switch(y(n,w(n)-3-(~v(n,"!important")&&10))){case 107:return g(n,":",":"+j)+n;case 101:return g(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+j+(45===y(n,14)?"inline-":"")+"box$3$1"+j+"$2$3$1"+L+"$2box$3")+n}break;case 5936:switch(y(n,r+11)){case 114:return j+n+L+g(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return j+n+L+g(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return j+n+L+g(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return j+n+L+n+n}return n}(e.value,e.length);break;case B:return q([N(e,{value:g(e.value,"@","@"+j)})],i);case F:if(e.length)return e.props.map(function(n){var r;switch(r=n,(r=/(::plac\w+|:read-\w+)/.exec(r))?r[0]:r){case":read-only":case":read-write":return q([N(e,{props:[g(n,/:(read-\w+)/,":"+M+"$1")]})],i);case"::placeholder":return q([N(e,{props:[g(n,/:(plac\w+)/,":"+j+"input-$1")]}),N(e,{props:[g(n,/:(plac\w+)/,":"+M+"$1")]}),N(e,{props:[g(n,/:(plac\w+)/,L+"input-$1")]})],i)}return""}).join("")}}],J=function(e){for(var n,r=0,i=0,o=e.length;o>=4;++i,o-=4)n=(65535&(n=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))*1540483477+((n>>>16)*59797<<16),n^=n>>>24,r=(65535&n)*1540483477+((n>>>16)*59797<<16)^(65535&r)*1540483477+((r>>>16)*59797<<16);switch(o){case 3:r^=(255&e.charCodeAt(i+2))<<16;case 2:r^=(255&e.charCodeAt(i+1))<<8;case 1:r^=255&e.charCodeAt(i),r=(65535&r)*1540483477+((r>>>16)*59797<<16)}return r^=r>>>13,(((r=(65535&r)*1540483477+((r>>>16)*59797<<16))^r>>>15)>>>0).toString(36)},tt={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},te=/[A-Z]|^ms/g,tn=/_EMO_([^_]+?)_([^]*?)_EMO_/g,tr=function(e){return 45===e.charCodeAt(1)},ti=function(e){return null!=e&&"boolean"!=typeof e},to=c(function(e){return tr(e)?e:e.replace(te,"-$&").toLowerCase()}),ts=function(e,n){switch(e){case"animation":case"animationName":if("string"==typeof n)return n.replace(tn,function(e,n,r){return i={name:n,styles:r,next:i},n})}return 1===tt[e]||tr(e)||"number"!=typeof n||0===n?n:n+"px"};function ta(e,n,r){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return i={name:r.name,styles:r.styles,next:i},r.name;if(void 0!==r.styles){var o=r.next;if(void 0!==o)for(;void 0!==o;)i={name:o.name,styles:o.styles,next:i},o=o.next;return r.styles+";"}return function(e,n,r){var i="";if(Array.isArray(r))for(var o=0;o<r.length;o++)i+=ta(e,n,r[o])+";";else for(var s in r){var a=r[s];if("object"!=typeof a)null!=n&&void 0!==n[a]?i+=s+"{"+n[a]+"}":ti(a)&&(i+=to(s)+":"+ts(s,a)+";");else if(Array.isArray(a)&&"string"==typeof a[0]&&(null==n||void 0===n[a[0]]))for(var u=0;u<a.length;u++)ti(a[u])&&(i+=to(s)+":"+ts(s,a[u])+";");else{var c=ta(e,n,a);switch(s){case"animation":case"animationName":i+=to(s)+":"+c+";";break;default:i+=s+"{"+c+"}"}}}return i}(e,n,r);case"function":if(void 0!==e){var s=i,a=r(e);return i=s,ta(e,n,a)}}if(null==n)return r;var u=n[r];return void 0!==u?u:r}var tu=/label:\s*([^\s;\n{]+)\s*(;|$)/g,tc=function(e,n,r){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var o,s=!0,a="";i=void 0;var u=e[0];null==u||void 0===u.raw?(s=!1,a+=ta(r,n,u)):a+=u[0];for(var c=1;c<e.length;c++)a+=ta(r,n,e[c]),s&&(a+=u[c]);tu.lastIndex=0;for(var l="";null!==(o=tu.exec(a));)l+="-"+o[1];return{name:J(a)+l,styles:a,next:i}},tl=!!u.useInsertionEffect&&u.useInsertionEffect,th=tl||function(e){return e()};tl||a.useLayoutEffect;var tf=(0,a.createContext)("undefined"!=typeof HTMLElement?function(e){var n,r,i,o,s,a=e.key;if("css"===a){var u=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(u,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var c=e.stylisPlugins||Q,l={},h=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+a+' "]'),function(e){for(var n=e.getAttribute("data-emotion").split(" "),r=1;r<n.length;r++)l[n[r]]=!0;h.push(e)});var d=(r=(n=[X,Y].concat(c,[z,(i=function(e){s.insert(e)},function(e){!e.root&&(e=e.return)&&i(e)})])).length,function(e,i,o,s){for(var a="",u=0;u<r;u++)a+=n[u](e,i,o,s)||"";return a}),m=function(e){var n,r;return q((r=function e(n,r,i,o,s,a,u,c,l){for(var h,f=0,d=0,m=u,S=0,N=0,R=0,L=1,M=1,j=1,F=0,U="",B=s,q=a,z=o,H=U;M;)switch(R=F,F=C()){case 40:if(108!=R&&58==y(H,m-1)){-1!=v(H+=g(O(F),"&","&\f"),"&\f")&&(j=-1);break}case 34:case 39:case 91:H+=O(F);break;case 9:case 10:case 13:case 32:H+=function(e){for(;x=D();)if(x<33)C();else break;return P(e)>2||P(x)>3?"":" "}(R);break;case 92:H+=function(e,n){for(var r;--n&&C()&&!(x<48)&&!(x>102)&&(!(x>57)||!(x<65))&&(!(x>70)||!(x<97)););return r=_+(n<6&&32==D()&&32==C()),b(A,e,r)}(_-1,7);continue;case 47:switch(D()){case 42:case 47:E(k(h=function(e,n){for(;C();)if(e+x===57)break;else if(e+x===84&&47===D())break;return"/*"+b(A,n,_-1)+"*"+p(47===e?e:C())}(C(),_),r,i,V,p(x),b(h,2,-2),0),l);break;default:H+="/"}break;case 123*L:c[f++]=w(H)*j;case 125*L:case 59:case 0:switch(F){case 0:case 125:M=0;case 59+d:N>0&&w(H)-m&&E(N>32?G(H+";",o,i,m-1):G(g(H," ","")+";",o,i,m-2),l);break;case 59:H+=";";default:if(E(z=K(H,r,i,f,d,s,c,U,B=[],q=[],m),a),123===F){if(0===d)e(H,r,z,z,B,a,m,c,q);else switch(99===S&&110===y(H,3)?100:S){case 100:case 109:case 115:e(n,z,z,o&&E(K(n,z,z,0,0,s,c,U,s,B=[],m),q),s,q,m,c,o?B:q);break;default:e(H,z,z,z,[""],q,0,c,q)}}}f=d=N=0,L=j=1,U=H="",m=u;break;case 58:m=1+w(H),N=R;default:if(L<1){if(123==F)--L;else if(125==F&&0==L++&&125==(x=_>0?y(A,--_):0,I--,10===x&&(I=1,T--),x))continue}switch(H+=p(F),F*L){case 38:j=d>0?1:(H+="\f",-1);break;case 44:c[f++]=(w(H)-1)*j,j=1;break;case 64:45===D()&&(H+=O(C())),S=D(),d=m=w(U=H+=function(e){for(;!P(D());)C();return b(A,e,_)}(_)),F++;break;case 45:45===R&&2==w(H)&&(L=0)}}return a}("",null,null,null,[""],n=R(n=e),0,[0],n),A="",r),d)},S={key:a,sheet:new f({key:a,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:l,registered:{},insert:function(e,n,r,i){s=r,m(e?e+"{"+n.styles+"}":n.styles),i&&(S.inserted[n.name]=!0)}};return S.sheet.hydrate(h),S}({key:"css"}):null);tf.Provider;var td=(0,a.createContext)({}),tp=function(e,n,r){var i=e.key+"-"+n.name;!1===r&&void 0===e.registered[i]&&(e.registered[i]=n.styles)},tm=function(e,n,r){tp(e,n,r);var i=e.key+"-"+n.name;if(void 0===e.inserted[n.name]){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(void 0!==o)}},tg=function(e){return"theme"!==e},tv=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?h:tg},ty=function(e,n,r){var i;if(n){var o=n.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(n){return e.__emotion_forwardProp(n)&&o(n)}:o}return"function"!=typeof i&&r&&(i=e.__emotion_forwardProp),i},tb=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return tp(n,r,i),th(function(){return tm(n,r,i)}),null},tw=(function e(n,r){var i,o,u=n.__emotion_real===n,c=u&&n.__emotion_base||n;void 0!==r&&(i=r.label,o=r.target);var l=ty(n,r,u),h=l||tv(c),f=!h("as");return function(){var d,p=arguments,m=u&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==i&&m.push("label:"+i+";"),null==p[0]||void 0===p[0].raw)m.push.apply(m,p);else{m.push(p[0][0]);for(var g=p.length,v=1;v<g;v++)m.push(p[v],p[0][v])}var y=(d=function(e,n,r){var i,s,u,d=f&&e.as||c,p="",g=[],v=e;if(null==e.theme){for(var y in v={},e)v[y]=e[y];v.theme=(0,a.useContext)(td)}"string"==typeof e.className?(i=n.registered,s=e.className,u="",s.split(" ").forEach(function(e){void 0!==i[e]?g.push(i[e]+";"):u+=e+" "}),p=u):null!=e.className&&(p=e.className+" ");var b=tc(m.concat(g),n.registered,v);p+=n.key+"-"+b.name,void 0!==o&&(p+=" "+o);var w=f&&void 0===l?tv(d):h,E={};for(var T in e)(!f||"as"!==T)&&w(T)&&(E[T]=e[T]);return E.className=p,E.ref=r,(0,a.createElement)(a.Fragment,null,(0,a.createElement)(tb,{cache:n,serialized:b,isStringTag:"string"==typeof d}),(0,a.createElement)(d,E))},(0,a.forwardRef)(function(e,n){return d(e,(0,a.useContext)(tf),n)}));return y.displayName=void 0!==i?i:"Styled("+("string"==typeof c?c:c.displayName||c.name||"Component")+")",y.defaultProps=n.defaultProps,y.__emotion_real=y,y.__emotion_base=c,y.__emotion_styles=m,y.__emotion_forwardProp=l,Object.defineProperty(y,"toString",{value:function(){return"."+o}}),y.withComponent=function(n,i){return e(n,(0,s.Z)({},r,i,{shouldForwardProp:ty(y,i,!0)})).apply(void 0,m)},y}}).bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){tw[e]=tw(e)});let tE=(e,n)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=n(e.__emotion_styles))};var tT=r(6500),tI=r(8320);let tS=["variant"];function t_(e){return 0===e.length}function tx(e){let{variant:n}=e,r=(0,o.Z)(e,tS),i=n||"";return Object.keys(r).sort().forEach(n=>{"color"===n?i+=t_(i)?e[n]:(0,tI.Z)(e[n]):i+=`${t_(i)?n:(0,tI.Z)(n)}${(0,tI.Z)(e[n].toString())}`}),i}var tA=r(6523);let tk=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],tN=["theme"],tC=["theme"];function tD(e){return 0===Object.keys(e).length}let tP=(e,n)=>n.components&&n.components[e]&&n.components[e].styleOverrides?n.components[e].styleOverrides:null,tR=(e,n)=>{let r=[];n&&n.components&&n.components[e]&&n.components[e].variants&&(r=n.components[e].variants);let i={};return r.forEach(e=>{let n=tx(e.props);i[n]=e.style}),i},tO=(e,n,r,i)=>{var o,s;let{ownerState:a={}}=e,u=[],c=null==r?void 0:null==(o=r.components)?void 0:null==(s=o[i])?void 0:s.variants;return c&&c.forEach(r=>{let i=!0;Object.keys(r.props).forEach(n=>{a[n]!==r.props[n]&&e[n]!==r.props[n]&&(i=!1)}),i&&u.push(n[tx(r.props)])}),u};function tL(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}let tM=(0,tT.Z)();var tj=r(1347);let tV=e=>tL(e)&&"classes"!==e,tF=tL,tU=function(e={}){let{defaultTheme:n=tM,rootShouldForwardProp:r=tL,slotShouldForwardProp:i=tL}=e,a=e=>{let r=tD(e.theme)?n:e.theme;return(0,tA.Z)((0,s.Z)({},e,{theme:r}))};return a.__mui_systemSx=!0,(e,u={})=>{let c;tE(e,e=>e.filter(e=>!(null!=e&&e.__mui_systemSx)));let{name:l,slot:h,skipVariantsResolver:f,skipSx:d,overridesResolver:p}=u,m=(0,o.Z)(u,tk),g=void 0!==f?f:h&&"Root"!==h||!1,v=d||!1,y=tL;"Root"===h?y=r:h?y=i:"string"==typeof e&&e.charCodeAt(0)>96&&(y=void 0);let b=/**
 * @mui/styled-engine v5.11.11
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function(e,n){let r=tw(e,n);return r}(e,(0,s.Z)({shouldForwardProp:y,label:c},m)),w=(e,...r)=>{let i=r?r.map(e=>"function"==typeof e&&e.__emotion_real!==e?r=>{let{theme:i}=r,a=(0,o.Z)(r,tN);return e((0,s.Z)({theme:tD(i)?n:i},a))}:e):[],u=e;l&&p&&i.push(e=>{let r=tD(e.theme)?n:e.theme,i=tP(l,r);if(i){let n={};return Object.entries(i).forEach(([i,o])=>{n[i]="function"==typeof o?o((0,s.Z)({},e,{theme:r})):o}),p(e,n)}return null}),l&&!g&&i.push(e=>{let r=tD(e.theme)?n:e.theme;return tO(e,tR(l,r),r,l)}),v||i.push(a);let c=i.length-r.length;if(Array.isArray(e)&&c>0){let n=Array(c).fill("");(u=[...e,...n]).raw=[...e.raw,...n]}else"function"==typeof e&&e.__emotion_real!==e&&(u=r=>{let{theme:i}=r,a=(0,o.Z)(r,tC);return e((0,s.Z)({theme:tD(i)?n:i},a))});let h=b(u,...i);return h};return b.withConfig&&(w.withConfig=b.withConfig),w}}({defaultTheme:tj.Z,rootShouldForwardProp:tV});var tB=tU},2734:function(e,n,r){"use strict";r.d(n,{Z:function(){return s}}),r(7294);var i=r(1938),o=r(1347);function s(){let e=(0,i.Z)(o.Z);return e}},4502:function(e,n,r){"use strict";r.d(n,{Z:function(){return a}});var i=r(7462),o=r(1938),s=r(1347);function a({props:e,name:n}){return function({props:e,name:n,defaultTheme:r}){let s=(0,o.Z)(r),a=function(e){let{theme:n,name:r,props:o}=e;return n&&n.components&&n.components[r]&&n.components[r].defaultProps?function e(n,r){let o=(0,i.Z)({},r);return Object.keys(n).forEach(s=>{if(s.toString().match(/^(components|slots)$/))o[s]=(0,i.Z)({},n[s],o[s]);else if(s.toString().match(/^(componentsProps|slotProps)$/)){let a=n[s]||{},u=r[s];o[s]={},u&&Object.keys(u)?a&&Object.keys(a)?(o[s]=(0,i.Z)({},u),Object.keys(a).forEach(n=>{o[s][n]=e(a[n],u[n])})):o[s]=u:o[s]=a}else void 0===o[s]&&(o[s]=n[s])}),o}(n.components[r].defaultProps,o):o}({theme:s,name:n,props:e});return a}({props:e,name:n,defaultTheme:s.Z})}},8216:function(e,n,r){"use strict";var i=r(8320);n.Z=i.Z},8169:function(e,n,r){"use strict";r.d(n,{Z:function(){return w}});var i=r(7462),o=r(7294),s=r(3366),a=r(6010),u=r(4780),c=r(8216),l=r(4502),h=r(1007),f=r(1588),d=r(4867);function p(e){return(0,d.Z)("MuiSvgIcon",e)}(0,f.Z)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var m=r(5893);let g=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],v=e=>{let{color:n,fontSize:r,classes:i}=e,o={root:["root","inherit"!==n&&`color${(0,c.Z)(n)}`,`fontSize${(0,c.Z)(r)}`]};return(0,u.Z)(o,p,i)},y=(0,h.ZP)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,n)=>{let{ownerState:r}=e;return[n.root,"inherit"!==r.color&&n[`color${(0,c.Z)(r.color)}`],n[`fontSize${(0,c.Z)(r.fontSize)}`]]}})(({theme:e,ownerState:n})=>{var r,i,o,s,a,u,c,l,h,f,d,p,m,g,v,y,b;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(r=e.transitions)?void 0:null==(i=r.create)?void 0:i.call(r,"fill",{duration:null==(o=e.transitions)?void 0:null==(s=o.duration)?void 0:s.shorter}),fontSize:({inherit:"inherit",small:(null==(a=e.typography)?void 0:null==(u=a.pxToRem)?void 0:u.call(a,20))||"1.25rem",medium:(null==(c=e.typography)?void 0:null==(l=c.pxToRem)?void 0:l.call(c,24))||"1.5rem",large:(null==(h=e.typography)?void 0:null==(f=h.pxToRem)?void 0:f.call(h,35))||"2.1875rem"})[n.fontSize],color:null!=(d=null==(p=(e.vars||e).palette)?void 0:null==(m=p[n.color])?void 0:m.main)?d:({action:null==(g=(e.vars||e).palette)?void 0:null==(v=g.action)?void 0:v.active,disabled:null==(y=(e.vars||e).palette)?void 0:null==(b=y.action)?void 0:b.disabled,inherit:void 0})[n.color]}}),b=o.forwardRef(function(e,n){let r=(0,l.Z)({props:e,name:"MuiSvgIcon"}),{children:o,className:u,color:c="inherit",component:h="svg",fontSize:f="medium",htmlColor:d,inheritViewBox:p=!1,titleAccess:b,viewBox:w="0 0 24 24"}=r,E=(0,s.Z)(r,g),T=(0,i.Z)({},r,{color:c,component:h,fontSize:f,instanceFontSize:e.fontSize,inheritViewBox:p,viewBox:w}),I={};p||(I.viewBox=w);let S=v(T);return(0,m.jsxs)(y,(0,i.Z)({as:h,className:(0,a.Z)(S.root,u),focusable:"false",color:d,"aria-hidden":!b||void 0,role:b?"img":void 0,ref:n},I,E,{ownerState:T,children:[o,b?(0,m.jsx)("title",{children:b}):null]}))});function w(e,n){function r(r,o){return(0,m.jsx)(b,(0,i.Z)({"data-testid":`${n}Icon`,ref:o},r,{children:e}))}return r.muiName=b.muiName,o.memo(o.forwardRef(r))}b.muiName="SvgIcon"},9296:function(e,n,r){"use strict";r.d(n,{Z:function(){return i}});var i=function(e,n=166){let r;function i(...i){let o=()=>{e.apply(this,i)};clearTimeout(r),r=setTimeout(o,n)}return i.clear=()=>{clearTimeout(r)},i}},2441:function(e,n,r){"use strict";r.r(n),r.d(n,{capitalize:function(){return o.Z},createChainedFunction:function(){return s},createSvgIcon:function(){return a.Z},debounce:function(){return u.Z},deprecatedPropType:function(){return c},isMuiElement:function(){return h},ownerDocument:function(){return f},ownerWindow:function(){return d.Z},requirePropFactory:function(){return p},setRef:function(){return m},unstable_ClassNameGenerator:function(){return S},unstable_useEnhancedEffect:function(){return v},unstable_useId:function(){return y.Z},unsupportedProp:function(){return b},useControlled:function(){return w.Z},useEventCallback:function(){return E},useForkRef:function(){return T.Z},useIsFocusVisible:function(){return I.Z}});var i=r(7078),o=r(8216),s=function(...e){return e.reduce((e,n)=>null==n?e:function(...r){e.apply(this,r),n.apply(this,r)},()=>{})},a=r(8169),u=r(9296),c=function(e,n){return()=>null},l=r(7294),h=function(e,n){return l.isValidElement(e)&&-1!==n.indexOf(e.type.muiName)},f=r(7094).Z,d=r(6488);r(7462);var p=function(e,n){return()=>null},m=r(7960).Z;let g="undefined"!=typeof window?l.useLayoutEffect:l.useEffect;var v=g,y=r(8785),b=function(e,n,r,i,o){return null},w=r(2627),E=function(e){let n=l.useRef(e);return g(()=>{n.current=e}),l.useCallback((...e)=>(0,n.current)(...e),[])},T=r(8031),I=r(8791);let S={configure:e=>{i.Z.configure(e)}}},6488:function(e,n,r){"use strict";r.d(n,{Z:function(){return o}});var i=r(7094),o=function(e){let n=(0,i.Z)(e);return n.defaultView||window}},2627:function(e,n,r){"use strict";r.d(n,{Z:function(){return o}});var i=r(7294),o=function({controlled:e,default:n,name:r,state:o="value"}){let{current:s}=i.useRef(void 0!==e),[a,u]=i.useState(n),c=i.useCallback(e=>{s||u(e)},[]);return[s?e:a,c]}},8031:function(e,n,r){"use strict";r.d(n,{Z:function(){return s}});var i=r(7294),o=r(7960),s=function(...e){return i.useMemo(()=>e.every(e=>null==e)?null:n=>{e.forEach(e=>{(0,o.Z)(e,n)})},e)}},8785:function(e,n,r){"use strict";r.d(n,{Z:function(){return u}});var i=r(7294),o=r.t(i,2);let s=0,a=o.useId;var u=function(e){if(void 0!==a){let n=a();return null!=e?e:n}return function(e){let[n,r]=i.useState(e);return i.useEffect(()=>{null==n&&r(`mui-${s+=1}`)},[n]),e||n}(e)}},8791:function(e,n,r){"use strict";let i;r.d(n,{Z:function(){return f}});var o=r(7294);let s=!0,a=!1,u={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function c(e){e.metaKey||e.altKey||e.ctrlKey||(s=!0)}function l(){s=!1}function h(){"hidden"===this.visibilityState&&a&&(s=!0)}var f=function(){let e=o.useCallback(e=>{if(null!=e){var n;(n=e.ownerDocument).addEventListener("keydown",c,!0),n.addEventListener("mousedown",l,!0),n.addEventListener("pointerdown",l,!0),n.addEventListener("touchstart",l,!0),n.addEventListener("visibilitychange",h,!0)}},[]),n=o.useRef(!1);return{isFocusVisibleRef:n,onFocus:function(e){return!!function(e){let{target:n}=e;try{return n.matches(":focus-visible")}catch(e){}return s||function(e){let{type:n,tagName:r}=e;return"INPUT"===r&&!!u[n]&&!e.readOnly||"TEXTAREA"===r&&!e.readOnly||!!e.isContentEditable}(n)}(e)&&(n.current=!0,!0)},onBlur:function(){return!!n.current&&(a=!0,window.clearTimeout(i),i=window.setTimeout(()=>{a=!1},100),n.current=!1,!0)},ref:e}}},5408:function(e,n,r){"use strict";r.d(n,{L7:function(){return u},VO:function(){return i},W8:function(){return a},k9:function(){return s}});let i={xs:0,sm:600,md:900,lg:1200,xl:1536},o={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${i[e]}px)`};function s(e,n,r){let s=e.theme||{};if(Array.isArray(n)){let e=s.breakpoints||o;return n.reduce((i,o,s)=>(i[e.up(e.keys[s])]=r(n[s]),i),{})}if("object"==typeof n){let e=s.breakpoints||o;return Object.keys(n).reduce((o,s)=>{if(-1!==Object.keys(e.values||i).indexOf(s)){let i=e.up(s);o[i]=r(n[s],s)}else o[s]=n[s];return o},{})}let a=r(n);return a}function a(e={}){var n;let r=null==(n=e.keys)?void 0:n.reduce((n,r)=>{let i=e.up(r);return n[i]={},n},{});return r||{}}function u(e,n){return e.reduce((e,n)=>{let r=e[n],i=!r||0===Object.keys(r).length;return i&&delete e[n],e},n)}},6500:function(e,n,r){"use strict";r.d(n,{Z:function(){return p}});var i=r(7462),o=r(3366),s=r(9766);let a=["values","unit","step"],u=e=>{let n=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return n.sort((e,n)=>e.val-n.val),n.reduce((e,n)=>(0,i.Z)({},e,{[n.key]:n.val}),{})};var c={borderRadius:4},l=r(8700),h=r(6523),f=r(4920);let d=["breakpoints","palette","spacing","shape"];var p=function(e={},...n){let{breakpoints:r={},palette:p={},spacing:m,shape:g={}}=e,v=(0,o.Z)(e,d),y=function(e){let{values:n={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:s=5}=e,c=(0,o.Z)(e,a),l=u(n),h=Object.keys(l);function f(e){let i="number"==typeof n[e]?n[e]:e;return`@media (min-width:${i}${r})`}function d(e){let i="number"==typeof n[e]?n[e]:e;return`@media (max-width:${i-s/100}${r})`}function p(e,i){let o=h.indexOf(i);return`@media (min-width:${"number"==typeof n[e]?n[e]:e}${r}) and (max-width:${(-1!==o&&"number"==typeof n[h[o]]?n[h[o]]:i)-s/100}${r})`}return(0,i.Z)({keys:h,values:l,up:f,down:d,between:p,only:function(e){return h.indexOf(e)+1<h.length?p(e,h[h.indexOf(e)+1]):f(e)},not:function(e){let n=h.indexOf(e);return 0===n?f(h[1]):n===h.length-1?d(h[n]):p(e,h[h.indexOf(e)+1]).replace("@media","@media not all and")},unit:r},c)}(r),b=function(e=8){if(e.mui)return e;let n=(0,l.hB)({spacing:e}),r=(...e)=>{let r=0===e.length?[1]:e;return r.map(e=>{let r=n(e);return"number"==typeof r?`${r}px`:r}).join(" ")};return r.mui=!0,r}(m),w=(0,s.Z)({breakpoints:y,direction:"ltr",components:{},palette:(0,i.Z)({mode:"light"},p),spacing:b,shape:(0,i.Z)({},c,g)},v);return(w=n.reduce((e,n)=>(0,s.Z)(e,n),w)).unstable_sxConfig=(0,i.Z)({},f.Z,null==v?void 0:v.unstable_sxConfig),w.unstable_sx=function(e){return(0,h.Z)({sx:e,theme:this})},w}},7730:function(e,n,r){"use strict";var i=r(9766);n.Z=function(e,n){return n?(0,i.Z)(e,n,{clone:!1}):e}},8700:function(e,n,r){"use strict";r.d(n,{hB:function(){return m},eI:function(){return p},NA:function(){return g},e6:function(){return y},o3:function(){return b}});var i=r(5408),o=r(4844),s=r(7730);let a={m:"margin",p:"padding"},u={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},c={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},l=function(e){let n={};return r=>(void 0===n[r]&&(n[r]=e(r)),n[r])}(e=>{if(e.length>2){if(!c[e])return[e];e=c[e]}let[n,r]=e.split(""),i=a[n],o=u[r]||"";return Array.isArray(o)?o.map(e=>i+e):[i+o]}),h=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],f=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],d=[...h,...f];function p(e,n,r,i){var s;let a=null!=(s=(0,o.DW)(e,n,!1))?s:r;return"number"==typeof a?e=>"string"==typeof e?e:a*e:Array.isArray(a)?e=>"string"==typeof e?e:a[e]:"function"==typeof a?a:()=>void 0}function m(e){return p(e,"spacing",8,"spacing")}function g(e,n){if("string"==typeof n||null==n)return n;let r=e(Math.abs(n));return n>=0?r:"number"==typeof r?-r:`-${r}`}function v(e,n){let r=m(e.theme);return Object.keys(e).map(o=>(function(e,n,r,o){if(-1===n.indexOf(r))return null;let s=l(r),a=e=>s.reduce((n,r)=>(n[r]=g(o,e),n),{}),u=e[r];return(0,i.k9)(e,u,a)})(e,n,o,r)).reduce(s.Z,{})}function y(e){return v(e,h)}function b(e){return v(e,f)}function w(e){return v(e,d)}y.propTypes={},y.filterProps=h,b.propTypes={},b.filterProps=f,w.propTypes={},w.filterProps=d},4844:function(e,n,r){"use strict";r.d(n,{DW:function(){return s},Jq:function(){return a}});var i=r(8320),o=r(5408);function s(e,n,r=!0){if(!n||"string"!=typeof n)return null;if(e&&e.vars&&r){let r=`vars.${n}`.split(".").reduce((e,n)=>e&&e[n]?e[n]:null,e);if(null!=r)return r}return n.split(".").reduce((e,n)=>e&&null!=e[n]?e[n]:null,e)}function a(e,n,r,i=r){let o;return o="function"==typeof e?e(r):Array.isArray(e)?e[r]||i:s(e,r)||i,n&&(o=n(o,i,e)),o}n.ZP=function(e){let{prop:n,cssProperty:r=e.prop,themeKey:u,transform:c}=e,l=e=>{if(null==e[n])return null;let l=e[n],h=e.theme,f=s(h,u)||{},d=e=>{let o=a(f,c,e);return(e===o&&"string"==typeof e&&(o=a(f,c,`${n}${"default"===e?"":(0,i.Z)(e)}`,e)),!1===r)?o:{[r]:o}};return(0,o.k9)(e,l,d)};return l.propTypes={},l.filterProps=[n],l}},4920:function(e,n,r){"use strict";r.d(n,{Z:function(){return H}});var i=r(8700),o=r(4844),s=r(7730),a=function(...e){let n=e.reduce((e,n)=>(n.filterProps.forEach(r=>{e[r]=n}),e),{}),r=e=>Object.keys(e).reduce((r,i)=>n[i]?(0,s.Z)(r,n[i](e)):r,{});return r.propTypes={},r.filterProps=e.reduce((e,n)=>e.concat(n.filterProps),[]),r},u=r(5408);function c(e){return"number"!=typeof e?e:`${e}px solid`}let l=(0,o.ZP)({prop:"border",themeKey:"borders",transform:c}),h=(0,o.ZP)({prop:"borderTop",themeKey:"borders",transform:c}),f=(0,o.ZP)({prop:"borderRight",themeKey:"borders",transform:c}),d=(0,o.ZP)({prop:"borderBottom",themeKey:"borders",transform:c}),p=(0,o.ZP)({prop:"borderLeft",themeKey:"borders",transform:c}),m=(0,o.ZP)({prop:"borderColor",themeKey:"palette"}),g=(0,o.ZP)({prop:"borderTopColor",themeKey:"palette"}),v=(0,o.ZP)({prop:"borderRightColor",themeKey:"palette"}),y=(0,o.ZP)({prop:"borderBottomColor",themeKey:"palette"}),b=(0,o.ZP)({prop:"borderLeftColor",themeKey:"palette"}),w=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){let n=(0,i.eI)(e.theme,"shape.borderRadius",4,"borderRadius"),r=e=>({borderRadius:(0,i.NA)(n,e)});return(0,u.k9)(e,e.borderRadius,r)}return null};w.propTypes={},w.filterProps=["borderRadius"],a(l,h,f,d,p,m,g,v,y,b,w);let E=e=>{if(void 0!==e.gap&&null!==e.gap){let n=(0,i.eI)(e.theme,"spacing",8,"gap"),r=e=>({gap:(0,i.NA)(n,e)});return(0,u.k9)(e,e.gap,r)}return null};E.propTypes={},E.filterProps=["gap"];let T=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){let n=(0,i.eI)(e.theme,"spacing",8,"columnGap"),r=e=>({columnGap:(0,i.NA)(n,e)});return(0,u.k9)(e,e.columnGap,r)}return null};T.propTypes={},T.filterProps=["columnGap"];let I=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){let n=(0,i.eI)(e.theme,"spacing",8,"rowGap"),r=e=>({rowGap:(0,i.NA)(n,e)});return(0,u.k9)(e,e.rowGap,r)}return null};I.propTypes={},I.filterProps=["rowGap"];let S=(0,o.ZP)({prop:"gridColumn"}),_=(0,o.ZP)({prop:"gridRow"}),x=(0,o.ZP)({prop:"gridAutoFlow"}),A=(0,o.ZP)({prop:"gridAutoColumns"}),k=(0,o.ZP)({prop:"gridAutoRows"}),N=(0,o.ZP)({prop:"gridTemplateColumns"}),C=(0,o.ZP)({prop:"gridTemplateRows"}),D=(0,o.ZP)({prop:"gridTemplateAreas"}),P=(0,o.ZP)({prop:"gridArea"});function R(e,n){return"grey"===n?n:e}a(E,T,I,S,_,x,A,k,N,C,D,P);let O=(0,o.ZP)({prop:"color",themeKey:"palette",transform:R}),L=(0,o.ZP)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:R}),M=(0,o.ZP)({prop:"backgroundColor",themeKey:"palette",transform:R});function j(e){return e<=1&&0!==e?`${100*e}%`:e}a(O,L,M);let V=(0,o.ZP)({prop:"width",transform:j}),F=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){let n=n=>{var r,i,o;let s=(null==(r=e.theme)?void 0:null==(i=r.breakpoints)?void 0:null==(o=i.values)?void 0:o[n])||u.VO[n];return{maxWidth:s||j(n)}};return(0,u.k9)(e,e.maxWidth,n)}return null};F.filterProps=["maxWidth"];let U=(0,o.ZP)({prop:"minWidth",transform:j}),B=(0,o.ZP)({prop:"height",transform:j}),q=(0,o.ZP)({prop:"maxHeight",transform:j}),z=(0,o.ZP)({prop:"minHeight",transform:j});(0,o.ZP)({prop:"size",cssProperty:"width",transform:j}),(0,o.ZP)({prop:"size",cssProperty:"height",transform:j});let K=(0,o.ZP)({prop:"boxSizing"});a(V,F,U,B,q,z,K);let G={border:{themeKey:"borders",transform:c},borderTop:{themeKey:"borders",transform:c},borderRight:{themeKey:"borders",transform:c},borderBottom:{themeKey:"borders",transform:c},borderLeft:{themeKey:"borders",transform:c},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:w},color:{themeKey:"palette",transform:R},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:R},backgroundColor:{themeKey:"palette",transform:R},p:{style:i.o3},pt:{style:i.o3},pr:{style:i.o3},pb:{style:i.o3},pl:{style:i.o3},px:{style:i.o3},py:{style:i.o3},padding:{style:i.o3},paddingTop:{style:i.o3},paddingRight:{style:i.o3},paddingBottom:{style:i.o3},paddingLeft:{style:i.o3},paddingX:{style:i.o3},paddingY:{style:i.o3},paddingInline:{style:i.o3},paddingInlineStart:{style:i.o3},paddingInlineEnd:{style:i.o3},paddingBlock:{style:i.o3},paddingBlockStart:{style:i.o3},paddingBlockEnd:{style:i.o3},m:{style:i.e6},mt:{style:i.e6},mr:{style:i.e6},mb:{style:i.e6},ml:{style:i.e6},mx:{style:i.e6},my:{style:i.e6},margin:{style:i.e6},marginTop:{style:i.e6},marginRight:{style:i.e6},marginBottom:{style:i.e6},marginLeft:{style:i.e6},marginX:{style:i.e6},marginY:{style:i.e6},marginInline:{style:i.e6},marginInlineStart:{style:i.e6},marginInlineEnd:{style:i.e6},marginBlock:{style:i.e6},marginBlockStart:{style:i.e6},marginBlockEnd:{style:i.e6},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:E},rowGap:{style:I},columnGap:{style:T},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:j},maxWidth:{style:F},minWidth:{transform:j},height:{transform:j},maxHeight:{transform:j},minHeight:{transform:j},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};var H=G},6523:function(e,n,r){"use strict";var i=r(8320),o=r(7730),s=r(4844),a=r(5408),u=r(4920);let c=function(){function e(e,n,r,o){let u={[e]:n,theme:r},c=o[e];if(!c)return{[e]:n};let{cssProperty:l=e,themeKey:h,transform:f,style:d}=c;if(null==n)return null;let p=(0,s.DW)(r,h)||{};if(d)return d(u);let m=n=>{let r=(0,s.Jq)(p,f,n);return(n===r&&"string"==typeof n&&(r=(0,s.Jq)(p,f,`${e}${"default"===n?"":(0,i.Z)(n)}`,n)),!1===l)?r:{[l]:r}};return(0,a.k9)(u,n,m)}return function n(r){var i;let{sx:s,theme:c={}}=r||{};if(!s)return null;let l=null!=(i=c.unstable_sxConfig)?i:u.Z;function h(r){let i=r;if("function"==typeof r)i=r(c);else if("object"!=typeof r)return r;if(!i)return null;let s=(0,a.W8)(c.breakpoints),u=Object.keys(s),h=s;return Object.keys(i).forEach(r=>{var s;let u="function"==typeof(s=i[r])?s(c):s;if(null!=u){if("object"==typeof u){if(l[r])h=(0,o.Z)(h,e(r,u,c,l));else{let e=(0,a.k9)({theme:c},u,e=>({[r]:e}));(function(...e){let n=e.reduce((e,n)=>e.concat(Object.keys(n)),[]),r=new Set(n);return e.every(e=>r.size===Object.keys(e).length)})(e,u)?h[r]=n({sx:u,theme:c}):h=(0,o.Z)(h,e)}}else h=(0,o.Z)(h,e(r,u,c,l))}}),(0,a.L7)(u,h)}return Array.isArray(s)?s.map(h):h(s)}}();c.filterProps=["sx"],n.Z=c},1938:function(e,n,r){"use strict";r.d(n,{Z:function(){return c}});var i=r(6500),o=r(7294);let s=o.createContext(null);var a=function(e=null){let n=function(){let e=o.useContext(s);return e}();return n&&0!==Object.keys(n).length?n:e};let u=(0,i.Z)();var c=function(e=u){return a(e)}},7078:function(e,n){"use strict";let r;let i=e=>e,o=(r=i,{configure(e){r=e},generate:e=>r(e),reset(){r=i}});n.Z=o},8320:function(e,n,r){"use strict";r.d(n,{Z:function(){return o}});var i=r(1387);function o(e){if("string"!=typeof e)throw Error((0,i.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},4780:function(e,n,r){"use strict";function i(e,n,r){let i={};return Object.keys(e).forEach(o=>{i[o]=e[o].reduce((e,i)=>(i&&(e.push(n(i)),r&&r[i]&&e.push(r[i])),e),[]).join(" ")}),i}r.d(n,{Z:function(){return i}})},9766:function(e,n,r){"use strict";r.d(n,{Z:function(){return function e(n,r,s={clone:!0}){let a=s.clone?(0,i.Z)({},n):n;return o(n)&&o(r)&&Object.keys(r).forEach(i=>{"__proto__"!==i&&(o(r[i])&&i in n&&o(n[i])?a[i]=e(n[i],r[i],s):s.clone?a[i]=o(r[i])?function e(n){if(!o(n))return n;let r={};return Object.keys(n).forEach(i=>{r[i]=e(n[i])}),r}(r[i]):r[i]:a[i]=r[i])}),a}}});var i=r(7462);function o(e){return null!==e&&"object"==typeof e&&e.constructor===Object}},1387:function(e,n,r){"use strict";function i(e){let n="https://mui.com/production-error/?code="+e;for(let e=1;e<arguments.length;e+=1)n+="&args[]="+encodeURIComponent(arguments[e]);return"Minified MUI error #"+e+"; visit "+n+" for the full message."}r.d(n,{Z:function(){return i}})},4867:function(e,n,r){"use strict";r.d(n,{Z:function(){return s}});var i=r(7078);let o={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function s(e,n,r="Mui"){let s=o[n];return s?`${r}-${s}`:`${i.Z.generate(e)}-${n}`}},1588:function(e,n,r){"use strict";r.d(n,{Z:function(){return o}});var i=r(4867);function o(e,n,r="Mui"){let o={};return n.forEach(n=>{o[n]=(0,i.Z)(e,n,r)}),o}},7094:function(e,n,r){"use strict";function i(e){return e&&e.ownerDocument||document}r.d(n,{Z:function(){return i}})},7960:function(e,n,r){"use strict";function i(e,n){"function"==typeof e?e(n):e&&(e.current=n)}r.d(n,{Z:function(){return i}})},6010:function(e,n,r){"use strict";n.Z=function(){for(var e,n,r=0,i="";r<arguments.length;)(e=arguments[r++])&&(n=function e(n){var r,i,o="";if("string"==typeof n||"number"==typeof n)o+=n;else if("object"==typeof n){if(Array.isArray(n))for(r=0;r<n.length;r++)n[r]&&(i=e(n[r]))&&(o&&(o+=" "),o+=i);else for(r in n)n[r]&&(o&&(o+=" "),o+=r)}return o}(e))&&(i&&(i+=" "),i+=n);return i}},1118:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return r(205)}])},7268:function(e,n,r){"use strict";r.d(n,{C:function(){return hA}});var i=r(7294),o=function(e,n){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])})(e,n)};function s(e,n){if("function"!=typeof n&&null!==n)throw TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var a=function(){return(a=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)};function u(e,n,r,i){return new(r||(r=Promise))(function(o,s){function a(e){try{c(i.next(e))}catch(e){s(e)}}function u(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var n;e.done?o(e.value):((n=e.value)instanceof r?n:new r(function(e){e(n)})).then(a,u)}c((i=i.apply(e,n||[])).next())})}function c(e,n){var r,i,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(u){return function(c){return function(u){if(r)throw TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(a=0)),a;)try{if(r=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,i=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=n.call(e,a)}catch(e){u=[6,e],i=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}}function l(e){var n="function"==typeof Symbol&&Symbol.iterator,r=n&&e[n],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function h(e,n){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,o,s=r.call(e),a=[];try{for(;(void 0===n||n-- >0)&&!(i=s.next()).done;)a.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return a}function f(e,n,r){if(r||2==arguments.length)for(var i,o=0,s=n.length;o<s;o++)!i&&o in n||(i||(i=Array.prototype.slice.call(n,0,o)),i[o]=n[o]);return e.concat(i||Array.prototype.slice.call(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var d=function(e){for(var n=[],r=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?n[r++]=o:o<2048?(n[r++]=o>>6|192,n[r++]=63&o|128):(64512&o)==55296&&i+1<e.length&&(64512&e.charCodeAt(i+1))==56320?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++i)),n[r++]=o>>18|240,n[r++]=o>>12&63|128,n[r++]=o>>6&63|128,n[r++]=63&o|128):(n[r++]=o>>12|224,n[r++]=o>>6&63|128,n[r++]=63&o|128)}return n},p=function(e){for(var n=[],r=0,i=0;r<e.length;){var o=e[r++];if(o<128)n[i++]=String.fromCharCode(o);else if(o>191&&o<224){var s=e[r++];n[i++]=String.fromCharCode((31&o)<<6|63&s)}else if(o>239&&o<365){var s=e[r++],a=e[r++],u=((7&o)<<18|(63&s)<<12|(63&a)<<6|63&e[r++])-65536;n[i++]=String.fromCharCode(55296+(u>>10)),n[i++]=String.fromCharCode(56320+(1023&u))}else{var s=e[r++],a=e[r++];n[i++]=String.fromCharCode((15&o)<<12|(63&s)<<6|63&a)}}return n.join("")},m={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,n){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var r=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],o=0;o<e.length;o+=3){var s=e[o],a=o+1<e.length,u=a?e[o+1]:0,c=o+2<e.length,l=c?e[o+2]:0,h=s>>2,f=(3&s)<<4|u>>4,d=(15&u)<<2|l>>6,p=63&l;c||(p=64,a||(d=64)),i.push(r[h],r[f],r[d],r[p])}return i.join("")},encodeString:function(e,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(e):this.encodeByteArray(d(e),n)},decodeString:function(e,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(e):p(this.decodeStringToByteArray(e,n))},decodeStringToByteArray:function(e,n){this.init_();for(var r=n?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],o=0;o<e.length;){var s=r[e.charAt(o++)],a=o<e.length?r[e.charAt(o)]:0,u=++o<e.length?r[e.charAt(o)]:64,c=++o<e.length?r[e.charAt(o)]:64;if(++o,null==s||null==a||null==u||null==c)throw Error();var l=s<<2|a>>4;if(i.push(l),64!==u){var h=a<<4&240|u>>2;if(i.push(h),64!==c){var f=u<<6&192|c;i.push(f)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},g=function(e){var n=d(e);return m.encodeByteArray(n,!0)},v=function(e){return g(e).replace(/\./g,"")};function y(e,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:return new Date(n.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return n}for(var r in n)n.hasOwnProperty(r)&&"__proto__"!==r&&(e[r]=y(e[r],n[r]));return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var b=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){e.resolve=n,e.reject=r})}return e.prototype.wrapCallback=function(e){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),"function"==typeof e&&(n.promise.catch(function(){}),1===e.length?e(r):e(r,i))}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function E(){try{return"[object process]"===Object.prototype.toString.call(r.g.process)}catch(e){return!1}}var T=function(e){function n(r,i,o){var s=e.call(this,i)||this;return s.code=r,s.customData=o,s.name="FirebaseError",Object.setPrototypeOf(s,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,I.prototype.create),s}return s(n,e),n}(Error),I=function(){function e(e,n,r){this.service=e,this.serviceName=n,this.errors=r}return e.prototype.create=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},o=this.service+"/"+e,s=this.errors[e],a=s?s.replace(S,function(e,n){var r=i[n];return null!=r?String(r):"<"+n+"?>"}):"Error",u=this.serviceName+": "+a+" ("+o+").";return new T(o,u,i)},e}(),S=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function x(e,n){var r=new A(e,n);return r.subscribe.bind(r)}!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,n){n||(n=0);var r,i,o=this.W_;if("string"==typeof e)for(var s=0;s<16;s++)o[s]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(var s=0;s<16;s++)o[s]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(var s=16;s<80;s++){var a=o[s-3]^o[s-8]^o[s-14]^o[s-16];o[s]=(a<<1|a>>>31)&4294967295}for(var u=this.chain_[0],c=this.chain_[1],l=this.chain_[2],h=this.chain_[3],f=this.chain_[4],s=0;s<80;s++){s<40?s<20?(r=h^c&(l^h),i=1518500249):(r=c^l^h,i=1859775393):s<60?(r=c&l|h&(c|l),i=2400959708):(r=c^l^h,i=3395469782);var a=(u<<5|u>>>27)+r+f+i+o[s]&4294967295;f=h,h=l,l=(c<<30|c>>>2)&4294967295,c=u,u=a}this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,n){if(null!=e){void 0===n&&(n=e.length);for(var r=n-this.blockSize,i=0,o=this.buf_,s=this.inbuf_;i<n;){if(0===s)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}},e.prototype.digest=function(){var e=[],n=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&n,n/=256;this.compress_(this.buf_);for(var i=0,r=0;r<5;r++)for(var o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e}}();var A=function(){function e(e,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){e(r)}).catch(function(e){r.error(e)})}return e.prototype.next=function(e){this.forEachObserver(function(n){n.next(e)})},e.prototype.error=function(e){this.forEachObserver(function(n){n.error(e)}),this.close(e)},e.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},e.prototype.subscribe=function(e,n,r){var i,o=this;if(void 0===e&&void 0===n&&void 0===r)throw Error("Missing Observer.");void 0===(i=!function(e,n){if("object"!=typeof e||null===e)return!1;for(var r=0;r<n.length;r++){var i=n[r];if(i in e&&"function"==typeof e[i])return!0}return!1}(e,["next","error","complete"])?{next:e,error:n,complete:r}:e).next&&(i.next=k),void 0===i.error&&(i.error=k),void 0===i.complete&&(i.complete=k);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?i.error(o.finalError):i.complete()}catch(e){}}),this.observers.push(i),s},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,e)},e.prototype.sendOne=function(e,n){var r=this;this.task.then(function(){if(void 0!==r.observers&&void 0!==r.observers[e])try{n(r.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})},e.prototype.close=function(e){var n=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function k(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N(e){return e&&e._delegate?e._delegate:e}var C=function(){function e(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),D="[DEFAULT]",P=function(){function e(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){var r=new b;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(e){}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(e){var n,r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(n=null==e?void 0:e.optional)&&void 0!==n&&n;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(e){if(i)return null;throw e}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var n,r;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:D})}catch(e){}try{for(var i=l(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=h(o.value,2),a=s[0],u=s[1],c=this.normalizeInstanceIdentifier(a);try{var f=this.getOrInitializeService({instanceIdentifier:c});u.resolve(f)}catch(e){}}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=D),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return u(this,void 0,void 0,function(){var e;return c(this,function(n){switch(n.label){case 0:return[4,Promise.all(f(f([],h((e=Array.from(this.instances.values())).filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()}))),h(e.filter(function(e){return"_delete"in e}).map(function(e){return e._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=D),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=D),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){void 0===e&&(e={});var n,r,i=e.options,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:o,options:void 0===i?{}:i});try{for(var a=l(this.instancesDeferred.entries()),u=a.next();!u.done;u=a.next()){var c=h(u.value,2),f=c[0],d=c[1],p=this.normalizeInstanceIdentifier(f);o===p&&d.resolve(s)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return s},e.prototype.onInit=function(e,n){var r,i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);var s=this.instances.get(i);return s&&e(s,i),function(){o.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,n){var r,i,o=this.onInitCallbacks.get(n);if(o)try{for(var s=l(o),a=s.next();!a.done;a=s.next()){var u=a.value;try{u(e,n)}catch(e){}}}catch(e){r={error:e}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(e){var n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:n===D?void 0:n,options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(e){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return(void 0===e&&(e=D),this.component)?this.component.multipleInstances?e:D:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}(),R=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var n=this.getProvider(e.name);if(n.isComponentSet())throw Error("Component "+e.name+" has already been registered with "+this.name);n.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var n=new P(e,this);return this.providers.set(e,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function O(){for(var e=0,n=0,r=arguments.length;n<r;n++)e+=arguments[n].length;for(var i=Array(e),o=0,n=0;n<r;n++)for(var s=arguments[n],a=0,u=s.length;a<u;a++,o++)i[o]=s[a];return i}var L=[];(tr=to||(to={}))[tr.DEBUG=0]="DEBUG",tr[tr.VERBOSE=1]="VERBOSE",tr[tr.INFO=2]="INFO",tr[tr.WARN=3]="WARN",tr[tr.ERROR=4]="ERROR",tr[tr.SILENT=5]="SILENT";var M={debug:to.DEBUG,verbose:to.VERBOSE,info:to.INFO,warn:to.WARN,error:to.ERROR,silent:to.SILENT},j=to.INFO,V=((ti={})[to.DEBUG]="log",ti[to.VERBOSE]="log",ti[to.INFO]="info",ti[to.WARN]="warn",ti[to.ERROR]="error",ti),F=function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(!(n<e.logLevel)){var o=new Date().toISOString(),s=V[n];if(s)console[s].apply(console,O(["["+o+"]  "+e.name+":"],r));else throw Error("Attempted to log a message with an invalid logType (value: "+n+")")}},U=function(){function e(e){this.name=e,this._logLevel=j,this._logHandler=F,this._userLogHandler=null,L.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in to))throw TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?M[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,O([this,to.DEBUG],e)),this._logHandler.apply(this,O([this,to.DEBUG],e))},e.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,O([this,to.VERBOSE],e)),this._logHandler.apply(this,O([this,to.VERBOSE],e))},e.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,O([this,to.INFO],e)),this._logHandler.apply(this,O([this,to.INFO],e))},e.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,O([this,to.WARN],e)),this._logHandler.apply(this,O([this,to.WARN],e))},e.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,O([this,to.ERROR],e)),this._logHandler.apply(this,O([this,to.ERROR],e))},e}();function B(e){L.forEach(function(n){n.setLogLevel(e)})}var q=((ts={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ts["bad-app-name"]="Illegal App name: '{$appName}",ts["duplicate-app"]="Firebase App named '{$appName}' already exists",ts["app-deleted"]="Firebase App named '{$appName}' already deleted",ts["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ts["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ts),z=new I("app","Firebase",q),K="@firebase/app",G="[DEFAULT]",H=((ta={})[K]="fire-core",ta["@firebase/analytics"]="fire-analytics",ta["@firebase/app-check"]="fire-app-check",ta["@firebase/auth"]="fire-auth",ta["@firebase/database"]="fire-rtdb",ta["@firebase/functions"]="fire-fn",ta["@firebase/installations"]="fire-iid",ta["@firebase/messaging"]="fire-fcm",ta["@firebase/performance"]="fire-perf",ta["@firebase/remote-config"]="fire-rc",ta["@firebase/storage"]="fire-gcs",ta["@firebase/firestore"]="fire-fst",ta["fire-js"]="fire-js",ta["firebase-wrapper"]="fire-js-all",ta),W=new U("@firebase/app"),Z=function(){function e(e,n,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=y(void 0,e),this.container=new R(n.name),this._addComponent(new C("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(e){return i._addComponent(e)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise(function(n){e.checkDestroyed_(),n()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(e){return e.delete()}))}).then(function(){e.isDeleted_=!0})},e.prototype._getService=function(e,n){void 0===n&&(n=G),this.checkDestroyed_();var r,i=this.container.getProvider(e);return i.isInitialized()||(null===(r=i.getComponent())||void 0===r?void 0:r.instantiationMode)!=="EXPLICIT"||i.initialize(),i.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(e,n){void 0===n&&(n=G),this.container.getProvider(e).clearInstance(n)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(n){W.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw z.create("app-deleted",{appName:this.name_})},e}();Z.prototype.name&&Z.prototype.options||Z.prototype.delete||console.log("dc");var $=/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e(){var n=/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){var n={},r=new Map,i={__esModule:!0,initializeApp:function(r,o){void 0===o&&(o={}),("object"!=typeof o||null===o)&&(o={name:o});var s=o;void 0===s.name&&(s.name=G);var a=s.name;if("string"!=typeof a||!a)throw z.create("bad-app-name",{appName:String(a)});if(_(n,a))throw z.create("duplicate-app",{appName:a});var u=new e(r,s,i);return n[a]=u,u},app:o,registerVersion:function(e,n,r){var i,o=null!==(i=H[e])&&void 0!==i?i:e;r&&(o+="-"+r);var a=o.match(/\s|\//),u=n.match(/\s|\//);if(a||u){var c=['Unable to register library "'+o+'" with version "'+n+'":'];a&&c.push('library name "'+o+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+n+'" contains illegal characters (whitespace or "/")'),W.warn(c.join(" "));return}s(new C(o+"-version",function(){return{library:o,version:n}},"VERSION"))},setLogLevel:B,onLog:function(e,n){if(null!==e&&"function"!=typeof e)throw z.create("invalid-log-argument");!function(e,n){for(var r=0;r<L.length;r++)!function(r){var i=null;n&&n.level&&(i=M[n.level]),null===e?r.userLogHandler=null:r.userLogHandler=function(n,r){for(var o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];var a=o.map(function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}}).filter(function(e){return e}).join(" ");r>=(null!=i?i:n.logLevel)&&e({level:to[r].toLowerCase(),message:a,args:o,type:n.name})}}(L[r])}(e,n)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:s,removeApp:function(e){delete n[e]},components:r,useAsService:function(e,n){return"serverAuth"===n?null:n}}};function o(e){if(!_(n,e=e||G))throw z.create("no-app",{appName:e});return n[e]}function s(s){var a=s.name;if(r.has(a))return W.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===s.type?i[a]:null;if(r.set(a,s),"PUBLIC"===s.type){var u=function(e){if(void 0===e&&(e=o()),"function"!=typeof e[a])throw z.create("invalid-app-argument",{appName:a});return e[a]()};void 0!==s.serviceProps&&y(u,s.serviceProps),i[a]=u,e.prototype[a]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._getService.bind(this,a).apply(this,s.multipleInstances?e:[])}}for(var c=0,l=Object.keys(n);c<l.length;c++)n[l[c]]._addComponent(s);return"PUBLIC"===s.type?i[a]:null}return i.default=i,Object.defineProperty(i,"apps",{get:function(){return Object.keys(n).map(function(e){return n[e]})}}),o.App=e,i}(Z);return n.INTERNAL=a(a({},n.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){y(n,e)},createSubscribe:x,ErrorFactory:I,deepExtend:y}),n}(),X=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(e){if((null==(n=e.getComponent())?void 0:n.type)!=="VERSION")return null;var n,r=e.getImmediate();return r.library+"/"+r.version}).filter(function(e){return e}).join(" ")},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if("object"==typeof self&&self.self===self&&void 0!==self.firebase){W.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Y=self.firebase.SDK_VERSION;Y&&Y.indexOf("LITE")>=0&&W.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Q=$.initializeApp;$.initializeApp=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return E()&&W.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Q.apply(void 0,e)},$.INTERNAL.registerComponent(new C("platform-logger",function(e){return new X(e)},"PRIVATE")),$.registerVersion(K,"0.6.30",void 0),$.registerVersion("fire-js","");var J=$,tt="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */J.registerVersion("firebase",tt,"app"),J.SDK_VERSION=tt;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var te=function(e,n){return(te=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])})(e,n)};function tn(e){var n="function"==typeof Symbol&&Symbol.iterator,r=n&&e[n],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}var tr,ti,to,ts,ta,tu,tc="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{},tl=tl||{},th=tc||self;function tf(){}function td(e){var n=typeof e;return"array"==(n="object"!=n?n:e?Array.isArray(e)?"array":n:"null")||"object"==n&&"number"==typeof e.length}function tp(e){var n=typeof e;return"object"==n&&null!=e||"function"==n}function tm(e,n,r){return e.call.apply(e.bind,arguments)}function tg(e,n,r){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),e.apply(n,r)}}return function(){return e.apply(n,arguments)}}function tv(e,n,r){return(tv=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?tm:tg).apply(null,arguments)}function ty(e,n){var r=Array.prototype.slice.call(arguments,1);return function(){var n=r.slice();return n.push.apply(n,arguments),e.apply(this,n)}}function tb(e,n){function r(){}r.prototype=n.prototype,e.Z=n.prototype,e.prototype=new r,e.prototype.constructor=e,e.Vb=function(e,r,i){for(var o=Array(arguments.length-2),s=2;s<arguments.length;s++)o[s-2]=arguments[s];return n.prototype[r].apply(e,o)}}function tw(){this.s=this.s,this.o=this.o}tw.prototype.s=!1,tw.prototype.na=function(){this.s||(this.s=!0,this.M())},tw.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var tE=Array.prototype.indexOf?function(e,n){return Array.prototype.indexOf.call(e,n,void 0)}:function(e,n){if("string"==typeof e)return"string"!=typeof n||1!=n.length?-1:e.indexOf(n,0);for(var r=0;r<e.length;r++)if(r in e&&e[r]===n)return r;return -1},tT=Array.prototype.forEach?function(e,n,r){Array.prototype.forEach.call(e,n,r)}:function(e,n,r){for(var i=e.length,o="string"==typeof e?e.split(""):e,s=0;s<i;s++)s in o&&n.call(r,o[s],s,e)};function tI(e){return Array.prototype.concat.apply([],arguments)}function tS(e){var n=e.length;if(0<n){for(var r=Array(n),i=0;i<n;i++)r[i]=e[i];return r}return[]}function t_(e){return/^[\s\xa0]*$/.test(e)}var tx=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function tA(e,n){return -1!=e.indexOf(n)}function tk(e,n){return e<n?-1:e>n?1:0}t:{var tN=th.navigator;if(tN){var tC=tN.userAgent;if(tC){or=tC;break t}}or=""}function tD(e,n,r){for(var i in e)n.call(r,e[i],i,e)}function tP(e){var n={};for(var r in e)n[r]=e[r];return n}var tR="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tO(e,n){for(var r,i,o=1;o<arguments.length;o++){for(r in i=arguments[o])e[r]=i[r];for(var s=0;s<tR.length;s++)r=tR[s],Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}}function tL(e){return tL[" "](e),e}tL[" "]=tf;var tM=tA(or,"Opera"),tj=tA(or,"Trident")||tA(or,"MSIE"),tV=tA(or,"Edge"),tF=tV||tj,tU=tA(or,"Gecko")&&!(tA(or.toLowerCase(),"webkit")&&!tA(or,"Edge"))&&!(tA(or,"Trident")||tA(or,"MSIE"))&&!tA(or,"Edge"),tB=tA(or.toLowerCase(),"webkit")&&!tA(or,"Edge");function tq(){var e=th.document;return e?e.documentMode:void 0}t:{var tz,tK="",tG=(tz=or,tU?/rv:([^\);]+)(\)|;)/.exec(tz):tV?/Edge\/([\d\.]+)/.exec(tz):tj?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(tz):tB?/WebKit\/(\S+)/.exec(tz):tM?/(?:Version)[ \/]?(\S+)/.exec(tz):void 0);if(tG&&(tK=tG?tG[1]:""),tj){var tH=tq();if(null!=tH&&tH>parseFloat(tK)){oi=String(tH);break t}}oi=tK}var tW={},tZ=th.document&&tj&&(tq()||parseInt(oi,10))||void 0,t$=function(){if(!th.addEventListener||!Object.defineProperty)return!1;var e=!1,n=Object.defineProperty({},"passive",{get:function(){e=!0}});try{th.addEventListener("test",tf,n),th.removeEventListener("test",tf,n)}catch(e){}return e}();function tX(e,n){this.type=e,this.g=this.target=n,this.defaultPrevented=!1}function tY(e,n){if(tX.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var r=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=n,n=e.relatedTarget){if(tU){t:{try{tL(n.nodeName);var o=!0;break t}catch(e){}o=!1}o||(n=null)}}else"mouseover"==r?n=e.fromElement:"mouseout"==r&&(n=e.toElement);this.relatedTarget=n,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:tQ[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&tY.Z.h.call(this)}}tX.prototype.h=function(){this.defaultPrevented=!0},tb(tY,tX);var tQ={2:"touch",3:"pen",4:"mouse"};tY.prototype.h=function(){tY.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var tJ="closure_listenable_"+(1e6*Math.random()|0),t0=0;function t1(e,n,r,i,o){this.listener=e,this.proxy=null,this.src=n,this.type=r,this.capture=!!i,this.ia=o,this.key=++t0,this.ca=this.fa=!1}function t2(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function t3(e){this.src=e,this.g={},this.h=0}function t4(e,n){var r=n.type;if(r in e.g){var i,o=e.g[r],s=tE(o,n);(i=0<=s)&&Array.prototype.splice.call(o,s,1),i&&(t2(n),0==e.g[r].length&&(delete e.g[r],e.h--))}}function t5(e,n,r,i){for(var o=0;o<e.length;++o){var s=e[o];if(!s.ca&&s.listener==n&&!!r==s.capture&&s.ia==i)return o}return -1}t3.prototype.add=function(e,n,r,i,o){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=t5(e,n,i,o);return -1<a?(n=e[a],r||(n.fa=!1)):((n=new t1(n,this.src,s,!!i,o)).fa=r,e.push(n)),n};var t6="closure_lm_"+(1e6*Math.random()|0),t8={};function t9(e,n,r,i,o,s){if(!n)throw Error("Invalid event type");var a=tp(o)?!!o.capture:!!o,u=en(e);if(u||(e[t6]=u=new t3(e)),(r=u.add(n,r,i,a,s)).proxy)return r;if(i=function e(n){return ee.call(e.src,e.listener,n)},r.proxy=i,i.src=e,i.listener=r,e.addEventListener)t$||(o=a),void 0===o&&(o=!1),e.addEventListener(n.toString(),i,o);else if(e.attachEvent)e.attachEvent(et(n.toString()),i);else if(e.addListener&&e.removeListener)e.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return r}function t7(e){if("number"!=typeof e&&e&&!e.ca){var n=e.src;if(n&&n[tJ])t4(n.i,e);else{var r=e.type,i=e.proxy;n.removeEventListener?n.removeEventListener(r,i,e.capture):n.detachEvent?n.detachEvent(et(r),i):n.addListener&&n.removeListener&&n.removeListener(i),(r=en(n))?(t4(r,e),0==r.h&&(r.src=null,n[t6]=null)):t2(e)}}}function et(e){return e in t8?t8[e]:t8[e]="on"+e}function ee(e,n){if(e.ca)e=!0;else{n=new tY(n,this);var r=e.listener,i=e.ia||e.src;e.fa&&t7(e),e=r.call(i,n)}return e}function en(e){return(e=e[t6])instanceof t3?e:null}var er="__closure_events_fn_"+(1e9*Math.random()>>>0);function ei(e){return"function"==typeof e?e:(e[er]||(e[er]=function(n){return e.handleEvent(n)}),e[er])}function eo(){tw.call(this),this.i=new t3(this),this.P=this,this.I=null}function es(e,n){var r,i=e.I;if(i)for(r=[];i;i=i.I)r.push(i);if(e=e.P,i=n.type||n,"string"==typeof n)n=new tX(n,e);else if(n instanceof tX)n.target=n.target||e;else{var o=n;tO(n=new tX(i,e),o)}if(o=!0,r)for(var s=r.length-1;0<=s;s--){var a=n.g=r[s];o=ea(a,i,!0,n)&&o}if(o=ea(a=n.g=e,i,!0,n)&&o,o=ea(a,i,!1,n)&&o,r)for(s=0;s<r.length;s++)o=ea(a=n.g=r[s],i,!1,n)&&o}function ea(e,n,r,i){if(!(n=e.i.g[String(n)]))return!0;n=n.concat();for(var o=!0,s=0;s<n.length;++s){var a=n[s];if(a&&!a.ca&&a.capture==r){var u=a.listener,c=a.ia||a.src;a.fa&&t4(e.i,a),o=!1!==u.call(c,i)&&o}}return o&&!i.defaultPrevented}tb(eo,tw),eo.prototype[tJ]=!0,eo.prototype.removeEventListener=function(e,n,r,i){!function e(n,r,i,o,s){if(Array.isArray(r))for(var a=0;a<r.length;a++)e(n,r[a],i,o,s);else(o=tp(o)?!!o.capture:!!o,i=ei(i),n&&n[tJ])?(n=n.i,(r=String(r).toString())in n.g&&-1<(i=t5(a=n.g[r],i,o,s))&&(t2(a[i]),Array.prototype.splice.call(a,i,1),0==a.length&&(delete n.g[r],n.h--))):n&&(n=en(n))&&(r=n.g[r.toString()],n=-1,r&&(n=t5(r,i,o,s)),(i=-1<n?r[n]:null)&&t7(i))}(this,e,n,r,i)},eo.prototype.M=function(){if(eo.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var r=n.g[e],i=0;i<r.length;i++)t2(r[i]);delete n.g[e],n.h--}}this.I=null},eo.prototype.N=function(e,n,r,i){return this.i.add(String(e),n,!1,r,i)},eo.prototype.O=function(e,n,r,i){return this.i.add(String(e),n,!0,r,i)};var eu=th.JSON.stringify,ec=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,n){var r=el.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r},e}(),el=new(function(){function e(e,n){this.i=e,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())(function(){return new eh},function(e){return e.reset()}),eh=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,n){this.h=e,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function ef(e,n){var r;os||(r=th.Promise.resolve(void 0),os=function(){r.then(em)}),ed||(os(),ed=!0),ep.add(e,n)}var ed=!1,ep=new ec;function em(){for(;n=null,(e=ep).g&&(n=e.g,e.g=e.g.next,e.g||(e.h=null),n.next=null),r=n;){try{r.h.call(r.g)}catch(e){!function(e){th.setTimeout(function(){throw e},0)}(e)}var e,n,r,i=el;i.j(r),100>i.h&&(i.h++,r.next=i.g,i.g=r)}ed=!1}function eg(e,n){eo.call(this),this.h=e||1,this.g=n||th,this.j=tv(this.kb,this),this.l=Date.now()}function ev(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function ey(e,n,r){if("function"==typeof e)r&&(e=tv(e,r));else if(e&&"function"==typeof e.handleEvent)e=tv(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(n)?-1:th.setTimeout(e,n||0)}tb(eg,eo),(tu=eg.prototype).da=!1,tu.S=null,tu.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),es(this,"tick"),this.da&&(ev(this),this.start()))}},tu.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},tu.M=function(){eg.Z.M.call(this),ev(this),delete this.g};var eb=function(e){function n(n,r){var i=e.call(this)||this;return i.m=n,i.j=r,i.h=null,i.i=!1,i.g=null,i}return!function(e,n){if("function"!=typeof n&&null!==n)throw TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}te(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}(n,e),n.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:function e(n){n.g=ey(function(){n.g=null,n.i&&(n.i=!1,e(n))},n.j);var r=n.h;n.h=null,n.m.apply(null,r)}(this)},n.prototype.M=function(){e.prototype.M.call(this),this.g&&(th.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},n}(tw);function ew(e){tw.call(this),this.h=e,this.g={}}tb(ew,tw);var eE=[];function eT(e,n,r,i){Array.isArray(r)||(r&&(eE[0]=r.toString()),r=eE);for(var o=0;o<r.length;o++){var s=function e(n,r,i,o,s){if(o&&o.once)return function e(n,r,i,o,s){if(Array.isArray(r)){for(var a=0;a<r.length;a++)e(n,r[a],i,o,s);return null}return i=ei(i),n&&n[tJ]?n.O(r,i,tp(o)?!!o.capture:!!o,s):t9(n,r,i,!0,o,s)}(n,r,i,o,s);if(Array.isArray(r)){for(var a=0;a<r.length;a++)e(n,r[a],i,o,s);return null}return i=ei(i),n&&n[tJ]?n.N(r,i,tp(o)?!!o.capture:!!o,s):t9(n,r,i,!1,o,s)}(n,r[o],i||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function eI(e){tD(e.g,function(e,n){this.g.hasOwnProperty(n)&&t7(e)},e),e.g={}}function eS(){this.g=!0}function e_(e,n,r,i){e.info(function(){return"XMLHTTP TEXT ("+n+"): "+function(e,n){if(!e.g)return n;if(!n)return null;try{var r=JSON.parse(n);if(r){for(e=0;e<r.length;e++)if(Array.isArray(r[e])){var i=r[e];if(!(2>i.length)){var o=i[1];if(Array.isArray(o)&&!(1>o.length)){var s=o[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<o.length;a++)o[a]=""}}}}return eu(r)}catch(e){return n}}(e,r)+(i?" "+i:"")})}ew.prototype.M=function(){ew.Z.M.call(this),eI(this)},ew.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},eS.prototype.Aa=function(){this.g=!1},eS.prototype.info=function(){};var ex={},eA=null;function ek(){return eA=eA||new eo}function eN(e){tX.call(this,ex.Ma,e)}function eC(e){var n=ek();es(n,new eN(n,e))}function eD(e,n){tX.call(this,ex.STAT_EVENT,e),this.stat=n}function eP(e){var n=ek();es(n,new eD(n,e))}function eR(e,n){tX.call(this,ex.Na,e),this.size=n}function eO(e,n){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return th.setTimeout(function(){e()},n)}ex.Ma="serverreachability",tb(eN,tX),ex.STAT_EVENT="statevent",tb(eD,tX),ex.Na="timingevent",tb(eR,tX);var eL={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},eM={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ej(){}function eV(e){return e.h||(e.h=e.i())}function eF(){}ej.prototype.h=null;var eU={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function eB(){tX.call(this,"d")}function eq(){tX.call(this,"c")}function ez(){}function eK(e,n,r,i){this.l=e,this.j=n,this.m=r,this.X=i||1,this.V=new ew(this),this.P=eH,e=tF?125:void 0,this.W=new eg(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new eG}function eG(){this.i=null,this.g="",this.h=!1}tb(eB,tX),tb(eq,tX),tb(ez,ej),ez.prototype.g=function(){return new XMLHttpRequest},ez.prototype.i=function(){return{}},oa=new ez;var eH=45e3,eW={},eZ={};function e$(e,n,r){e.K=1,e.v=na(ne(n)),e.s=r,e.U=!0,eX(e,null)}function eX(e,n){e.F=Date.now(),eJ(e),e.A=ne(e.v);var r=e.A,i=e.X;Array.isArray(i)||(i=[String(i)]),nw(r.h,"t",i),e.C=0,r=e.l.H,e.h=new eG,e.g=rl(e.l,r?n:null,!e.s),0<e.O&&(e.L=new eb(tv(e.Ia,e,e.g),e.O)),eT(e.V,e.g,"readystatechange",e.gb),n=e.H?tP(e.H):{},e.s?(e.u||(e.u="POST"),n["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,n)):(e.u="GET",e.g.ea(e.A,e.u,null,n)),eC(1),function(e,n,r,i,o,s){e.info(function(){if(e.g){if(s)for(var a="",u=s.split("&"),c=0;c<u.length;c++){var l=u[c].split("=");if(1<l.length){var h=l[0];l=l[1];var f=h.split("_");a=2<=f.length&&"type"==f[1]?a+(h+"=")+l+"&":a+(h+"=redacted&")}}else a=null}else a=s;return"XMLHTTP REQ ("+i+") [attempt "+o+"]: "+n+"\n"+r+"\n"+a})}(e.j,e.u,e.A,e.m,e.X,e.s)}function eY(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function eQ(e,n,r){for(var i,o=!0;!e.I&&e.C<r.length;)if((i=function(e,n){var r=e.C,i=n.indexOf("\n",r);return -1==i?eZ:isNaN(r=Number(n.substring(r,i)))?eW:(i+=1)+r>n.length?eZ:(n=n.substr(i,r),e.C=i+r,n)}(e,r))==eZ){4==n&&(e.o=4,eP(14),o=!1),e_(e.j,e.m,null,"[Incomplete Response]");break}else if(i==eW){e.o=4,eP(15),e_(e.j,e.m,r,"[Invalid Chunk]"),o=!1;break}else e_(e.j,e.m,i,null),e4(e,i);eY(e)&&i!=eZ&&i!=eW&&(e.h.g="",e.C=0),4!=n||0!=r.length||e.h.h||(e.o=1,eP(16),o=!1),e.i=e.i&&o,o?0<r.length&&!e.aa&&(e.aa=!0,(n=e.l).g==e&&n.$&&!n.L&&(n.h.info("Great, no buffering proxy detected. Bytes received: "+r.length),rn(n),n.L=!0,eP(11))):(e_(e.j,e.m,r,"[Invalid Chunked Response]"),e3(e),e2(e))}function eJ(e){e.Y=Date.now()+e.P,e0(e,e.P)}function e0(e,n){if(null!=e.B)throw Error("WatchDog timer not null");e.B=eO(tv(e.eb,e),n)}function e1(e){e.B&&(th.clearTimeout(e.B),e.B=null)}function e2(e){0==e.l.G||e.I||ro(e.l,e)}function e3(e){e1(e);var n=e.L;n&&"function"==typeof n.na&&n.na(),e.L=null,ev(e.W),eI(e.V),e.g&&(n=e.g,e.g=null,n.abort(),n.na())}function e4(e,n){try{var r=e.l;if(0!=r.G&&(r.g==e||nA(r.i,e))){if(r.I=e.N,!e.J&&nA(r.i,e)&&3==r.G){try{var i=r.Ca.g.parse(n)}catch(e){i=null}if(Array.isArray(i)&&3==i.length){var o=i;if(0==o[0]){t:if(!r.u){if(r.g){if(r.g.F+3e3<e.F)ri(r),n3(r);else break t}re(r),eP(18)}}else r.ta=o[1],0<r.ta-r.U&&37500>o[2]&&r.N&&0==r.A&&!r.v&&(r.v=eO(tv(r.ab,r),6e3));if(1>=nx(r.i)&&r.ka){try{r.ka()}catch(e){}r.ka=void 0}}else ra(r,11)}else if((e.J||r.g==e)&&ri(r),!t_(n))for(o=r.Ca.g.parse(n),n=0;n<o.length;n++){var s=o[n];if(r.U=s[0],s=s[1],2==r.G){if("c"==s[0]){r.J=s[1],r.la=s[2];var a=s[3];null!=a&&(r.ma=a,r.h.info("VER="+r.ma));var u=s[4];null!=u&&(r.za=u,r.h.info("SVER="+r.za));var c=s[5];null!=c&&"number"==typeof c&&0<c&&(i=1.5*c,r.K=i,r.h.info("backChannelRequestTimeoutMs_="+i)),i=r;var l=e.g;if(l){var h=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(h){var f=i.i;!f.g&&(tA(h,"spdy")||tA(h,"quic")||tA(h,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(nk(f,f.h),f.h=null))}if(i.D){var d=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(i.sa=d,ns(i.F,i.D,d))}}if(r.G=3,r.j&&r.j.xa(),r.$&&(r.O=Date.now()-e.F,r.h.info("Handshake RTT: "+r.O+"ms")),(i=r).oa=rc(i,i.H?i.la:null,i.W),e.J){nN(i.i,e);var p=i.K;p&&e.setTimeout(p),e.B&&(e1(e),eJ(e)),i.g=e}else rt(i);0<r.l.length&&n6(r)}else"stop"!=s[0]&&"close"!=s[0]||ra(r,7)}else 3==r.G&&("stop"==s[0]||"close"==s[0]?"stop"==s[0]?ra(r,7):n2(r):"noop"!=s[0]&&r.j&&r.j.wa(s),r.A=0)}}eC(4)}catch(e){}}function e5(e,n){if(e.forEach&&"function"==typeof e.forEach)e.forEach(n,void 0);else if(td(e)||"string"==typeof e)tT(e,n,void 0);else{if(e.T&&"function"==typeof e.T)var r=e.T();else if(e.R&&"function"==typeof e.R)r=void 0;else if(td(e)||"string"==typeof e){r=[];for(var i=e.length,o=0;o<i;o++)r.push(o)}else for(o in r=[],i=0,e)r[i++]=o;o=(i=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(td(e)){for(var n=[],r=e.length,i=0;i<r;i++)n.push(e[i]);return n}for(i in n=[],r=0,e)n[r++]=e[i];return n}(e)).length;for(var s=0;s<o;s++)n.call(void 0,i[s],r&&r[s],e)}}function e6(e,n){this.h={},this.g=[],this.i=0;var r=arguments.length;if(1<r){if(r%2)throw Error("Uneven number of arguments");for(var i=0;i<r;i+=2)this.set(arguments[i],arguments[i+1])}else if(e){if(e instanceof e6)for(r=e.T(),i=0;i<r.length;i++)this.set(r[i],e.get(r[i]));else for(i in e)this.set(i,e[i])}}function e8(e){if(e.i!=e.g.length){for(var n=0,r=0;n<e.g.length;){var i=e.g[n];e9(e.h,i)&&(e.g[r++]=i),n++}e.g.length=r}if(e.i!=e.g.length){var o={};for(r=n=0;n<e.g.length;)e9(o,i=e.g[n])||(e.g[r++]=i,o[i]=1),n++;e.g.length=r}}function e9(e,n){return Object.prototype.hasOwnProperty.call(e,n)}(tu=eK.prototype).setTimeout=function(e){this.P=e},tu.gb=function(e){e=e.target;var n=this.L;n&&3==nY(e)?n.l():this.Ia(e)},tu.Ia=function(e){try{if(e==this.g)t:{var n=nY(this.g),r=this.g.Da(),i=this.g.ba();if(!(3>n)&&(3!=n||tF||this.g&&(this.h.h||this.g.ga()||nQ(this.g)))){this.I||4!=n||7==r||(8==r||0>=i?eC(3):eC(2)),e1(this);var o=this.g.ba();this.N=o;e:if(eY(this)){var s=nQ(this.g);e="";var a=s.length,u=4==nY(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){e3(this),e2(this);var c="";break e}this.h.i=new th.TextDecoder}for(r=0;r<a;r++)this.h.h=!0,e+=this.h.i.decode(s[r],{stream:u&&r==a-1});s.splice(0,a),this.h.g+=e,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==o,function(e,n,r,i,o,s,a){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+o+"]: "+n+"\n"+r+"\n"+s+" "+a})}(this.j,this.u,this.A,this.m,this.X,n,o),this.i){if(this.$&&!this.J){e:{if(this.g){var l,h=this.g;if((l=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!t_(l)){var f=l;break e}}f=null}if(o=f)e_(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,e4(this,o);else{this.i=!1,this.o=3,eP(12),e3(this),e2(this);break t}}this.U?(eQ(this,n,c),tF&&this.i&&3==n&&(eT(this.V,this.W,"tick",this.fb),this.W.start())):(e_(this.j,this.m,c,null),e4(this,c)),4==n&&e3(this),this.i&&!this.I&&(4==n?ro(this.l,this):(this.i=!1,eJ(this)))}else 400==o&&0<c.indexOf("Unknown SID")?(this.o=3,eP(12)):(this.o=0,eP(13)),e3(this),e2(this)}}}catch(e){}finally{}},tu.fb=function(){if(this.g){var e=nY(this.g),n=this.g.ga();this.C<n.length&&(e1(this),eQ(this,e,n),this.i&&4!=e&&eJ(this))}},tu.cancel=function(){this.I=!0,e3(this)},tu.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,n){e.info(function(){return"TIMEOUT: "+n})}(this.j,this.A),2!=this.K&&(eC(3),eP(17)),e3(this),this.o=2,e2(this)):e0(this,this.Y-e)},(tu=e6.prototype).R=function(){e8(this);for(var e=[],n=0;n<this.g.length;n++)e.push(this.h[this.g[n]]);return e},tu.T=function(){return e8(this),this.g.concat()},tu.get=function(e,n){return e9(this.h,e)?this.h[e]:n},tu.set=function(e,n){e9(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=n},tu.forEach=function(e,n){for(var r=this.T(),i=0;i<r.length;i++){var o=r[i],s=this.get(o);e.call(n,s,o,this)}};var e7=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function nt(e,n){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof nt){this.g=void 0!==n?n:e.g,nn(this,e.j),this.s=e.s,nr(this,e.i),ni(this,e.m),this.l=e.l,n=e.h;var r=new ng;r.i=n.i,n.g&&(r.g=new e6(n.g),r.h=n.h),no(this,r),this.o=e.o}else e&&(r=String(e).match(e7))?(this.g=!!n,nn(this,r[1]||"",!0),this.s=nu(r[2]||""),nr(this,r[3]||"",!0),ni(this,r[4]),this.l=nu(r[5]||"",!0),no(this,r[6]||"",!0),this.o=nu(r[7]||"")):(this.g=!!n,this.h=new ng(null,this.g))}function ne(e){return new nt(e)}function nn(e,n,r){e.j=r?nu(n,!0):n,e.j&&(e.j=e.j.replace(/:$/,""))}function nr(e,n,r){e.i=r?nu(n,!0):n}function ni(e,n){if(n){if(isNaN(n=Number(n))||0>n)throw Error("Bad port number "+n);e.m=n}else e.m=null}function no(e,n,r){var i,o;n instanceof ng?(e.h=n,i=e.h,(o=e.g)&&!i.j&&(nv(i),i.i=null,i.g.forEach(function(e,n){var r=n.toLowerCase();n!=r&&(ny(this,n),nw(this,r,e))},i)),i.j=o):(r||(n=nc(n,np)),e.h=new ng(n,e.g))}function ns(e,n,r){e.h.set(n,r)}function na(e){return ns(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function nu(e,n){return e?n?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function nc(e,n,r){return"string"==typeof e?(e=encodeURI(e).replace(n,nl),r&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function nl(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}nt.prototype.toString=function(){var e=[],n=this.j;n&&e.push(nc(n,nh,!0),":");var r=this.i;return(r||"file"==n)&&(e.push("//"),(n=this.s)&&e.push(nc(n,nh,!0),"@"),e.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&e.push(":",String(r))),(r=this.l)&&(this.i&&"/"!=r.charAt(0)&&e.push("/"),e.push(nc(r,"/"==r.charAt(0)?nd:nf,!0))),(r=this.h.toString())&&e.push("?",r),(r=this.o)&&e.push("#",nc(r,nm)),e.join("")};var nh=/[#\/\?@]/g,nf=/[#\?:]/g,nd=/[#\?]/g,np=/[#\?@]/g,nm=/#/g;function ng(e,n){this.h=this.g=null,this.i=e||null,this.j=!!n}function nv(e){e.g||(e.g=new e6,e.h=0,e.i&&function(e,n){if(e){e=e.split("&");for(var r=0;r<e.length;r++){var i=e[r].indexOf("="),o=null;if(0<=i){var s=e[r].substring(0,i);o=e[r].substring(i+1)}else s=e[r];n(s,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.i,function(n,r){e.add(decodeURIComponent(n.replace(/\+/g," ")),r)}))}function ny(e,n){nv(e),n=nE(e,n),e9(e.g.h,n)&&(e.i=null,e.h-=e.g.get(n).length,e9((e=e.g).h,n)&&(delete e.h[n],e.i--,e.g.length>2*e.i&&e8(e)))}function nb(e,n){return nv(e),n=nE(e,n),e9(e.g.h,n)}function nw(e,n,r){ny(e,n),0<r.length&&(e.i=null,e.g.set(nE(e,n),tS(r)),e.h+=r.length)}function nE(e,n){return n=String(n),e.j&&(n=n.toLowerCase()),n}(tu=ng.prototype).add=function(e,n){nv(this),this.i=null,e=nE(this,e);var r=this.g.get(e);return r||this.g.set(e,r=[]),r.push(n),this.h+=1,this},tu.forEach=function(e,n){nv(this),this.g.forEach(function(r,i){tT(r,function(r){e.call(n,r,i,this)},this)},this)},tu.T=function(){nv(this);for(var e=this.g.R(),n=this.g.T(),r=[],i=0;i<n.length;i++)for(var o=e[i],s=0;s<o.length;s++)r.push(n[i]);return r},tu.R=function(e){nv(this);var n=[];if("string"==typeof e)nb(this,e)&&(n=tI(n,this.g.get(nE(this,e))));else{e=this.g.R();for(var r=0;r<e.length;r++)n=tI(n,e[r])}return n},tu.set=function(e,n){return nv(this),this.i=null,nb(this,e=nE(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[n]),this.h+=1,this},tu.get=function(e,n){return e&&0<(e=this.R(e)).length?String(e[0]):n},tu.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],n=this.g.T(),r=0;r<n.length;r++){var i=n[r],o=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var a=o;""!==i[s]&&(a+="="+encodeURIComponent(String(i[s]))),e.push(a)}}return this.i=e.join("&")};var nT=function(e,n){this.h=e,this.g=n};function nI(e){this.l=e||nS,e=th.PerformanceNavigationTiming?0<(e=th.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(th.g&&th.g.Ea&&th.g.Ea()&&th.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var nS=10;function n_(e){return!!e.h||!!e.g&&e.g.size>=e.j}function nx(e){return e.h?1:e.g?e.g.size:0}function nA(e,n){return e.h?e.h==n:!!e.g&&e.g.has(n)}function nk(e,n){e.g?e.g.add(n):e.h=n}function nN(e,n){e.h&&e.h==n?e.h=null:e.g&&e.g.has(n)&&e.g.delete(n)}function nC(e){var n,r;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var i=e.i;try{for(var o=tn(e.g.values()),s=o.next();!s.done;s=o.next()){var a=s.value;i=i.concat(a.D)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}return tS(e.i)}function nD(){}function nP(){this.g=new nD}function nR(e,n,r,i,o){try{n.onload=null,n.onerror=null,n.onabort=null,n.ontimeout=null,o(i)}catch(e){}}function nO(e){this.l=e.$b||null,this.j=e.ib||!1}function nL(e,n){eo.call(this),this.D=e,this.u=n,this.m=void 0,this.readyState=nM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nI.prototype.cancel=function(){var e,n;if(this.i=nC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var r=tn(this.g.values()),i=r.next();!i.done;i=r.next())i.value.cancel()}catch(n){e={error:n}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}this.g.clear()}},nD.prototype.stringify=function(e){return th.JSON.stringify(e,void 0)},nD.prototype.parse=function(e){return th.JSON.parse(e,void 0)},tb(nO,ej),nO.prototype.g=function(){return new nL(this.l,this.j)},nO.prototype.i=(on={},function(){return on}),tb(nL,eo);var nM=0;function nj(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function nV(e){e.readyState=4,e.l=null,e.j=null,e.A=null,nF(e)}function nF(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(tu=nL.prototype).open=function(e,n){if(this.readyState!=nM)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=n,this.readyState=1,nF(this)},tu.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var n={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(n.body=e),(this.D||th).fetch(new Request(this.B,n)).then(this.Va.bind(this),this.ha.bind(this))},tu.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,nV(this)),this.readyState=nM},tu.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,nF(this)),this.g&&(this.readyState=3,nF(this),this.g))){if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==th.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;nj(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))}},tu.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var n=e.value?e.value:new Uint8Array(0);(n=this.A.decode(n,{stream:!e.done}))&&(this.response=this.responseText+=n)}e.done?nV(this):nF(this),3==this.readyState&&nj(this)}},tu.Ua=function(e){this.g&&(this.response=this.responseText=e,nV(this))},tu.Ta=function(e){this.g&&(this.response=e,nV(this))},tu.ha=function(){this.g&&nV(this)},tu.setRequestHeader=function(e,n){this.v.append(e,n)},tu.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},tu.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],n=this.h.entries(),r=n.next();!r.done;)e.push((r=r.value)[0]+": "+r[1]),r=n.next();return e.join("\r\n")},Object.defineProperty(nL.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var nU=th.JSON.parse;function nB(e){eo.call(this),this.headers=new e6,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=nq,this.K=this.L=!1}tb(nB,eo);var nq="",nz=/^https?$/i,nK=["POST","PUT"];function nG(e){return"content-type"==e.toLowerCase()}function nH(e,n){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=n,e.m=5,nW(e),n$(e)}function nW(e){e.D||(e.D=!0,es(e,"complete"),es(e,"error"))}function nZ(e){if(e.h&&void 0!==tl&&(!e.C[1]||4!=nY(e)||2!=e.ba())){if(e.v&&4==nY(e))ey(e.Fa,0,e);else if(es(e,"readystatechange"),4==nY(e)){e.h=!1;try{var n,r,i=e.ba();t:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var o=!0;break t;default:o=!1}if(!(n=o)){if(r=0===i){var s=String(e.H).match(e7)[1]||null;if(!s&&th.self&&th.self.location){var a=th.self.location.protocol;s=a.substr(0,a.length-1)}r=!nz.test(s?s.toLowerCase():"")}n=r}if(n)es(e,"complete"),es(e,"success");else{e.m=6;try{var u=2<nY(e)?e.g.statusText:""}catch(e){u=""}e.j=u+" ["+e.ba()+"]",nW(e)}}finally{n$(e)}}}}function n$(e,n){if(e.g){nX(e);var r=e.g,i=e.C[0]?tf:null;e.g=null,e.C=null,n||es(e,"ready");try{r.onreadystatechange=i}catch(e){}}}function nX(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(th.clearTimeout(e.A),e.A=null)}function nY(e){return e.g?e.g.readyState:0}function nQ(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case nq:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function nJ(e,n,r){t:{for(o in r){var i,o=!1;break t}o=!0}o||(i="",tD(r,function(e,n){i+=n+":"+e+"\r\n"}),r=i,"string"==typeof e?null!=r&&encodeURIComponent(String(r)):ns(e,n,r))}function n0(e,n,r){return r&&r.internalChannelParams&&r.internalChannelParams[e]||n}function n1(e){this.za=0,this.l=[],this.h=new eS,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=n0("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=n0("baseRetryDelayMs",5e3,e),this.$a=n0("retryDelaySeedMs",1e4,e),this.Ya=n0("forwardChannelMaxRetries",2,e),this.ra=n0("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new nI(e&&e.concurrentRequestLimit),this.Ca=new nP,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function n2(e){if(n4(e),3==e.G){var n=e.V++,r=ne(e.F);ns(r,"SID",e.J),ns(r,"RID",n),ns(r,"TYPE","terminate"),n9(e,r),(n=new eK(e,e.h,n,void 0)).K=2,n.v=na(ne(r)),r=!1,th.navigator&&th.navigator.sendBeacon&&(r=th.navigator.sendBeacon(n.v.toString(),"")),!r&&th.Image&&((new Image).src=n.v,r=!0),r||(n.g=rl(n.l,null),n.g.ea(n.v)),n.F=Date.now(),eJ(n)}ru(e)}function n3(e){e.g&&(rn(e),e.g.cancel(),e.g=null)}function n4(e){n3(e),e.u&&(th.clearTimeout(e.u),e.u=null),ri(e),e.i.cancel(),e.m&&("number"==typeof e.m&&th.clearTimeout(e.m),e.m=null)}function n5(e,n){e.l.push(new nT(e.Za++,n)),3==e.G&&n6(e)}function n6(e){n_(e.i)||e.m||(e.m=!0,ef(e.Ha,e),e.C=0)}function n8(e,n){r=n?n.m:e.V++;var r,i=ne(e.F);ns(i,"SID",e.J),ns(i,"RID",r),ns(i,"AID",e.U),n9(e,i),e.o&&e.s&&nJ(i,e.o,e.s),r=new eK(e,e.h,r,e.C+1),null===e.o&&(r.H=e.s),n&&(e.l=n.D.concat(e.l)),n=n7(e,r,1e3),r.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),nk(e.i,r),e$(r,i,n)}function n9(e,n){e.j&&e5({},function(e,r){ns(n,r,e)})}function n7(e,n,r){r=Math.min(e.l.length,r);var i=e.j?tv(e.j.Oa,e.j,e):null;t:for(var o=e.l,s=-1;;){var a=["count="+r];-1==s?0<r?(s=o[0].h,a.push("ofs="+s)):s=0:a.push("ofs="+s);for(var u=!0,c=0;c<r;c++){var l=o[c].h,h=o[c].g;if(0>(l-=s))s=Math.max(0,o[c].h-100),u=!1;else try{!function(e,n,r){var i=r||"";try{e5(e,function(e,r){var o=e;tp(e)&&(o=eu(e)),n.push(i+r+"="+encodeURIComponent(o))})}catch(e){throw n.push(i+"type="+encodeURIComponent("_badmap")),e}}(h,a,"req"+l+"_")}catch(e){i&&i(h)}}if(u){i=a.join("&");break t}}return e=e.l.splice(0,r),n.D=e,i}function rt(e){e.g||e.u||(e.Y=1,ef(e.Ga,e),e.A=0)}function re(e){return!e.g&&!e.u&&!(3<=e.A)&&(e.Y++,e.u=eO(tv(e.Ga,e),rs(e,e.A)),e.A++,!0)}function rn(e){null!=e.B&&(th.clearTimeout(e.B),e.B=null)}function rr(e){e.g=new eK(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var n=ne(e.oa);ns(n,"RID","rpc"),ns(n,"SID",e.J),ns(n,"CI",e.N?"0":"1"),ns(n,"AID",e.U),n9(e,n),ns(n,"TYPE","xmlhttp"),e.o&&e.s&&nJ(n,e.o,e.s),e.K&&e.g.setTimeout(e.K);var r=e.g;e=e.la,r.K=1,r.v=na(ne(n)),r.s=null,r.U=!0,eX(r,e)}function ri(e){null!=e.v&&(th.clearTimeout(e.v),e.v=null)}function ro(e,n){var r=null;if(e.g==n){ri(e),rn(e),e.g=null;var i=2}else{if(!nA(e.i,n))return;r=n.D,nN(e.i,n),i=1}if(e.I=n.N,0!=e.G){if(n.i){if(1==i){r=n.s?n.s.length:0,n=Date.now()-n.F;var o,s,a=e.C;es(i=ek(),new eR(i,r,n,a)),n6(e)}else rt(e)}else if(3==(a=n.o)||0==a&&0<e.I||!(1==i&&(o=e,s=n,!(nx(o.i)>=o.i.j-(o.m?1:0))&&(o.m?(o.l=s.D.concat(o.l),!0):1!=o.G&&2!=o.G&&!(o.C>=(o.Xa?0:o.Ya))&&(o.m=eO(tv(o.Ha,o,s),rs(o,o.C)),o.C++,!0)))||2==i&&re(e)))switch(r&&0<r.length&&((n=e.i).i=n.i.concat(r)),a){case 1:ra(e,5);break;case 4:ra(e,10);break;case 3:ra(e,6);break;default:ra(e,2)}}}function rs(e,n){var r=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(r*=2),r*n}function ra(e,n){if(e.h.info("Error code "+n),2==n){var r=null;e.j&&(r=null);var i=tv(e.jb,e);r||(r=new nt("//www.google.com/images/cleardot.gif"),th.location&&"http"==th.location.protocol||nn(r,"https"),na(r)),function(e,n){var r=new eS;if(th.Image){var i=new Image;i.onload=ty(nR,r,i,"TestLoadImage: loaded",!0,n),i.onerror=ty(nR,r,i,"TestLoadImage: error",!1,n),i.onabort=ty(nR,r,i,"TestLoadImage: abort",!1,n),i.ontimeout=ty(nR,r,i,"TestLoadImage: timeout",!1,n),th.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else n(!1)}(r.toString(),i)}else eP(2);e.G=0,e.j&&e.j.va(n),ru(e),n4(e)}function ru(e){e.G=0,e.I=-1,e.j&&((0!=nC(e.i).length||0!=e.l.length)&&(e.i.i.length=0,tS(e.l),e.l.length=0),e.j.ua())}function rc(e,n,r){var i=(o=r)instanceof nt?ne(o):new nt(o,void 0);if(""!=i.i)n&&nr(i,n+"."+i.i),ni(i,i.m);else{var o,s,a,u,c,l,h=th.location;s=h.protocol,a=n?n+"."+h.hostname:h.hostname,u=+h.port,c=r,l=new nt(null,void 0),s&&nn(l,s),a&&nr(l,a),u&&ni(l,u),c&&(l.l=c),i=l}return e.aa&&tD(e.aa,function(e,n){ns(i,n,e)}),n=e.D,r=e.sa,n&&r&&ns(i,n,r),ns(i,"VER",e.ma),n9(e,i),i}function rl(e,n,r){if(n&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(n=new nB(r&&e.Ba&&!e.qa?new nO({ib:!0}):e.qa)).L=e.H,n}function rh(){}function rf(){if(tj&&!(10<=Number(tZ)))throw Error("Environmental error: no available transport.")}function rd(e,n){eo.call(this),this.g=new n1(n),this.l=e,this.h=n&&n.messageUrlParams||null,e=n&&n.messageHeaders||null,n&&n.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=n&&n.initMessageHeaders||null,n&&n.messageContentType&&(e?e["X-WebChannel-Content-Type"]=n.messageContentType:e={"X-WebChannel-Content-Type":n.messageContentType}),n&&n.ya&&(e?e["X-WebChannel-Client-Profile"]=n.ya:e={"X-WebChannel-Client-Profile":n.ya}),this.g.P=e,(e=n&&n.httpHeadersOverwriteParam)&&!t_(e)&&(this.g.o=e),this.A=n&&n.supportsCrossDomainXhr||!1,this.v=n&&n.sendRawJson||!1,(n=n&&n.httpSessionIdParam)&&!t_(n)&&(this.g.D=n,null!==(e=this.h)&&n in e&&n in(e=this.h)&&delete e[n]),this.j=new rg(this)}function rp(e){eB.call(this);var n=e.__sm__;if(n){t:{for(var r in n){e=r;break t}e=void 0}(this.i=e)&&(e=this.i,n=null!==n&&e in n?n[e]:void 0),this.data=n}else this.data=e}function rm(){eq.call(this),this.status=1}function rg(e){this.g=e}(tu=nB.prototype).ea=function(e,n,r,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);n=n?n.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():oa.g(),this.C=this.u?eV(this.u):eV(oa),this.g.onreadystatechange=tv(this.Fa,this);try{this.F=!0,this.g.open(n,String(e),!0),this.F=!1}catch(e){nH(this,e);return}e=r||"";var o,s,a=new e6(this.headers);i&&e5(i,function(e,n){a.set(n,e)}),i=function(e){t:{for(var n=nG,r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)if(o in i&&n.call(void 0,i[o],o,e)){n=o;break t}n=-1}return 0>n?null:"string"==typeof e?e.charAt(n):e[n]}(a.T()),r=th.FormData&&e instanceof th.FormData,!(0<=tE(nK,n))||i||r||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(e,n){this.g.setRequestHeader(n,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{nX(this),0<this.B&&((this.K=(o=this.g,tj&&(s=tW,Object.prototype.hasOwnProperty.call(s,9)?s[9]:s[9]=function(){for(var e=0,n=tx(String(oi)).split("."),r=tx("9").split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=tk(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||tk(0==s[2].length,0==a[2].length)||tk(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}(9))&&"number"==typeof o.timeout&&void 0!==o.ontimeout))?(this.g.timeout=this.B,this.g.ontimeout=tv(this.pa,this)):this.A=ey(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){nH(this,e)}},tu.pa=function(){void 0!==tl&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,es(this,"timeout"),this.abort(8))},tu.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,es(this,"complete"),es(this,"abort"),n$(this))},tu.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),n$(this,!0)),nB.Z.M.call(this)},tu.Fa=function(){this.s||(this.F||this.v||this.l?nZ(this):this.cb())},tu.cb=function(){nZ(this)},tu.ba=function(){try{return 2<nY(this)?this.g.status:-1}catch(e){return -1}},tu.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},tu.Qa=function(e){if(this.g){var n=this.g.responseText;return e&&0==n.indexOf(e)&&(n=n.substring(e.length)),nU(n)}},tu.Da=function(){return this.m},tu.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(tu=n1.prototype).ma=8,tu.G=1,tu.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(e){}},tu.Ha=function(e){if(this.m){if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var n=new eK(this,this.h,e,void 0),r=this.s;if(this.P&&(r?tO(r=tP(r),this.P):r=this.P),null===this.o&&(n.H=r),this.ja)t:{for(var i=0,o=0;o<this.l.length;o++){e:{var s=this.l[o];if("__data__"in s.g&&"string"==typeof(s=s.g.__data__)){s=s.length;break e}s=void 0}if(void 0===s)break;if(4096<(i+=s)){i=o;break t}if(4096===i||o===this.l.length-1){i=o+1;break t}}i=1e3}else i=1e3;i=n7(this,n,i),ns(o=ne(this.F),"RID",e),ns(o,"CVER",22),this.D&&ns(o,"X-HTTP-Session-Id",this.D),n9(this,o),this.o&&r&&nJ(o,this.o,r),nk(this.i,n),this.Ra&&ns(o,"TYPE","init"),this.ja?(ns(o,"$req",i),ns(o,"SID","null"),n.$=!0,e$(n,o,null)):e$(n,o,i),this.G=2}}else 3==this.G&&(e?n8(this,e):0==this.l.length||n_(this.i)||n8(this))}},tu.Ga=function(){if(this.u=null,rr(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=eO(tv(this.bb,this),e)}},tu.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,eP(10),n3(this),rr(this))},tu.ab=function(){null!=this.v&&(this.v=null,n3(this),re(this),eP(19))},tu.jb=function(e){e?(this.h.info("Successfully pinged google.com"),eP(2)):(this.h.info("Failed to ping google.com"),eP(1))},(tu=rh.prototype).xa=function(){},tu.wa=function(){},tu.va=function(){},tu.ua=function(){},tu.Oa=function(){},rf.prototype.g=function(e,n){return new rd(e,n)},tb(rd,eo),rd.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,n=this.l,r=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),ef(tv(e.hb,e,n))),eP(0),e.W=n,e.aa=r||{},e.N=e.X,e.F=rc(e,null,e.W),n6(e)},rd.prototype.close=function(){n2(this.g)},rd.prototype.u=function(e){if("string"==typeof e){var n={};n.__data__=e,n5(this.g,n)}else this.v?((n={}).__data__=eu(e),n5(this.g,n)):n5(this.g,e)},rd.prototype.M=function(){this.g.j=null,delete this.j,n2(this.g),delete this.g,rd.Z.M.call(this)},tb(rp,eB),tb(rm,eq),tb(rg,rh),rg.prototype.xa=function(){es(this.g,"a")},rg.prototype.wa=function(e){es(this.g,new rp(e))},rg.prototype.va=function(e){es(this.g,new rm(e))},rg.prototype.ua=function(){es(this.g,"b")},rf.prototype.createWebChannel=rf.prototype.g,rd.prototype.send=rd.prototype.u,rd.prototype.open=rd.prototype.m,rd.prototype.close=rd.prototype.close,eL.NO_ERROR=0,eL.TIMEOUT=8,eL.HTTP_ERROR=6,eM.COMPLETE="complete",eF.EventType=eU,eU.OPEN="a",eU.CLOSE="b",eU.ERROR="c",eU.MESSAGE="d",eo.prototype.listen=eo.prototype.N,nB.prototype.listenOnce=nB.prototype.O,nB.prototype.getLastError=nB.prototype.La,nB.prototype.getLastErrorCode=nB.prototype.Da,nB.prototype.getStatus=nB.prototype.ba,nB.prototype.getResponseJson=nB.prototype.Qa,nB.prototype.getResponseText=nB.prototype.ga,nB.prototype.send=nB.prototype.ea;var rv={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},ry=r(4155),rb=function(){function e(e,n){var r=this;this.previousValue=e,n&&(n.sequenceNumberHandler=function(e){return r.t(e)},this.i=function(e){return n.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();rb.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rw={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},rE=function(e){function n(n,r){var i=this;return(i=e.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return s(n,e),n}(Error),rT=new U("@firebase/firestore");function rI(){return rT.logLevel}function rS(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(rT.logLevel<=to.DEBUG){var i=n.map(rA);rT.debug.apply(rT,f(["Firestore (8.10.1): "+e],i))}}function r_(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(rT.logLevel<=to.ERROR){var i=n.map(rA);rT.error.apply(rT,f(["Firestore (8.10.1): "+e],i))}}function rx(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(rT.logLevel<=to.WARN){var i=n.map(rA);rT.warn.apply(rT,f(["Firestore (8.10.1): "+e],i))}}function rA(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(n){return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(e){void 0===e&&(e="Unexpected state");var n="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw r_(n),Error(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rN=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";r.length<20;)for(var i=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){var n="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(r);else for(var i=0;i<e;i++)r[i]=Math.floor(256*Math.random());return r}(40),o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length));return r},e}();function rC(e,n){return e<n?-1:e>n?1:0}function rD(e,n,r){return e.length===n.length&&e.every(function(e,i){return r(e,n[i])})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rP=function(){function e(e,n){if(this.seconds=e,this.nanoseconds=n,n<0||n>=1e9)throw new rE(rw.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800||e>=253402300800)throw new rE(rw.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(n){return e.fromMillis(n.getTime())},e.fromMillis=function(n){var r=Math.floor(n/1e3);return new e(r,Math.floor(1e6*(n-1e3*r)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?rC(this.nanoseconds,e.nanoseconds):rC(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),rR=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(n){return new e(n)},e.min=function(){return new e(new rP(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(e){var n=0;for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n++;return n}function rL(e,n){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n(r,e[r])}function rM(e){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rj=function(){function e(e,n,r){void 0===n?n=0:n>e.length&&rk(),void 0===r?r=e.length-n:r>e.length-n&&rk(),this.segments=e,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(n){return 0===e.comparator(this,n)},e.prototype.child=function(n){var r=this.segments.slice(this.offset,this.limit());return n instanceof e?n.forEach(function(e){r.push(e)}):r.push(n),this.construct(r)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},e.prototype.forEach=function(e){for(var n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,n){for(var r=Math.min(e.length,n.length),i=0;i<r;i++){var o=e.get(i),s=n.get(i);if(o<s)return -1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0},e}(),rV=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return s(n,e),n.prototype.construct=function(e,r,i){return new n(e,r,i)},n.prototype.canonicalString=function(){return this.toArray().join("/")},n.prototype.toString=function(){return this.canonicalString()},n.fromString=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];for(var i=[],o=0;o<e.length;o++){var s=e[o];if(s.indexOf("//")>=0)throw new rE(rw.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");i.push.apply(i,s.split("/").filter(function(e){return e.length>0}))}return new n(i)},n.emptyPath=function(){return new n([])},n}(rj),rF=/^[_a-zA-Z][_a-zA-Z0-9]*$/,rU=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return s(n,e),n.prototype.construct=function(e,r,i){return new n(e,r,i)},n.isValidIdentifier=function(e){return rF.test(e)},n.prototype.canonicalString=function(){return this.toArray().map(function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e}).join(".")},n.prototype.toString=function(){return this.canonicalString()},n.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},n.keyField=function(){return new n(["__name__"])},n.fromServerFormat=function(e){for(var r=[],i="",o=0,s=function(){if(0===i.length)throw new rE(rw.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},a=!1;o<e.length;){var u=e[o];if("\\"===u){if(o+1===e.length)throw new rE(rw.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var c=e[o+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new rE(rw.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,o+=2}else"`"===u?(a=!a,o++):"."!==u||a?(i+=u,o++):(s(),o++)}if(s(),a)throw new rE(rw.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(r)},n.emptyPath=function(){return new n([])},n}(rj),rB=function(){function e(e){this.fields=e,e.sort(rU.comparator)}return e.prototype.covers=function(e){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return rD(this.fields,e.fields,function(e,n){return e.isEqual(n)})},e}(),rq=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(n){return new e(atob(n))},e.fromUint8Array=function(n){return new e(function(e){for(var n="",r=0;r<e.length;++r)n+=String.fromCharCode(e[r]);return n}(n))},e.prototype.toBase64=function(){return btoa(this.binaryString)},e.prototype.toUint8Array=function(){return function(e){for(var n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return rC(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();rq.EMPTY_BYTE_STRING=new rq("");var rz=RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rK(e){if(e||rk(),"string"==typeof e){var n=0,r=rz.exec(e);if(r||rk(),r[1]){var i=r[1];n=Number(i=(i+"000000000").substr(0,9))}return{seconds:Math.floor(new Date(e).getTime()/1e3),nanos:n}}return{seconds:rG(e.seconds),nanos:rG(e.nanos)}}function rG(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function rH(e){return"string"==typeof e?rq.fromBase64String(e):rq.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rW(e){var n,r;return"server_timestamp"===(null===(r=((null===(n=null==e?void 0:e.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function rZ(e){var n=rK(e.mapValue.fields.__local_write_time__.timestampValue);return new rP(n.seconds,n.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r$(e){return null==e}function rX(e){return 0===e&&1/e==-1/0}function rY(e){return"number"==typeof e&&Number.isInteger(e)&&!rX(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rQ=function(){function e(e){this.path=e}return e.fromPath=function(n){return new e(rV.fromString(n))},e.fromName=function(n){return new e(rV.fromString(n).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===rV.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,n){return rV.comparator(e.path,n.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(n){return new e(new rV(n.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rJ(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?rW(e)?4:10:rk()}function r0(e,n){var r=rJ(e);if(r!==rJ(n))return!1;switch(r){case 0:return!0;case 1:return e.booleanValue===n.booleanValue;case 4:return rZ(e).isEqual(rZ(n));case 3:return function(e,n){if("string"==typeof e.timestampValue&&"string"==typeof n.timestampValue&&e.timestampValue.length===n.timestampValue.length)return e.timestampValue===n.timestampValue;var r=rK(e.timestampValue),i=rK(n.timestampValue);return r.seconds===i.seconds&&r.nanos===i.nanos}(e,n);case 5:return e.stringValue===n.stringValue;case 6:return rH(e.bytesValue).isEqual(rH(n.bytesValue));case 7:return e.referenceValue===n.referenceValue;case 8:return rG(e.geoPointValue.latitude)===rG(n.geoPointValue.latitude)&&rG(e.geoPointValue.longitude)===rG(n.geoPointValue.longitude);case 2:return function(e,n){if("integerValue"in e&&"integerValue"in n)return rG(e.integerValue)===rG(n.integerValue);if("doubleValue"in e&&"doubleValue"in n){var r=rG(e.doubleValue),i=rG(n.doubleValue);return r===i?rX(r)===rX(i):isNaN(r)&&isNaN(i)}return!1}(e,n);case 9:return rD(e.arrayValue.values||[],n.arrayValue.values||[],r0);case 10:return function(e,n){var r=e.mapValue.fields||{},i=n.mapValue.fields||{};if(rO(r)!==rO(i))return!1;for(var o in r)if(r.hasOwnProperty(o)&&(void 0===i[o]||!r0(r[o],i[o])))return!1;return!0}(e,n);default:return rk()}}function r1(e,n){return void 0!==(e.values||[]).find(function(e){return r0(e,n)})}function r2(e,n){var r,i,o,s,a,u,c,l,h,f=rJ(e),d=rJ(n);if(f!==d)return rC(f,d);switch(f){case 0:return 0;case 1:return rC(e.booleanValue,n.booleanValue);case 2:return(r=rG(e.integerValue||e.doubleValue))<(i=rG(n.integerValue||n.doubleValue))?-1:r>i?1:r===i?0:isNaN(r)?isNaN(i)?0:-1:1;case 3:return r3(e.timestampValue,n.timestampValue);case 4:return r3(rZ(e),rZ(n));case 5:return rC(e.stringValue,n.stringValue);case 6:return o=e.bytesValue,s=n.bytesValue,a=rH(o),u=rH(s),a.compareTo(u);case 7:return function(e,n){for(var r=e.split("/"),i=n.split("/"),o=0;o<r.length&&o<i.length;o++){var s=rC(r[o],i[o]);if(0!==s)return s}return rC(r.length,i.length)}(e.referenceValue,n.referenceValue);case 8:return c=e.geoPointValue,l=n.geoPointValue,0!==(h=rC(rG(c.latitude),rG(l.latitude)))?h:rC(rG(c.longitude),rG(l.longitude));case 9:return function(e,n){for(var r=e.values||[],i=n.values||[],o=0;o<r.length&&o<i.length;++o){var s=r2(r[o],i[o]);if(s)return s}return rC(r.length,i.length)}(e.arrayValue,n.arrayValue);case 10:return function(e,n){var r=e.fields||{},i=Object.keys(r),o=n.fields||{},s=Object.keys(o);i.sort(),s.sort();for(var a=0;a<i.length&&a<s.length;++a){var u=rC(i[a],s[a]);if(0!==u)return u;var c=r2(r[i[a]],o[s[a]]);if(0!==c)return c}return rC(i.length,s.length)}(e.mapValue,n.mapValue);default:throw rk()}}function r3(e,n){if("string"==typeof e&&"string"==typeof n&&e.length===n.length)return rC(e,n);var r=rK(e),i=rK(n),o=rC(r.seconds,i.seconds);return 0!==o?o:rC(r.nanos,i.nanos)}function r4(e){var n,r,i;return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?"time("+(i=rK(e.timestampValue)).seconds+","+i.nanos+")":"stringValue"in e?e.stringValue:"bytesValue"in e?rH(e.bytesValue).toBase64():"referenceValue"in e?(r=e.referenceValue,rQ.fromName(r).toString()):"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=r4(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+r4(e.fields[s])}return n+"}"}(e.mapValue):rk()}function r5(e,n){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+n.path.canonicalString()}}function r6(e){return!!e&&"integerValue"in e}function r8(e){return!!e&&"arrayValue"in e}function r9(e){return!!e&&"nullValue"in e}function r7(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function it(e){return!!e&&"mapValue"in e}function ie(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var n={mapValue:{fields:{}}};return rL(e.mapValue.fields,function(e,r){return n.mapValue.fields[e]=ie(r)}),n}if(e.arrayValue){for(var r={arrayValue:{values:[]}},i=0;i<(e.arrayValue.values||[]).length;++i)r.arrayValue.values[i]=ie(e.arrayValue.values[i]);return r}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ir=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var n=this.value,r=0;r<e.length-1;++r)if(!it(n=(n.mapValue.fields||{})[e.get(r)]))return null;return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ie(n)},e.prototype.setAll=function(e){var n=this,r=rU.emptyPath(),i={},o=[];e.forEach(function(e,s){if(!r.isImmediateParentOf(s)){var a=n.getFieldsMap(r);n.applyChanges(a,i,o),i={},o=[],r=s.popLast()}e?i[s.lastSegment()]=ie(e):o.push(s.lastSegment())});var s=this.getFieldsMap(r);this.applyChanges(s,i,o)},e.prototype.delete=function(e){var n=this.field(e.popLast());it(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return r0(this.value,e.value)},e.prototype.getFieldsMap=function(e){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<e.length;++r){var i=n.mapValue.fields[e.get(r)];it(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields},e.prototype.applyChanges=function(e,n,r){rL(n,function(n,r){return e[n]=r});for(var i=0;i<r.length;i++)delete e[r[i]]},e.prototype.clone=function(){return new e(ie(this.value))},e}(),ii=function(){function e(e,n,r,i,o){this.key=e,this.documentType=n,this.version=r,this.data=i,this.documentState=o}return e.newInvalidDocument=function(n){return new e(n,0,rR.min(),ir.empty(),0)},e.newFoundDocument=function(n,r,i){return new e(n,1,r,i,0)},e.newNoDocument=function(n,r){return new e(n,2,r,ir.empty(),0)},e.newUnknownDocument=function(n,r){return new e(n,3,r,ir.empty(),2)},e.prototype.convertToFoundDocument=function(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=ir.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=ir.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(n){return n instanceof e&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),io=function(e,n,r,i,o,s,a){void 0===n&&(n=null),void 0===r&&(r=[]),void 0===i&&(i=[]),void 0===o&&(o=null),void 0===s&&(s=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(e,n,r,i,o,s,a){return void 0===n&&(n=null),void 0===r&&(r=[]),void 0===i&&(i=[]),void 0===o&&(o=null),void 0===s&&(s=null),void 0===a&&(a=null),new io(e,n,r,i,o,s,a)}function ia(e){var n=e;if(null===n.h){var r=n.path.canonicalString();null!==n.collectionGroup&&(r+="|cg:"+n.collectionGroup),r+="|f:"+n.filters.map(function(e){return e.field.canonicalString()+e.op.toString()+r4(e.value)}).join(",")+"|ob:"+n.orderBy.map(function(e){return e.field.canonicalString()+e.dir}).join(","),r$(n.limit)||(r+="|l:"+n.limit),n.startAt&&(r+="|lb:"+iE(n.startAt)),n.endAt&&(r+="|ub:"+iE(n.endAt)),n.h=r}return n.h}function iu(e,n){if(e.limit!==n.limit||e.orderBy.length!==n.orderBy.length)return!1;for(var r,i,o,s,a=0;a<e.orderBy.length;a++)if(r=e.orderBy[a],i=n.orderBy[a],!(r.dir===i.dir&&r.field.isEqual(i.field)))return!1;if(e.filters.length!==n.filters.length)return!1;for(var u=0;u<e.filters.length;u++)if(o=e.filters[u],s=n.filters[u],o.op!==s.op||!o.field.isEqual(s.field)||!r0(o.value,s.value))return!1;return e.collectionGroup===n.collectionGroup&&!!e.path.isEqual(n.path)&&!!iS(e.startAt,n.startAt)&&iS(e.endAt,n.endAt)}function ic(e){return rQ.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var il=function(e){function n(n,r,i){var o=this;return(o=e.call(this)||this).field=n,o.op=r,o.value=i,o}return s(n,e),n.create=function(e,r,i){return e.isKeyField()?"in"===r||"not-in"===r?this.l(e,r,i):new ih(e,r,i):"array-contains"===r?new ig(e,i):"in"===r?new iv(e,i):"not-in"===r?new iy(e,i):"array-contains-any"===r?new ib(e,i):new n(e,r,i)},n.l=function(e,n,r){return"in"===n?new id(e,r):new ip(e,r)},n.prototype.matches=function(e){var n=e.data.field(this.field);return"!="===this.op?null!==n&&this.m(r2(n,this.value)):null!==n&&rJ(this.value)===rJ(n)&&this.m(r2(n,this.value))},n.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rk()}},n.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},n}(function(){}),ih=function(e){function n(n,r,i){var o=this;return(o=e.call(this,n,r,i)||this).key=rQ.fromName(i.referenceValue),o}return s(n,e),n.prototype.matches=function(e){var n=rQ.comparator(e.key,this.key);return this.m(n)},n}(il),id=function(e){function n(n,r){var i=this;return(i=e.call(this,n,"in",r)||this).keys=im("in",r),i}return s(n,e),n.prototype.matches=function(e){return this.keys.some(function(n){return n.isEqual(e.key)})},n}(il),ip=function(e){function n(n,r){var i=this;return(i=e.call(this,n,"not-in",r)||this).keys=im("not-in",r),i}return s(n,e),n.prototype.matches=function(e){return!this.keys.some(function(n){return n.isEqual(e.key)})},n}(il);function im(e,n){var r;return((null===(r=n.arrayValue)||void 0===r?void 0:r.values)||[]).map(function(e){return rQ.fromName(e.referenceValue)})}var ig=function(e){function n(n,r){return e.call(this,n,"array-contains",r)||this}return s(n,e),n.prototype.matches=function(e){var n=e.data.field(this.field);return r8(n)&&r1(n.arrayValue,this.value)},n}(il),iv=function(e){function n(n,r){return e.call(this,n,"in",r)||this}return s(n,e),n.prototype.matches=function(e){var n=e.data.field(this.field);return null!==n&&r1(this.value.arrayValue,n)},n}(il),iy=function(e){function n(n,r){return e.call(this,n,"not-in",r)||this}return s(n,e),n.prototype.matches=function(e){if(r1(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var n=e.data.field(this.field);return null!==n&&!r1(this.value.arrayValue,n)},n}(il),ib=function(e){function n(n,r){return e.call(this,n,"array-contains-any",r)||this}return s(n,e),n.prototype.matches=function(e){var n=this,r=e.data.field(this.field);return!(!r8(r)||!r.arrayValue.values)&&r.arrayValue.values.some(function(e){return r1(n.value.arrayValue,e)})},n}(il),iw=function(e,n){this.position=e,this.before=n};function iE(e){return(e.before?"b":"a")+":"+e.position.map(function(e){return r4(e)}).join(",")}var iT=function(e,n){void 0===n&&(n="asc"),this.field=e,this.dir=n};function iI(e,n,r){for(var i=0,o=0;o<e.position.length;o++){var s=n[o],a=e.position[o];if(i=s.field.isKeyField()?rQ.comparator(rQ.fromName(a.referenceValue),r.key):r2(a,r.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return e.before?i<=0:i<0}function iS(e,n){if(null===e)return null===n;if(null===n||e.before!==n.before||e.position.length!==n.position.length)return!1;for(var r=0;r<e.position.length;r++)if(!r0(e.position[r],n.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i_=function(e,n,r,i,o,s,a,u){void 0===n&&(n=null),void 0===r&&(r=[]),void 0===i&&(i=[]),void 0===o&&(o=null),void 0===s&&(s="F"),void 0===a&&(a=null),void 0===u&&(u=null),this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.p=null,this.T=null,this.startAt,this.endAt};function ix(e){return new i_(e)}function iA(e){return!r$(e.limit)&&"F"===e.limitType}function ik(e){return!r$(e.limit)&&"L"===e.limitType}function iN(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function iC(e){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(i.g())return i.field}return null}function iD(e){return null!==e.collectionGroup}function iP(e){var n=e;if(null===n.p){n.p=[];var r=iC(n),i=iN(n);if(null!==r&&null===i)r.isKeyField()||n.p.push(new iT(r)),n.p.push(new iT(rU.keyField(),"asc"));else{for(var o=!1,s=0,a=n.explicitOrderBy;s<a.length;s++){var u=a[s];n.p.push(u),u.field.isKeyField()&&(o=!0)}if(!o){var c=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";n.p.push(new iT(rU.keyField(),c))}}}return n.p}function iR(e){var n=e;if(!n.T){if("F"===n.limitType)n.T=is(n.path,n.collectionGroup,iP(n),n.filters,n.limit,n.startAt,n.endAt);else{for(var r=[],i=0,o=iP(n);i<o.length;i++){var s=o[i],a="desc"===s.dir?"asc":"desc";r.push(new iT(s.field,a))}var u=n.endAt?new iw(n.endAt.position,!n.endAt.before):null,c=n.startAt?new iw(n.startAt.position,!n.startAt.before):null;n.T=is(n.path,n.collectionGroup,r,n.filters,n.limit,u,c)}}return n.T}function iO(e,n,r){return new i_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),n,r,e.startAt,e.endAt)}function iL(e,n){return iu(iR(e),iR(n))&&e.limitType===n.limitType}function iM(e){return ia(iR(e))+"|lt:"+e.limitType}function ij(e){var n,r;return"Query(target="+(r=(n=iR(e)).path.canonicalString(),null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=", filters: ["+n.filters.map(function(e){return e.field.canonicalString()+" "+e.op+" "+r4(e.value)}).join(", ")+"]"),r$(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=", orderBy: ["+n.orderBy.map(function(e){return e.field.canonicalString()+" ("+e.dir+")"}).join(", ")+"]"),n.startAt&&(r+=", startAt: "+iE(n.startAt)),n.endAt&&(r+=", endAt: "+iE(n.endAt)),"Target("+r+")")+"; limitType="+e.limitType+")"}function iV(e,n){var r;return n.isFoundDocument()&&(r=n.key.path,null!==e.collectionGroup?n.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):rQ.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r))&&function(e,n){for(var r=0,i=e.explicitOrderBy;r<i.length;r++){var o=i[r];if(!o.field.isKeyField()&&null===n.data.field(o.field))return!1}return!0}(e,n)&&function(e,n){for(var r=0,i=e.filters;r<i.length;r++)if(!i[r].matches(n))return!1;return!0}(e,n)&&!(e.startAt&&!iI(e.startAt,iP(e),n))&&(!e.endAt||!iI(e.endAt,iP(e),n))}function iF(e){return function(n,r){for(var i=!1,o=0,s=iP(e);o<s.length;o++){var a=s[o],u=function(e,n,r){var i,o,s,a=e.field.isKeyField()?rQ.comparator(n.key,r.key):(i=e.field,o=n.data.field(i),s=r.data.field(i),null!==o&&null!==s?r2(o,s):rk());switch(e.dir){case"asc":return a;case"desc":return -1*a;default:return rk()}}(a,n,r);if(0!==u)return u;i=i||a.field.isKeyField()}return 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iU(e,n){if(e.I){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rX(n)?"-0":n}}function iB(e){return{integerValue:""+e}}function iq(e,n){return rY(n)?iB(n):iU(e,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iz=function(){this._=void 0};function iK(e,n){return e instanceof iX?r6(n)||n&&"doubleValue"in n?n:{integerValue:0}:null}var iG=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return s(n,e),n}(iz),iH=function(e){function n(n){var r=this;return(r=e.call(this)||this).elements=n,r}return s(n,e),n}(iz);function iW(e,n){for(var r=iQ(n),i=function(e){r.some(function(n){return r0(n,e)})||r.push(e)},o=0,s=e.elements;o<s.length;o++)i(s[o]);return{arrayValue:{values:r}}}var iZ=function(e){function n(n){var r=this;return(r=e.call(this)||this).elements=n,r}return s(n,e),n}(iz);function i$(e,n){for(var r=iQ(n),i=function(e){r=r.filter(function(n){return!r0(n,e)})},o=0,s=e.elements;o<s.length;o++)i(s[o]);return{arrayValue:{values:r}}}var iX=function(e){function n(n,r){var i=this;return(i=e.call(this)||this).R=n,i.A=r,i}return s(n,e),n}(iz);function iY(e){return rG(e.integerValue||e.doubleValue)}function iQ(e){return r8(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iJ=function(e,n){this.field=e,this.transform=n},i0=function(e,n){this.version=e,this.transformResults=n},i1=function(){function e(e,n){this.updateTime=e,this.exists=n}return e.none=function(){return new e},e.exists=function(n){return new e(void 0,n)},e.updateTime=function(n){return new e(n)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function i2(e,n){return void 0!==e.updateTime?n.isFoundDocument()&&n.version.isEqual(e.updateTime):void 0===e.exists||e.exists===n.isFoundDocument()}var i3=function(){};function i4(e,n,r){e instanceof i8?function(e,n,r){if(i2(e.precondition,n)){var i=e.value.clone(),o=oe(e.fieldTransforms,r,n);i.setAll(o),n.convertToFoundDocument(i6(n),i).setHasLocalMutations()}}(e,n,r):e instanceof i9?function(e,n,r){if(i2(e.precondition,n)){var i=oe(e.fieldTransforms,r,n),o=n.data;o.setAll(i7(e)),o.setAll(i),n.convertToFoundDocument(i6(n),o).setHasLocalMutations()}}(e,n,r):i2(e.precondition,n)&&n.convertToNoDocument(rR.min())}function i5(e,n){var r,i;return e.type===n.type&&!!e.key.isEqual(n.key)&&!!e.precondition.isEqual(n.precondition)&&(r=e.fieldTransforms,i=n.fieldTransforms,!!(void 0===r&&void 0===i||!(!r||!i)&&rD(r,i,function(e,n){var r,i;return e.field.isEqual(n.field)&&(r=e.transform,i=n.transform,r instanceof iH&&i instanceof iH||r instanceof iZ&&i instanceof iZ?rD(r.elements,i.elements,r0):r instanceof iX&&i instanceof iX?r0(r.A,i.A):r instanceof iG&&i instanceof iG)})))&&(0===e.type?e.value.isEqual(n.value):1!==e.type||e.data.isEqual(n.data)&&e.fieldMask.isEqual(n.fieldMask))}function i6(e){return e.isFoundDocument()?e.version:rR.min()}var i8=function(e){function n(n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=e.call(this)||this).key=n,s.value=r,s.precondition=i,s.fieldTransforms=o,s.type=0,s}return s(n,e),n}(i3),i9=function(e){function n(n,r,i,o,s){void 0===s&&(s=[]);var a=this;return(a=e.call(this)||this).key=n,a.data=r,a.fieldMask=i,a.precondition=o,a.fieldTransforms=s,a.type=1,a}return s(n,e),n}(i3);function i7(e){var n=new Map;return e.fieldMask.fields.forEach(function(r){if(!r.isEmpty()){var i=e.data.field(r);n.set(r,i)}}),n}function ot(e,n,r){var i=new Map;e.length===r.length||rk();for(var o=0;o<r.length;o++){var s,a=e[o],u=a.transform,c=n.data.field(a.field);i.set(a.field,(s=r[o],u instanceof iH?iW(u,c):u instanceof iZ?i$(u,c):s))}return i}function oe(e,n,r){for(var i=new Map,o=0;o<e.length;o++){var s=e[o],a=s.transform,u=r.data.field(s.field);i.set(s.field,function(e,n,r){var i,o,s;return e instanceof iG?(i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}},n&&(i.fields.__previous_value__=n),{mapValue:i}):e instanceof iH?iW(e,n):e instanceof iZ?i$(e,n):(s=iY(o=iK(e,n))+iY(e.A),r6(o)&&r6(e.A)?iB(s):iU(e.R,s))}(a,u,n))}return i}var on,or,oi,oo,os,oa,ou,oc,ol=function(e){function n(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return s(n,e),n}(i3),oh=function(e){function n(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return s(n,e),n}(i3),of=function(e){this.count=e};function od(e){switch(e){case rw.OK:return rk();case rw.CANCELLED:case rw.UNKNOWN:case rw.DEADLINE_EXCEEDED:case rw.RESOURCE_EXHAUSTED:case rw.INTERNAL:case rw.UNAVAILABLE:case rw.UNAUTHENTICATED:return!1;case rw.INVALID_ARGUMENT:case rw.NOT_FOUND:case rw.ALREADY_EXISTS:case rw.PERMISSION_DENIED:case rw.FAILED_PRECONDITION:case rw.ABORTED:case rw.OUT_OF_RANGE:case rw.UNIMPLEMENTED:case rw.DATA_LOSS:return!0;default:return rk()}}function op(e){if(void 0===e)return r_("GRPC error has no .code"),rw.UNKNOWN;switch(e){case ou.OK:return rw.OK;case ou.CANCELLED:return rw.CANCELLED;case ou.UNKNOWN:return rw.UNKNOWN;case ou.DEADLINE_EXCEEDED:return rw.DEADLINE_EXCEEDED;case ou.RESOURCE_EXHAUSTED:return rw.RESOURCE_EXHAUSTED;case ou.INTERNAL:return rw.INTERNAL;case ou.UNAVAILABLE:return rw.UNAVAILABLE;case ou.UNAUTHENTICATED:return rw.UNAUTHENTICATED;case ou.INVALID_ARGUMENT:return rw.INVALID_ARGUMENT;case ou.NOT_FOUND:return rw.NOT_FOUND;case ou.ALREADY_EXISTS:return rw.ALREADY_EXISTS;case ou.PERMISSION_DENIED:return rw.PERMISSION_DENIED;case ou.FAILED_PRECONDITION:return rw.FAILED_PRECONDITION;case ou.ABORTED:return rw.ABORTED;case ou.OUT_OF_RANGE:return rw.OUT_OF_RANGE;case ou.UNIMPLEMENTED:return rw.UNIMPLEMENTED;case ou.DATA_LOSS:return rw.DATA_LOSS;default:return rk()}}(oc=ou||(ou={}))[oc.OK=0]="OK",oc[oc.CANCELLED=1]="CANCELLED",oc[oc.UNKNOWN=2]="UNKNOWN",oc[oc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oc[oc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oc[oc.NOT_FOUND=5]="NOT_FOUND",oc[oc.ALREADY_EXISTS=6]="ALREADY_EXISTS",oc[oc.PERMISSION_DENIED=7]="PERMISSION_DENIED",oc[oc.UNAUTHENTICATED=16]="UNAUTHENTICATED",oc[oc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oc[oc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oc[oc.ABORTED=10]="ABORTED",oc[oc.OUT_OF_RANGE=11]="OUT_OF_RANGE",oc[oc.UNIMPLEMENTED=12]="UNIMPLEMENTED",oc[oc.INTERNAL=13]="INTERNAL",oc[oc.UNAVAILABLE=14]="UNAVAILABLE",oc[oc.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var om=function(){function e(e,n){this.comparator=e,this.root=n||ov.EMPTY}return e.prototype.insert=function(n,r){return new e(this.comparator,this.root.insert(n,r,this.comparator).copy(null,null,ov.BLACK,null,null))},e.prototype.remove=function(n){return new e(this.comparator,this.root.remove(n,this.comparator).copy(null,null,ov.BLACK,null,null))},e.prototype.get=function(e){for(var n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(e){for(var n=0,r=this.root;!r.isEmpty();){var i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return -1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal(function(n,r){return e(n,r),!1})},e.prototype.toString=function(){var e=[];return this.inorderTraversal(function(n,r){return e.push(n+":"+r),!1}),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new og(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new og(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new og(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new og(this.root,e,this.comparator,!0)},e}(),og=function(){function e(e,n,r,i){this.isReverse=i,this.nodeStack=[];for(var o=1;!e.isEmpty();)if(o=n?r(e.key,n):1,i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),ov=function(){function e(n,r,i,o,s){this.key=n,this.value=r,this.color=null!=i?i:e.RED,this.left=null!=o?o:e.EMPTY,this.right=null!=s?s:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(n,r,i,o,s){return new e(null!=n?n:this.key,null!=r?r:this.value,null!=i?i:this.color,null!=o?o:this.left,null!=s?s:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,n,r){var i=this,o=r(e,i.key);return(i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),(n=n.copy(null,null,null,n.left.removeMin(),null)).fixUp()},e.prototype.remove=function(n,r){var i,o=this;if(0>r(n,o.key))o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(n,r),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===r(n,o.key)){if(o.right.isEmpty())return e.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(n,r))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)},e.prototype.rotateRight=function(){var n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},e.prototype.checkMaxDepth=function(){return Math.pow(2,this.check())<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rk();var e=this.left.check();if(e!==this.right.check())throw rk();return e+(this.isRed()?0:1)},e}();ov.EMPTY=null,ov.RED=!0,ov.BLACK=!1,ov.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw rk()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw rk()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw rk()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw rk()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw rk()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,n,r,i,o){return this},e.prototype.insert=function(e,n,r){return new ov(e,n)},e.prototype.remove=function(e,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oy=function(){function e(e){this.comparator=e,this.data=new om(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal(function(n,r){return e(n),!1})},e.prototype.forEachInRange=function(e,n){for(var r=this.data.getIteratorFrom(e[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}},e.prototype.forEachWhile=function(e,n){var r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new ob(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new ob(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var n=this;return n.size<e.size&&(n=e,e=this),e.forEach(function(e){n=n.add(e)}),n},e.prototype.isEqual=function(n){if(!(n instanceof e)||this.size!==n.size)return!1;for(var r=this.data.getIterator(),i=n.data.getIterator();r.hasNext();){var o=r.getNext().key,s=i.getNext().key;if(0!==this.comparator(o,s))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach(function(n){e.push(n)}),e},e.prototype.toString=function(){var e=[];return this.forEach(function(n){return e.push(n)}),"SortedSet("+e.toString()+")"},e.prototype.copy=function(n){var r=new e(this.comparator);return r.data=n,r},e}(),ob=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),ow=new om(rQ.comparator),oE=new om(rQ.comparator),oT=new om(rQ.comparator),oI=new oy(rQ.comparator);function oS(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=oI,i=0;i<e.length;i++){var o=e[i];r=r.add(o)}return r}var o_=new oy(rC),ox=function(){function e(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}return e.createSynthesizedRemoteEventForCurrentChange=function(n,r){var i=new Map;return i.set(n,oA.createSynthesizedTargetChangeForCurrentChange(n,r)),new e(rR.min(),i,o_,ow,oS())},e}(),oA=function(){function e(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}return e.createSynthesizedTargetChangeForCurrentChange=function(n,r){return new e(rq.EMPTY_BYTE_STRING,r,oS(),oS(),oS())},e}(),ok=function(e,n,r,i){this.v=e,this.removedTargetIds=n,this.key=r,this.P=i},oN=function(e,n){this.targetId=e,this.V=n},oC=function(e,n,r,i){void 0===r&&(r=rq.EMPTY_BYTE_STRING),void 0===i&&(i=null),this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i},oD=function(){function e(){this.S=0,this.D=oO(),this.C=rq.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},e.prototype.M=function(){var e=oS(),n=oS(),r=oS();return this.D.forEach(function(i,o){switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:rk()}}),new oA(this.C,this.N,e,n,r)},e.prototype.L=function(){this.k=!1,this.D=oO()},e.prototype.B=function(e,n){this.k=!0,this.D=this.D.insert(e,n)},e.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),oP=function(){function e(e){this.W=e,this.G=new Map,this.H=ow,this.J=oR(),this.Y=new oy(rC)}return e.prototype.X=function(e){for(var n=0,r=e.v;n<r.length;n++){var i=r[n];e.P&&e.P.isFoundDocument()?this.Z(i,e.P):this.tt(i,e.key,e.P)}for(var o=0,s=e.removedTargetIds;o<s.length;o++)i=s[o],this.tt(i,e.key,e.P)},e.prototype.et=function(e){var n=this;this.forEachTarget(e,function(r){var i=n.nt(r);switch(e.state){case 0:n.st(r)&&i.O(e.resumeToken);break;case 1:i.K(),i.F||i.L(),i.O(e.resumeToken);break;case 2:i.K(),i.F||n.removeTarget(r);break;case 3:n.st(r)&&(i.j(),i.O(e.resumeToken));break;case 4:n.st(r)&&(n.it(r),i.O(e.resumeToken));break;default:rk()}})},e.prototype.forEachTarget=function(e,n){var r=this;e.targetIds.length>0?e.targetIds.forEach(n):this.G.forEach(function(e,i){r.st(i)&&n(i)})},e.prototype.rt=function(e){var n=e.targetId,r=e.V.count,i=this.ot(n);if(i){var o=i.target;if(ic(o)){if(0===r){var s=new rQ(o.path);this.tt(n,s,ii.newNoDocument(s,rR.min()))}else 1===r||rk()}else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(e){var n=this,r=new Map;this.G.forEach(function(i,o){var s=n.ot(o);if(s){if(i.current&&ic(s.target)){var a=new rQ(s.target.path);null!==n.H.get(a)||n.at(o,a)||n.tt(o,a,ii.newNoDocument(a,e))}i.$&&(r.set(o,i.M()),i.L())}});var i=oS();this.J.forEach(function(e,r){var o=!0;r.forEachWhile(function(e){var r=n.ot(e);return!r||2===r.purpose||(o=!1,!1)}),o&&(i=i.add(e))});var o=new ox(e,r,this.Y,this.H,i);return this.H=ow,this.J=oR(),this.Y=new oy(rC),o},e.prototype.Z=function(e,n){if(this.st(e)){var r=this.at(e,n.key)?2:0;this.nt(e).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(e))}},e.prototype.tt=function(e,n,r){if(this.st(e)){var i=this.nt(e);this.at(e,n)?i.B(n,1):i.q(n),this.J=this.J.insert(n,this.ht(n).delete(e)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var n=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var n=this.G.get(e);return n||(n=new oD,this.G.set(e,n)),n},e.prototype.ht=function(e){var n=this.J.get(e);return n||(n=new oy(rC),this.J=this.J.insert(e,n)),n},e.prototype.st=function(e){var n=null!==this.ot(e);return n||rS("WatchChangeAggregator","Detected inactive target",e),n},e.prototype.ot=function(e){var n=this.G.get(e);return n&&n.F?null:this.W.lt(e)},e.prototype.it=function(e){var n=this;this.G.set(e,new oD),this.W.getRemoteKeysForTarget(e).forEach(function(r){n.tt(e,r,null)})},e.prototype.at=function(e,n){return this.W.getRemoteKeysForTarget(e).has(n)},e}();function oR(){return new om(rQ.comparator)}function oO(){return new om(rQ.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oL={asc:"ASCENDING",desc:"DESCENDING"},oM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oj=function(e,n){this.databaseId=e,this.I=n};function oV(e,n){return e.I?new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+n.nanoseconds).slice(-9)+"Z":{seconds:""+n.seconds,nanos:n.nanoseconds}}function oF(e,n){return e.I?n.toBase64():n.toUint8Array()}function oU(e){var n;return e||rk(),rR.fromTimestamp((n=rK(e),new rP(n.seconds,n.nanos)))}function oB(e,n){return new rV(["projects",e.projectId,"databases",e.database]).child("documents").child(n).canonicalString()}function oq(e){var n=rV.fromString(e);return o6(n)||rk(),n}function oz(e,n){return oB(e.databaseId,n.path)}function oK(e,n){var r=oq(n);if(r.get(1)!==e.databaseId.projectId)throw new rE(rw.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new rE(rw.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new rQ(oZ(r))}function oG(e,n){return oB(e.databaseId,n)}function oH(e){var n=oq(e);return 4===n.length?rV.emptyPath():oZ(n)}function oW(e){return new rV(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function oZ(e){return e.length>4&&"documents"===e.get(4)||rk(),e.popFirst(5)}function o$(e,n,r){return{name:oz(e,n),fields:r.value.mapValue.fields}}function oX(e,n,r){var i=oK(e,n.name),o=oU(n.updateTime),s=new ir({mapValue:{fields:n.fields}}),a=ii.newFoundDocument(i,o,s);return r&&a.setHasCommittedMutations(),r?a.setHasCommittedMutations():a}function oY(e,n){var r,i,o,s;if(n instanceof i8)r={update:o$(e,n.key,n.value)};else if(n instanceof ol)r={delete:oz(e,n.key)};else if(n instanceof i9)r={update:o$(e,n.key,n.data),updateMask:(o=n.fieldMask,s=[],o.fields.forEach(function(e){return s.push(e.canonicalString())}),{fieldPaths:s})};else{if(!(n instanceof oh))return rk();r={verify:oz(e,n.key)}}return n.fieldTransforms.length>0&&(r.updateTransforms=n.fieldTransforms.map(function(e){return function(e,n){var r=n.transform;if(r instanceof iG)return{fieldPath:n.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(r instanceof iH)return{fieldPath:n.field.canonicalString(),appendMissingElements:{values:r.elements}};if(r instanceof iZ)return{fieldPath:n.field.canonicalString(),removeAllFromArray:{values:r.elements}};if(r instanceof iX)return{fieldPath:n.field.canonicalString(),increment:r.A};throw rk()}(0,e)})),n.precondition.isNone||(r.currentDocument=void 0!==(i=n.precondition).updateTime?{updateTime:oV(e,i.updateTime.toTimestamp())}:void 0!==i.exists?{exists:i.exists}:rk()),r}function oQ(e,n){var r=n.currentDocument?void 0!==(a=n.currentDocument).updateTime?i1.updateTime(oU(a.updateTime)):void 0!==a.exists?i1.exists(a.exists):i1.none():i1.none(),i=n.updateTransforms?n.updateTransforms.map(function(n){return function(e,n){var r=null;if("setToServerValue"in n)"REQUEST_TIME"===n.setToServerValue||rk(),r=new iG;else if("appendMissingElements"in n){var i=n.appendMissingElements.values||[];r=new iH(i)}else if("removeAllFromArray"in n){var o=n.removeAllFromArray.values||[];r=new iZ(o)}else"increment"in n?r=new iX(e,n.increment):rk();var s=rU.fromServerFormat(n.fieldPath);return new iJ(s,r)}(e,n)}):[];if(n.update){n.update.name;var o=oK(e,n.update.name),s=new ir({mapValue:{fields:n.update.fields}});if(n.updateMask){var a,u,c=(u=n.updateMask.fieldPaths||[],new rB(u.map(function(e){return rU.fromServerFormat(e)})));return new i9(o,s,c,r,i)}return new i8(o,s,r,i)}if(n.delete){var l=oK(e,n.delete);return new ol(l,r)}if(n.verify){var h=oK(e,n.verify);return new oh(h,r)}return rk()}function oJ(e,n){return{documents:[oG(e,n.path)]}}function o0(e,n){var r,i={structuredQuery:{}},o=n.path;null!==n.collectionGroup?(i.parent=oG(e,o),i.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(i.parent=oG(e,o.popLast()),i.structuredQuery.from=[{collectionId:o.lastSegment()}]);var s=function(e){if(0!==e.length){var n=e.map(function(e){return function(e){if("=="===e.op){if(r7(e.value))return{unaryFilter:{field:o4(e.field),op:"IS_NAN"}};if(r9(e.value))return{unaryFilter:{field:o4(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(r7(e.value))return{unaryFilter:{field:o4(e.field),op:"IS_NOT_NAN"}};if(r9(e.value))return{unaryFilter:{field:o4(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:o4(e.field),op:oM[e.op],value:e.value}}}(e)});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}}(n.filters);s&&(i.structuredQuery.where=s);var a=function(e){if(0!==e.length)return e.map(function(e){return{field:o4(e.field),direction:oL[e.dir]}})}(n.orderBy);a&&(i.structuredQuery.orderBy=a);var u=(r=n.limit,e.I||r$(r)?r:{value:r});return null!==u&&(i.structuredQuery.limit=u),n.startAt&&(i.structuredQuery.startAt=o2(n.startAt)),n.endAt&&(i.structuredQuery.endAt=o2(n.endAt)),i}function o1(e){var n,r,i,o,s,a,u,c,l,h=oH(e.parent),f=e.structuredQuery,d=f.from?f.from.length:0,p=null;if(d>0){1===d||rk();var m=f.from[0];m.allDescendants?p=m.collectionId:h=h.child(m.collectionId)}var g=[];f.where&&(g=function e(n){return n?void 0!==n.unaryFilter?[function(e){switch(e.unaryFilter.op){case"IS_NAN":var n=o5(e.unaryFilter.field);return il.create(n,"==",{doubleValue:NaN});case"IS_NULL":var r=o5(e.unaryFilter.field);return il.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=o5(e.unaryFilter.field);return il.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=o5(e.unaryFilter.field);return il.create(o,"!=",{nullValue:"NULL_VALUE"});default:return rk()}}(n)]:void 0!==n.fieldFilter?[il.create(o5(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rk()}}(n.fieldFilter.op),n.fieldFilter.value)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(function(n){return e(n)}).reduce(function(e,n){return e.concat(n)}):rk():[]}(f.where));var v=[];f.orderBy&&(v=f.orderBy.map(function(e){return new iT(o5(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}));var y=null;f.limit&&(y=r$(r="object"==typeof(n=f.limit)?n.value:n)?null:r);var b=null;f.startAt&&(b=o3(f.startAt));var w=null;return f.endAt&&(w=o3(f.endAt)),i=h,o=p,s=v,a=g,u=y,c=b,l=w,new i_(i,o,s,a,u,"F",c,l)}function o2(e){return{before:e.before,values:e.position}}function o3(e){var n=!!e.before,r=e.values||[];return new iw(r,n)}function o4(e){return{fieldPath:e.canonicalString()}}function o5(e){return rU.fromServerFormat(e.fieldPath)}function o6(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o8(e){for(var n,r,i="",o=0;o<e.length;o++)i.length>0&&(i+="\x01\x01"),i=function(e,n){for(var r=n,i=e.length,o=0;o<i;o++){var s=e.charAt(o);switch(s){case"\x00":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=s}}return r}(e.get(o),i);return i+"\x01\x01"}function o9(e){var n=e.length;if(n>=2||rk(),2===n)return"\x01"===e.charAt(0)&&"\x01"===e.charAt(1)||rk(),rV.emptyPath();for(var r=n-2,i=[],o="",s=0;s<n;){var a=e.indexOf("\x01",s);switch((a<0||a>r)&&rk(),e.charAt(a+1)){case"\x01":var u=e.substring(s,a),c=void 0;0===o.length?c=u:(c=o+=u,o=""),i.push(c);break;case"\x10":o+=e.substring(s,a)+"\x00";break;case"\x11":o+=e.substring(s,a+1);break;default:rk()}s=a+2}return new rV(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var o7=function(e,n){this.seconds=e,this.nanoseconds=n},st=function(e,n,r){this.ownerId=e,this.allowTabSynchronization=n,this.leaseTimestampMs=r};st.store="owner",st.key="owner";var se=function(e,n,r){this.userId=e,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r};se.store="mutationQueues",se.keyPath="userId";var sn=function(e,n,r,i,o){this.userId=e,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=o};sn.store="mutations",sn.keyPath="batchId",sn.userMutationsIndex="userMutationsIndex",sn.userMutationsKeyPath=["userId","batchId"];var sr=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,n){return[e,o8(n)]},e.key=function(e,n,r){return[e,o8(n),r]},e}();sr.store="documentMutations",sr.PLACEHOLDER=new sr;var si=function(e,n){this.path=e,this.readTime=n},so=function(e,n){this.path=e,this.version=n},ss=function(e,n,r,i,o,s){this.unknownDocument=e,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=o,this.parentPath=s};ss.store="remoteDocuments",ss.readTimeIndex="readTimeIndex",ss.readTimeIndexPath="readTime",ss.collectionReadTimeIndex="collectionReadTimeIndex",ss.collectionReadTimeIndexPath=["parentPath","readTime"];var sa=function(e){this.byteSize=e};sa.store="remoteDocumentGlobal",sa.key="remoteDocumentGlobalKey";var su=function(e,n,r,i,o,s,a){this.targetId=e,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=s,this.query=a};su.store="targets",su.keyPath="targetId",su.queryTargetsIndexName="queryTargetsIndex",su.queryTargetsKeyPath=["canonicalId","targetId"];var sc=function(e,n,r){this.targetId=e,this.path=n,this.sequenceNumber=r};sc.store="targetDocuments",sc.keyPath=["targetId","path"],sc.documentTargetsIndex="documentTargetsIndex",sc.documentTargetsKeyPath=["path","targetId"];var sl=function(e,n,r,i){this.highestTargetId=e,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i};sl.key="targetGlobalKey",sl.store="targetGlobal";var sh=function(e,n){this.collectionId=e,this.parent=n};sh.store="collectionParents",sh.keyPath=["collectionId","parent"];var sf=function(e,n,r,i){this.clientId=e,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i};sf.store="clientMetadata",sf.keyPath="clientId";var sd=function(e,n,r){this.bundleId=e,this.createTime=n,this.version=r};sd.store="bundles",sd.keyPath="bundleId";var sp=function(e,n,r){this.name=e,this.readTime=n,this.bundledQuery=r};sp.store="namedQueries",sp.keyPath="name";var sm=f(f([],f(f([],f(f([],f(f([],[se.store,sn.store,sr.store,ss.store,su.store,st.store,sl.store,sc.store]),[sf.store])),[sa.store])),[sh.store])),[sd.store,sp.store]),sg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",sv=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},e}(),sy=function(){var e=this;this.promise=new Promise(function(n,r){e.resolve=n,e.reject=r})},sb=function(){function e(e){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)},function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)})}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(n,r){var i=this;return this.callbackAttached&&rk(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(n,this.result):new e(function(e,o){i.nextCallback=function(r){i.wrapSuccess(n,r).next(e,o)},i.catchCallback=function(n){i.wrapFailure(r,n).next(e,o)}})},e.prototype.toPromise=function(){var e=this;return new Promise(function(n,r){e.next(n,r)})},e.prototype.wrapUserFunction=function(n){try{var r=n();return r instanceof e?r:e.resolve(r)}catch(n){return e.reject(n)}},e.prototype.wrapSuccess=function(n,r){return n?this.wrapUserFunction(function(){return n(r)}):e.resolve(r)},e.prototype.wrapFailure=function(n,r){return n?this.wrapUserFunction(function(){return n(r)}):e.reject(r)},e.resolve=function(n){return new e(function(e,r){e(n)})},e.reject=function(n){return new e(function(e,r){r(n)})},e.waitFor=function(n){return new e(function(e,r){var i=0,o=0,s=!1;n.forEach(function(n){++i,n.next(function(){++o,s&&o===i&&e()},function(e){return r(e)})}),s=!0,o===i&&e()})},e.or=function(n){for(var r=e.resolve(!1),i=function(n){r=r.next(function(r){return r?e.resolve(r):n()})},o=0;o<n.length;o++)i(n[o]);return r},e.forEach=function(e,n){var r=this,i=[];return e.forEach(function(e,o){i.push(n.call(r,e,o))}),this.waitFor(i)},e}(),sw=function(){function e(e,n){var r=this;this.action=e,this.transaction=n,this.aborted=!1,this.ft=new sy,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new sI(e,n.error)):r.ft.resolve()},this.transaction.onerror=function(n){var i=sk(n.target.error);r.ft.reject(new sI(e,i))}}return e.open=function(n,r,i,o){try{return new e(r,n.transaction(o,i))}catch(e){throw new sI(r,e)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(rS("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var n=this.transaction.objectStore(e);return new s_(n)},e}(),sE=function(){function e(n,r,i){this.name=n,this.version=r,this.wt=i,12.2===e._t(w())&&r_("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return rS("SimpleDb","Removing database:",e),sx(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var n=w(),r=e._t(n),i=e.Et(n);return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||0<r&&r<10||0<i&&i<4.5)},e.gt=function(){var e;return void 0!==ry&&"YES"===(null===(e=ry.env)||void 0===e?void 0:e.Tt)},e.It=function(e,n){return e.store(n)},e._t=function(e){var n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i);return Number(n?n[1].split("_").slice(0,2).join("."):"-1")},e.Et=function(e){var n=e.match(/Android ([\d.]+)/i);return Number(n?n[1].split(".").slice(0,2).join("."):"-1")},e.prototype.At=function(e){return u(this,void 0,void 0,function(){var n,r=this;return c(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(rS("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(n,i){var o=indexedDB.open(r.name,r.version);o.onsuccess=function(e){n(e.target.result)},o.onblocked=function(){i(new sI(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=function(n){var r=n.target.error;"VersionError"===r.name?i(new rE(rw.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):i(new sI(e,r))},o.onupgradeneeded=function(e){rS("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',e.oldVersion);var n=e.target.result;r.wt.Rt(n,o.transaction,e.oldVersion,r.version).next(function(){rS("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return r.bt(e)}),this.db)]}})})},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(n){return e(n)})},e.prototype.runTransaction=function(e,n,r,i){return u(this,void 0,void 0,function(){var o,s,a,u,l;return c(this,function(h){switch(h.label){case 0:o="readonly"===n,s=0,a=function(){var n,a,l,h,f;return c(this,function(c){switch(c.label){case 0:++s,c.label=1;case 1:return c.trys.push([1,4,,5]),[4,u.At(e)];case 2:return u.db=c.sent(),a=i(n=sw.open(u.db,e,o?"readonly":"readwrite",r)).catch(function(e){return n.abort(e),sb.reject(e)}).toPromise(),l={},a.catch(function(){}),[4,n.dt];case 3:return[2,(l.value=(c.sent(),a),l)];case 4:return f="FirebaseError"!==(h=c.sent()).name&&s<3,rS("SimpleDb","Transaction failed with error:",h.message,"Retrying:",f),u.close(),f?[3,5]:[2,{value:Promise.reject(h)}];case 5:return[2]}})},u=this,h.label=1;case 1:return[5,a()];case 2:if("object"==typeof(l=h.sent()))return[2,l.value];h.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),sT=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return sx(this.Pt.delete())},e}(),sI=function(e){function n(n,r){var i=this;return(i=e.call(this,rw.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return s(n,e),n}(rE);function sS(e){return"IndexedDbTransactionError"===e.name}var s_=function(){function e(e){this.store=e}return e.prototype.put=function(e,n){var r;return void 0!==n?(rS("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(rS("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),sx(r)},e.prototype.add=function(e){return rS("SimpleDb","ADD",this.store.name,e,e),sx(this.store.add(e))},e.prototype.get=function(e){var n=this;return sx(this.store.get(e)).next(function(r){return void 0===r&&(r=null),rS("SimpleDb","GET",n.store.name,e,r),r})},e.prototype.delete=function(e){return rS("SimpleDb","DELETE",this.store.name,e),sx(this.store.delete(e))},e.prototype.count=function(){return rS("SimpleDb","COUNT",this.store.name),sx(this.store.count())},e.prototype.Nt=function(e,n){var r=this.cursor(this.options(e,n)),i=[];return this.xt(r,function(e,n){i.push(n)}).next(function(){return i})},e.prototype.kt=function(e,n){rS("SimpleDb","DELETE ALL",this.store.name);var r=this.options(e,n);r.Ft=!1;var i=this.cursor(r);return this.xt(i,function(e,n,r){return r.delete()})},e.prototype.$t=function(e,n){n?r=e:(r={},n=e);var r,i=this.cursor(r);return this.xt(i,n)},e.prototype.Ot=function(e){var n=this.cursor({});return new sb(function(r,i){n.onerror=function(e){i(sk(e.target.error))},n.onsuccess=function(n){var i=n.target.result;i?e(i.primaryKey,i.value).next(function(e){e?i.continue():r()}):r()}})},e.prototype.xt=function(e,n){var r=[];return new sb(function(i,o){e.onerror=function(e){o(e.target.error)},e.onsuccess=function(e){var o=e.target.result;if(o){var s=new sT(o),a=n(o.primaryKey,o.value,s);if(a instanceof sb){var u=a.catch(function(e){return s.done(),sb.reject(e)});r.push(u)}s.isDone?i():null===s.Dt?o.continue():o.continue(s.Dt)}else i()}}).next(function(){return sb.waitFor(r)})},e.prototype.options=function(e,n){var r;return void 0!==e&&("string"==typeof e?r=e:n=e),{index:r,range:n}},e.prototype.cursor=function(e){var n="next";if(e.reverse&&(n="prev"),e.index){var r=this.store.index(e.index);return e.Ft?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)},e}();function sx(e){return new sb(function(n,r){e.onsuccess=function(e){n(e.target.result)},e.onerror=function(e){r(sk(e.target.error))}})}var sA=!1;function sk(e){var n=sE._t(w());if(n>=12.2&&n<13){var r="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(r)>=0){var i=new rE("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+r+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return sA||(sA=!0,setTimeout(function(){throw i},0)),i}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sN=function(e){function n(n,r){var i=this;return(i=e.call(this)||this).Mt=n,i.currentSequenceNumber=r,i}return s(n,e),n}(sv);function sC(e,n){return sE.It(e.Mt,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sD=function(){function e(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return e.prototype.applyToRemoteDocument=function(e,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(e.key)&&function(e,n,r){var i,o;e instanceof i8?(i=e.value.clone(),o=ot(e.fieldTransforms,n,r.transformResults),i.setAll(o),n.convertToFoundDocument(r.version,i).setHasCommittedMutations()):e instanceof i9?function(e,n,r){if(i2(e.precondition,n)){var i=ot(e.fieldTransforms,n,r.transformResults),o=n.data;o.setAll(i7(e)),o.setAll(i),n.convertToFoundDocument(r.version,o).setHasCommittedMutations()}else n.convertToUnknownDocument(r.version)}(e,n,r):function(e,n,r){n.convertToNoDocument(r.version).setHasCommittedMutations()}(0,n,r)}(o,e,r[i])}},e.prototype.applyToLocalView=function(e){for(var n,r=0,i=this.baseMutations;r<i.length;r++)(n=i[r]).key.isEqual(e.key)&&i4(n,e,this.localWriteTime);for(var o=0,s=this.mutations;o<s.length;o++)(n=s[o]).key.isEqual(e.key)&&i4(n,e,this.localWriteTime)},e.prototype.applyToLocalDocumentSet=function(e){var n=this;this.mutations.forEach(function(r){var i=e.get(r.key);n.applyToLocalView(i),i.isValidDocument()||i.convertToNoDocument(rR.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(e,n){return e.add(n.key)},oS())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&rD(this.mutations,e.mutations,function(e,n){return i5(e,n)})&&rD(this.baseMutations,e.baseMutations,function(e,n){return i5(e,n)})},e}(),sP=function(){function e(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return e.from=function(n,r,i){n.mutations.length===i.length||rk();for(var o=oT,s=n.mutations,a=0;a<s.length;a++)o=o.insert(s[a].key,i[a].version);return new e(n,r,i,o)},e}(),sR=function(){function e(e,n,r,i,o,s,a){void 0===o&&(o=rR.min()),void 0===s&&(s=rR.min()),void 0===a&&(a=rq.EMPTY_BYTE_STRING),this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a}return e.prototype.withSequenceNumber=function(n){return new e(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(n,r){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,n)},e.prototype.withLastLimboFreeSnapshotVersion=function(n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken)},e}(),sO=function(e){this.Lt=e};function sL(e,n){if(n.document)return oX(e.Lt,n.document,!!n.hasCommittedMutations);if(n.noDocument){var r=rQ.fromSegments(n.noDocument.path),i=sU(n.noDocument.readTime),o=ii.newNoDocument(r,i);return n.hasCommittedMutations?o.setHasCommittedMutations():o}if(n.unknownDocument){var s=rQ.fromSegments(n.unknownDocument.path);return i=sU(n.unknownDocument.version),ii.newUnknownDocument(s,i)}return rk()}function sM(e,n,r){var i=sj(r),o=n.key.path.popLast().toArray();if(n.isFoundDocument()){var s,a={name:oz(s=e.Lt,n.key),fields:n.data.value.mapValue.fields,updateTime:oV(s,n.version.toTimestamp())},u=n.hasCommittedMutations;return new ss(null,null,a,u,i,o)}if(n.isNoDocument()){var c=n.key.path.toArray(),l=sF(n.version);return u=n.hasCommittedMutations,new ss(null,new si(c,l),null,u,i,o)}if(n.isUnknownDocument()){var h=n.key.path.toArray(),f=sF(n.version);return new ss(new so(h,f),null,null,!0,i,o)}return rk()}function sj(e){var n=e.toTimestamp();return[n.seconds,n.nanoseconds]}function sV(e){var n=new rP(e[0],e[1]);return rR.fromTimestamp(n)}function sF(e){var n=e.toTimestamp();return new o7(n.seconds,n.nanoseconds)}function sU(e){var n=new rP(e.seconds,e.nanoseconds);return rR.fromTimestamp(n)}function sB(e,n){for(var r=(n.baseMutations||[]).map(function(n){return oQ(e.Lt,n)}),i=0;i<n.mutations.length-1;++i){var o=n.mutations[i];if(i+1<n.mutations.length&&void 0!==n.mutations[i+1].transform){var s=n.mutations[i+1];o.updateTransforms=s.transform.fieldTransforms,n.mutations.splice(i+1,1),++i}}var a=n.mutations.map(function(n){return oQ(e.Lt,n)}),u=rP.fromMillis(n.localWriteTimeMs);return new sD(n.batchId,u,r,a)}function sq(e){var n,r,i=sU(e.readTime),o=void 0!==e.lastLimboFreeSnapshotVersion?sU(e.lastLimboFreeSnapshotVersion):rR.min();return void 0!==e.query.documents?(1===(r=e.query).documents.length||rk(),n=iR(ix(oH(r.documents[0])))):n=iR(o1(e.query)),new sR(n,e.targetId,0,e.lastListenSequenceNumber,i,o,rq.fromBase64String(e.resumeToken))}function sz(e,n){var r,i=sF(n.snapshotVersion),o=sF(n.lastLimboFreeSnapshotVersion);r=ic(n.target)?oJ(e.Lt,n.target):o0(e.Lt,n.target);var s=n.resumeToken.toBase64();return new su(n.targetId,ia(n.target),i,s,n.sequenceNumber,o,r)}function sK(e){var n=o1({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?iO(n,n.limit,"L"):n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sG=function(){function e(){}return e.prototype.getBundleMetadata=function(e,n){return sH(e).get(n).next(function(e){if(e)return{id:e.bundleId,createTime:sU(e.createTime),version:e.version}})},e.prototype.saveBundleMetadata=function(e,n){return sH(e).put({bundleId:n.id,createTime:sF(oU(n.createTime)),version:n.version})},e.prototype.getNamedQuery=function(e,n){return sW(e).get(n).next(function(e){if(e)return{name:e.name,query:sK(e.bundledQuery),readTime:sU(e.readTime)}})},e.prototype.saveNamedQuery=function(e,n){return sW(e).put({name:n.name,readTime:sF(oU(n.readTime)),bundledQuery:n.bundledQuery})},e}();function sH(e){return sC(e,sd.store)}function sW(e){return sC(e,sp.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sZ=function(){function e(){this.Bt=new s$}return e.prototype.addToCollectionParentIndex=function(e,n){return this.Bt.add(n),sb.resolve()},e.prototype.getCollectionParents=function(e,n){return sb.resolve(this.Bt.getEntries(n))},e}(),s$=function(){function e(){this.index={}}return e.prototype.add=function(e){var n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new oy(rV.comparator),o=!i.has(r);return this.index[n]=i.add(r),o},e.prototype.has=function(e){var n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)},e.prototype.getEntries=function(e){return(this.index[e]||new oy(rV.comparator)).toArray()},e}(),sX=function(){function e(){this.qt=new s$}return e.prototype.addToCollectionParentIndex=function(e,n){var r=this;if(!this.qt.has(n)){var i=n.lastSegment(),o=n.popLast();e.addOnCommittedListener(function(){r.qt.add(n)});var s={collectionId:i,parent:o8(o)};return sY(e).put(s)}return sb.resolve()},e.prototype.getCollectionParents=function(e,n){var r=[],i=IDBKeyRange.bound([n,""],[n+"\x00",""],!1,!0);return sY(e).Nt(i).next(function(e){for(var i=0;i<e.length;i++){var o=e[i];if(o.collectionId!==n)break;r.push(o9(o.parent))}return r})},e}();function sY(e){return sC(e,sh.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sQ={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sJ=function(){function e(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(n){return new e(n,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(e,n,r){var i=e.store(sn.store),o=e.store(sr.store),s=[],a=IDBKeyRange.only(r.batchId),u=0,c=i.$t({range:a},function(e,n,r){return u++,r.delete()});s.push(c.next(function(){1===u||rk()}));for(var l=[],h=0,f=r.mutations;h<f.length;h++){var d=f[h],p=sr.key(n,d.key.path,r.batchId);s.push(o.delete(p)),l.push(d.key)}return sb.waitFor(s).next(function(){return l})}function s1(e){var n;if(!e)return 0;if(e.document)n=e.document;else if(e.unknownDocument)n=e.unknownDocument;else{if(!e.noDocument)throw rk();n=e.noDocument}return JSON.stringify(n).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sJ.DEFAULT_COLLECTION_PERCENTILE=10,sJ.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sJ.DEFAULT=new sJ(41943040,sJ.DEFAULT_COLLECTION_PERCENTILE,sJ.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sJ.DISABLED=new sJ(-1,0,0);var s2=function(){function e(e,n,r,i){this.userId=e,this.R=n,this.Ut=r,this.referenceDelegate=i,this.Kt={}}return e.Qt=function(n,r,i,o){return""!==n.uid||rk(),new e(n.isAuthenticated()?n.uid:"",r,i,o)},e.prototype.checkEmpty=function(e){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return s4(e).$t({index:sn.userMutationsIndex,range:r},function(e,r,i){n=!1,i.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(e,n,r,i){var o=this,s=s5(e),a=s4(e);return a.add({}).next(function(u){"number"==typeof u||rk();for(var c,l,h,f,d=new sD(u,n,r,i),p=(c=o.R,l=o.userId,h=d.baseMutations.map(function(e){return oY(c.Lt,e)}),f=d.mutations.map(function(e){return oY(c.Lt,e)}),new sn(l,d.batchId,d.localWriteTime.toMillis(),h,f)),m=[],g=new oy(function(e,n){return rC(e.canonicalString(),n.canonicalString())}),v=0;v<i.length;v++){var y=i[v],b=sr.key(o.userId,y.key.path,u);g=g.add(y.key.path.popLast()),m.push(a.put(p)),m.push(s.put(b,sr.PLACEHOLDER))}return g.forEach(function(n){m.push(o.Ut.addToCollectionParentIndex(e,n))}),e.addOnCommittedListener(function(){o.Kt[u]=d.keys()}),sb.waitFor(m).next(function(){return d})})},e.prototype.lookupMutationBatch=function(e,n){var r=this;return s4(e).get(n).next(function(e){return e?(e.userId===r.userId||rk(),sB(r.R,e)):null})},e.prototype.jt=function(e,n){var r=this;return this.Kt[n]?sb.resolve(this.Kt[n]):this.lookupMutationBatch(e,n).next(function(e){if(e){var i=e.keys();return r.Kt[n]=i,i}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(e,n){var r=this,i=n+1,o=IDBKeyRange.lowerBound([this.userId,i]),s=null;return s4(e).$t({index:sn.userMutationsIndex,range:o},function(e,n,o){n.userId===r.userId&&(n.batchId>=i||rk(),s=sB(r.R,n)),o.done()}).next(function(){return s})},e.prototype.getHighestUnacknowledgedBatchId=function(e){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return s4(e).$t({index:sn.userMutationsIndex,range:n,reverse:!0},function(e,n,i){r=n.batchId,i.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(e){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return s4(e).Nt(sn.userMutationsIndex,r).next(function(e){return e.map(function(e){return sB(n.R,e)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var r=this,i=sr.prefixForPath(this.userId,n.path),o=IDBKeyRange.lowerBound(i),s=[];return s5(e).$t({range:o},function(i,o,a){var u=i[0],c=i[1],l=i[2],h=o9(c);if(u===r.userId&&n.path.isEqual(h))return s4(e).get(l).next(function(e){if(!e)throw rk();e.userId===r.userId||rk(),s.push(sB(r.R,e))});a.done()}).next(function(){return s})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var r=this,i=new oy(rC),o=[];return n.forEach(function(n){var s=sr.prefixForPath(r.userId,n.path),a=IDBKeyRange.lowerBound(s),u=s5(e).$t({range:a},function(e,o,s){var a=e[0],u=e[1],c=e[2],l=o9(u);a===r.userId&&n.path.isEqual(l)?i=i.add(c):s.done()});o.push(u)}),sb.waitFor(o).next(function(){return r.Wt(e,i)})},e.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var r=this,i=n.path,o=i.length+1,s=sr.prefixForPath(this.userId,i),a=IDBKeyRange.lowerBound(s),u=new oy(rC);return s5(e).$t({range:a},function(e,n,s){var a=e[0],c=e[1],l=e[2],h=o9(c);a===r.userId&&i.isPrefixOf(h)?h.length===o&&(u=u.add(l)):s.done()}).next(function(){return r.Wt(e,u)})},e.prototype.Wt=function(e,n){var r=this,i=[],o=[];return n.forEach(function(n){o.push(s4(e).get(n).next(function(e){if(null===e)throw rk();e.userId===r.userId||rk(),i.push(sB(r.R,e))}))}),sb.waitFor(o).next(function(){return i})},e.prototype.removeMutationBatch=function(e,n){var r=this;return s0(e.Mt,this.userId,n).next(function(i){return e.addOnCommittedListener(function(){r.Gt(n.batchId)}),sb.forEach(i,function(n){return r.referenceDelegate.markPotentiallyOrphaned(e,n)})})},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var n=this;return this.checkEmpty(e).next(function(r){if(!r)return sb.resolve();var i=IDBKeyRange.lowerBound(sr.prefixForUser(n.userId)),o=[];return s5(e).$t({range:i},function(e,r,i){if(e[0]===n.userId){var s=o9(e[1]);o.push(s)}else i.done()}).next(function(){0===o.length||rk()})})},e.prototype.containsKey=function(e,n){return s3(e,this.userId,n)},e.prototype.zt=function(e){var n=this;return s6(e).get(this.userId).next(function(e){return e||new se(n.userId,-1,"")})},e}();function s3(e,n,r){var i=sr.prefixForPath(n,r.path),o=i[1],s=IDBKeyRange.lowerBound(i),a=!1;return s5(e).$t({range:s,Ft:!0},function(e,r,i){var s=e[0],u=e[1];e[2],s===n&&u===o&&(a=!0),i.done()}).next(function(){return a})}function s4(e){return sC(e,sn.store)}function s5(e){return sC(e,sr.store)}function s6(e){return sC(e,se.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var s8=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),s9=function(){function e(e,n){this.referenceDelegate=e,this.R=n}return e.prototype.allocateTargetId=function(e){var n=this;return this.Xt(e).next(function(r){var i=new s8(r.highestTargetId);return r.highestTargetId=i.next(),n.Zt(e,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(e){return rR.fromTimestamp(new rP(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(e){return e.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(e,n,r){var i=this;return this.Xt(e).next(function(o){return o.highestListenSequenceNumber=n,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),n>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=n),i.Zt(e,o)})},e.prototype.addTargetData=function(e,n){var r=this;return this.te(e,n).next(function(){return r.Xt(e).next(function(i){return i.targetCount+=1,r.ee(n,i),r.Zt(e,i)})})},e.prototype.updateTargetData=function(e,n){return this.te(e,n)},e.prototype.removeTargetData=function(e,n){var r=this;return this.removeMatchingKeysForTargetId(e,n.targetId).next(function(){return s7(e).delete(n.targetId)}).next(function(){return r.Xt(e)}).next(function(n){return n.targetCount>0||rk(),n.targetCount-=1,r.Zt(e,n)})},e.prototype.removeTargets=function(e,n,r){var i=this,o=0,s=[];return s7(e).$t(function(a,u){var c=sq(u);c.sequenceNumber<=n&&null===r.get(c.targetId)&&(o++,s.push(i.removeTargetData(e,c)))}).next(function(){return sb.waitFor(s)}).next(function(){return o})},e.prototype.forEachTarget=function(e,n){return s7(e).$t(function(e,r){n(sq(r))})},e.prototype.Xt=function(e){return at(e).get(sl.key).next(function(e){return null!==e||rk(),e})},e.prototype.Zt=function(e,n){return at(e).put(sl.key,n)},e.prototype.te=function(e,n){return s7(e).put(sz(this.R,n))},e.prototype.ee=function(e,n){var r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(e){return this.Xt(e).next(function(e){return e.targetCount})},e.prototype.getTargetData=function(e,n){var r=ia(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return s7(e).$t({range:i,index:su.queryTargetsIndexName},function(e,r,i){var s=sq(r);iu(n,s.target)&&(o=s,i.done())}).next(function(){return o})},e.prototype.addMatchingKeys=function(e,n,r){var i=this,o=[],s=ae(e);return n.forEach(function(n){var a=o8(n.path);o.push(s.put(new sc(r,a))),o.push(i.referenceDelegate.addReference(e,r,n))}),sb.waitFor(o)},e.prototype.removeMatchingKeys=function(e,n,r){var i=this,o=ae(e);return sb.forEach(n,function(n){var s=o8(n.path);return sb.waitFor([o.delete([r,s]),i.referenceDelegate.removeReference(e,r,n)])})},e.prototype.removeMatchingKeysForTargetId=function(e,n){var r=ae(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},e.prototype.getMatchingKeysForTargetId=function(e,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=ae(e),o=oS();return i.$t({range:r,Ft:!0},function(e,n,r){var i=o9(e[1]),s=new rQ(i);o=o.add(s)}).next(function(){return o})},e.prototype.containsKey=function(e,n){var r=o8(n.path),i=IDBKeyRange.bound([r],[r+"\x00"],!1,!0),o=0;return ae(e).$t({index:sc.documentTargetsIndex,Ft:!0,range:i},function(e,n,r){var i=e[0];e[1],0!==i&&(o++,r.done())}).next(function(){return o>0})},e.prototype.lt=function(e,n){return s7(e).get(n).next(function(e){return e?sq(e):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s7(e){return sC(e,su.store)}function at(e){return sC(e,sl.store)}function ae(e){return sC(e,sc.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(e){return u(this,void 0,void 0,function(){return c(this,function(n){if(e.code!==rw.FAILED_PRECONDITION||e.message!==sg)throw e;return rS("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(e,n){var r=e[0],i=e[1],o=n[0],s=n[1],a=rC(r,o);return 0===a?rC(i,s):a}var ai=function(){function e(e){this.ne=e,this.buffer=new oy(ar),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var n=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();0>ar(n,r)&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),ao=function(){function e(e,n){this.garbageCollector=e,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var n=this,r=this.oe?3e5:6e4;rS("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return u(n,void 0,void 0,function(){var n;return c(this,function(r){switch(r.label){case 0:this.ce=null,this.oe=!0,r.label=1;case 1:return r.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return r.sent(),[3,7];case 3:return sS(n=r.sent())?(rS("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n),[3,6]):[3,4];case 4:return[4,an(n)];case 5:r.sent(),r.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return r.sent(),[2]}})})})},e}(),as=function(){function e(e,n){this.ae=e,this.params=n}return e.prototype.calculateTargetCount=function(e,n){return this.ae.he(e).next(function(e){return Math.floor(n/100*e)})},e.prototype.nthSequenceNumber=function(e,n){var r=this;if(0===n)return sb.resolve(rb.o);var i=new ai(n);return this.ae.forEachTarget(e,function(e){return i.re(e.sequenceNumber)}).next(function(){return r.ae.le(e,function(e){return i.re(e)})}).next(function(){return i.maxValue})},e.prototype.removeTargets=function(e,n,r){return this.ae.removeTargets(e,n,r)},e.prototype.removeOrphanedDocuments=function(e,n){return this.ae.removeOrphanedDocuments(e,n)},e.prototype.collect=function(e,n){var r=this;return -1===this.params.cacheSizeCollectionThreshold?(rS("LruGarbageCollector","Garbage collection skipped; disabled"),sb.resolve(sQ)):this.getCacheSize(e).next(function(i){return i<r.params.cacheSizeCollectionThreshold?(rS("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),sQ):r.fe(e,n)})},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,n){var r,i,o,s,a,u,c,l=this,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(n){return n>l.params.maximumSequenceNumbersToCollect?(rS("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+n),i=l.params.maximumSequenceNumbersToCollect):i=n,s=Date.now(),l.nthSequenceNumber(e,i)}).next(function(i){return r=i,a=Date.now(),l.removeTargets(e,r,n)}).next(function(n){return o=n,u=Date.now(),l.removeOrphanedDocuments(e,r)}).next(function(e){return c=Date.now(),rI()<=to.DEBUG&&rS("LruGarbageCollector","LRU Garbage Collection\n	Counted targets in "+(s-h)+"ms\n	Determined least recently used "+i+" in "+(a-s)+"ms\n	Removed "+o+" targets in "+(u-a)+"ms\n	Removed "+e+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-h)+"ms"),sb.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:e})})},e}(),aa=function(){function e(e,n){this.db=e,this.garbageCollector=new as(this,n)}return e.prototype.he=function(e){var n=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(e){return n.next(function(n){return e+n})})},e.prototype.de=function(e){var n=0;return this.le(e,function(e){n++}).next(function(){return n})},e.prototype.forEachTarget=function(e,n){return this.db.getTargetCache().forEachTarget(e,n)},e.prototype.le=function(e,n){return this.we(e,function(e,r){return n(r)})},e.prototype.addReference=function(e,n,r){return au(e,r)},e.prototype.removeReference=function(e,n,r){return au(e,r)},e.prototype.removeTargets=function(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)},e.prototype.markPotentiallyOrphaned=function(e,n){return au(e,n)},e.prototype._e=function(e,n){var r;return r=!1,s6(e).Ot(function(i){return s3(e,i,n).next(function(e){return e&&(r=!0),sb.resolve(!e)})}).next(function(){return r})},e.prototype.removeOrphanedDocuments=function(e,n){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[],s=0;return this.we(e,function(a,u){if(u<=n){var c=r._e(e,a).next(function(n){if(!n)return s++,i.getEntry(e,a).next(function(){return i.removeEntry(a),ae(e).delete([0,o8(a.path)])})});o.push(c)}}).next(function(){return sb.waitFor(o)}).next(function(){return i.apply(e)}).next(function(){return s})},e.prototype.removeTarget=function(e,n){var r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)},e.prototype.updateLimboDocument=function(e,n){return au(e,n)},e.prototype.we=function(e,n){var r,i=ae(e),o=rb.o;return i.$t({index:sc.documentTargetsIndex},function(e,i){var s=e[0];e[1];var a=i.path,u=i.sequenceNumber;0===s?(o!==rb.o&&n(new rQ(o9(r)),o),o=u,r=a):o=rb.o}).next(function(){o!==rb.o&&n(new rQ(o9(r)),o)})},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function au(e,n){var r;return ae(e).put((r=e.currentSequenceNumber,new sc(0,o8(n.path),r)))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ac=function(){function e(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={}}return e.prototype.get=function(e){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(var i=0;i<r.length;i++){var o=r[i],s=o[0],a=o[1];if(this.equalsFn(s,e))return a}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,n){var r=this.mapKeyFn(e),i=this.inner[r];if(void 0!==i){for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n])}else this.inner[r]=[[e,n]]},e.prototype.delete=function(e){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),!0;return!1},e.prototype.forEach=function(e){rL(this.inner,function(n,r){for(var i=0;i<r.length;i++){var o=r[i];e(o[0],o[1])}})},e.prototype.isEmpty=function(){return rM(this.inner)},e}(),al=function(){function e(){this.changes=new ac(function(e){return e.toString()},function(e,n){return e.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var n=this.changes.get(e);return n?n.readTime:rR.min()},e.prototype.addEntry=function(e,n){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:n})},e.prototype.removeEntry=function(e,n){void 0===n&&(n=null),this.assertNotApplied(),this.changes.set(e,{document:ii.newInvalidDocument(e),readTime:n})},e.prototype.getEntry=function(e,n){this.assertNotApplied();var r=this.changes.get(n);return void 0!==r?sb.resolve(r.document):this.getFromCache(e,n)},e.prototype.getEntries=function(e,n){return this.getAllFromCache(e,n)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),ah=function(){function e(e,n){this.R=e,this.Ut=n}return e.prototype.addEntry=function(e,n,r){return ap(e).put(am(n),r)},e.prototype.removeEntry=function(e,n){var r=ap(e),i=am(n);return r.delete(i)},e.prototype.updateMetadata=function(e,n){var r=this;return this.getMetadata(e).next(function(i){return i.byteSize+=n,r.me(e,i)})},e.prototype.getEntry=function(e,n){var r=this;return ap(e).get(am(n)).next(function(e){return r.ye(n,e)})},e.prototype.ge=function(e,n){var r=this;return ap(e).get(am(n)).next(function(e){return{document:r.ye(n,e),size:s1(e)}})},e.prototype.getEntries=function(e,n){var r=this,i=ow;return this.pe(e,n,function(e,n){var o=r.ye(e,n);i=i.insert(e,o)}).next(function(){return i})},e.prototype.Ee=function(e,n){var r=this,i=ow,o=new om(rQ.comparator);return this.pe(e,n,function(e,n){var s=r.ye(e,n);i=i.insert(e,s),o=o.insert(e,s1(n))}).next(function(){return{documents:i,Te:o}})},e.prototype.pe=function(e,n,r){if(n.isEmpty())return sb.resolve();var i=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),o=n.getIterator(),s=o.getNext();return ap(e).$t({range:i},function(e,n,i){for(var a=rQ.fromSegments(e);s&&0>rQ.comparator(s,a);)r(s,null),s=o.getNext();s&&s.isEqual(a)&&(r(s,n),s=o.hasNext()?o.getNext():null),s?i.Ct(s.path.toArray()):i.done()}).next(function(){for(;s;)r(s,null),s=o.hasNext()?o.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(e,n,r){var i=this,o=ow,s=n.path.length+1,a={};if(r.isEqual(rR.min())){var u=n.path.toArray();a.range=IDBKeyRange.lowerBound(u)}else{var c=n.path.toArray(),l=sj(r);a.range=IDBKeyRange.lowerBound([c,l],!0),a.index=ss.collectionReadTimeIndex}return ap(e).$t(a,function(e,r,a){if(e.length===s){var u=sL(i.R,r);n.path.isPrefixOf(u.key.path)?iV(n,u)&&(o=o.insert(u.key,u)):a.done()}}).next(function(){return o})},e.prototype.newChangeBuffer=function(e){return new af(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next(function(e){return e.byteSize})},e.prototype.getMetadata=function(e){return ad(e).get(sa.key).next(function(e){return e||rk(),e})},e.prototype.me=function(e,n){return ad(e).put(sa.key,n)},e.prototype.ye=function(e,n){if(n){var r=sL(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(rR.min()))return r}return ii.newInvalidDocument(e)},e}(),af=function(e){function n(n,r){var i=this;return(i=e.call(this)||this).Ie=n,i.trackRemovals=r,i.Ae=new ac(function(e){return e.toString()},function(e,n){return e.isEqual(n)}),i}return s(n,e),n.prototype.applyChanges=function(e){var n=this,r=[],i=0,o=new oy(function(e,n){return rC(e.canonicalString(),n.canonicalString())});return this.changes.forEach(function(s,a){var u=n.Ae.get(s);if(a.document.isValidDocument()){var c=sM(n.Ie.R,a.document,n.getReadTime(s));o=o.add(s.path.popLast()),i+=s1(c)-u,r.push(n.Ie.addEntry(e,s,c))}else if(i-=u,n.trackRemovals){var l=sM(n.Ie.R,ii.newNoDocument(s,rR.min()),n.getReadTime(s));r.push(n.Ie.addEntry(e,s,l))}else r.push(n.Ie.removeEntry(e,s))}),o.forEach(function(i){r.push(n.Ie.Ut.addToCollectionParentIndex(e,i))}),r.push(this.Ie.updateMetadata(e,i)),sb.waitFor(r)},n.prototype.getFromCache=function(e,n){var r=this;return this.Ie.ge(e,n).next(function(e){return r.Ae.set(n,e.size),e.document})},n.prototype.getAllFromCache=function(e,n){var r=this;return this.Ie.Ee(e,n).next(function(e){var n=e.documents;return e.Te.forEach(function(e,n){r.Ae.set(e,n)}),n})},n}(al);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(e){return sC(e,sa.store)}function ap(e){return sC(e,ss.store)}function am(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ag=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,n,r,i){var o=this;r<i&&r>=0&&i<=11||rk();var s=new sw("createOrUpgrade",n);r<1&&i>=1&&(function(e){e.createObjectStore(st.store)}(e),e.createObjectStore(se.store,{keyPath:se.keyPath}),e.createObjectStore(sn.store,{keyPath:sn.keyPath,autoIncrement:!0}).createIndex(sn.userMutationsIndex,sn.userMutationsKeyPath,{unique:!0}),e.createObjectStore(sr.store),av(e),function(e){e.createObjectStore(ss.store)}(e));var a=sb.resolve();return r<3&&i>=3&&(0!==r&&(e.deleteObjectStore(sc.store),e.deleteObjectStore(su.store),e.deleteObjectStore(sl.store),av(e)),a=a.next(function(){var e,n;return e=s.store(sl.store),n=new sl(0,0,rR.min().toTimestamp(),0),e.put(sl.key,n)})),r<4&&i>=4&&(0!==r&&(a=a.next(function(){return s.store(sn.store).Nt().next(function(n){e.deleteObjectStore(sn.store),e.createObjectStore(sn.store,{keyPath:sn.keyPath,autoIncrement:!0}).createIndex(sn.userMutationsIndex,sn.userMutationsKeyPath,{unique:!0});var r=s.store(sn.store),i=n.map(function(e){return r.put(e)});return sb.waitFor(i)})})),a=a.next(function(){!function(e){e.createObjectStore(sf.store,{keyPath:sf.keyPath})}(e)})),r<5&&i>=5&&(a=a.next(function(){return o.Re(s)})),r<6&&i>=6&&(a=a.next(function(){return function(e){e.createObjectStore(sa.store)}(e),o.be(s)})),r<7&&i>=7&&(a=a.next(function(){return o.ve(s)})),r<8&&i>=8&&(a=a.next(function(){return o.Pe(e,s)})),r<9&&i>=9&&(a=a.next(function(){var r;e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges"),(r=n.objectStore(ss.store)).createIndex(ss.readTimeIndex,ss.readTimeIndexPath,{unique:!1}),r.createIndex(ss.collectionReadTimeIndex,ss.collectionReadTimeIndexPath,{unique:!1})})),r<10&&i>=10&&(a=a.next(function(){return o.Ve(s)})),r<11&&i>=11&&(a=a.next(function(){(function(e){e.createObjectStore(sd.store,{keyPath:sd.keyPath})})(e),function(e){e.createObjectStore(sp.store,{keyPath:sp.keyPath})}(e)})),a},e.prototype.be=function(e){var n=0;return e.store(ss.store).$t(function(e,r){n+=s1(r)}).next(function(){var r=new sa(n);return e.store(sa.store).put(sa.key,r)})},e.prototype.Re=function(e){var n=this,r=e.store(se.store),i=e.store(sn.store);return r.Nt().next(function(r){return sb.forEach(r,function(r){var o=IDBKeyRange.bound([r.userId,-1],[r.userId,r.lastAcknowledgedBatchId]);return i.Nt(sn.userMutationsIndex,o).next(function(i){return sb.forEach(i,function(i){i.userId===r.userId||rk();var o=sB(n.R,i);return s0(e,r.userId,o).next(function(){})})})})})},e.prototype.ve=function(e){var n=e.store(sc.store),r=e.store(ss.store);return e.store(sl.store).get(sl.key).next(function(e){var i=[];return r.$t(function(r,o){var s=new rV(r),a=[0,o8(s)];i.push(n.get(a).next(function(r){return r?sb.resolve():n.put(new sc(0,o8(s),e.highestListenSequenceNumber))}))}).next(function(){return sb.waitFor(i)})})},e.prototype.Pe=function(e,n){e.createObjectStore(sh.store,{keyPath:sh.keyPath});var r=n.store(sh.store),i=new s$,o=function(e){if(i.add(e)){var n=e.lastSegment(),o=e.popLast();return r.put({collectionId:n,parent:o8(o)})}};return n.store(ss.store).$t({Ft:!0},function(e,n){return o(new rV(e).popLast())}).next(function(){return n.store(sr.store).$t({Ft:!0},function(e,n){e[0];var r=e[1];return e[2],o(o9(r).popLast())})})},e.prototype.Ve=function(e){var n=this,r=e.store(su.store);return r.$t(function(e,i){var o=sq(i),s=sz(n.R,o);return r.put(s)})},e}();function av(e){e.createObjectStore(sc.store,{keyPath:sc.keyPath}).createIndex(sc.documentTargetsIndex,sc.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(su.store,{keyPath:su.keyPath}).createIndex(su.queryTargetsIndexName,su.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(sl.store)}var ay="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ab=function(){function e(n,r,i,o,s,a,u,c,l,h){var f,d;if(this.allowTabSynchronization=n,this.persistenceKey=r,this.clientId=i,this.Se=s,this.window=a,this.document=u,this.De=l,this.Ce=h,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new rE(rw.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new aa(this,o),this.Le=r+"main",this.R=new sO(c),this.Be=new sE(this.Le,11,new ag(this.R)),this.qe=new s9(this.referenceDelegate,this.R),this.Ut=new sX,this.Ue=(f=this.R,d=this.Ut,new ah(f,d)),this.Ke=new sG,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===h&&r_("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new rE(rw.FAILED_PRECONDITION,ay);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return e.qe.getHighestSequenceNumber(n)})}).then(function(n){e.Ne=new rb(n,e.De)}).then(function(){e.xe=!0}).catch(function(n){return e.Be&&e.Be.close(),Promise.reject(n)})},e.prototype.He=function(e){var n=this;return this.Me=function(r){return u(n,void 0,void 0,function(){return c(this,function(n){return this.started?[2,e(r)]:[2]})})},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var n=this;this.Be.vt(function(r){return u(n,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return null===r.newVersion?[4,e()]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return u(n,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return aE(n).put(new sf(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(n).next(function(n){n||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(n)}).next(function(r){return e.isPrimary&&!r?e.Xe(n).next(function(){return!1}):!!r&&e.Ze(n).next(function(){return!0})})}).catch(function(n){if(sS(n))return rS("IndexedDbPersistence","Failed to extend owner lease: ",n),e.isPrimary;if(!e.allowTabSynchronization)throw n;return rS("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){e.isPrimary!==n&&e.Se.enqueueRetryable(function(){return e.Me(n)}),e.isPrimary=n})},e.prototype.Je=function(e){var n=this;return aw(e).get(st.key).next(function(e){return sb.resolve(n.tn(e))})},e.prototype.en=function(e){return aE(e).delete(this.clientId)},e.prototype.nn=function(){return u(this,void 0,void 0,function(){var e,n,r,i=this;return c(this,function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(e){var n=sC(e,sf.store);return n.Nt().next(function(e){var r=i.rn(e,18e5),o=e.filter(function(e){return -1===r.indexOf(e)});return sb.forEach(o,function(e){return n.delete(e.clientId)}).next(function(){return o})})}).catch(function(){return[]})]);case 1:if(e=o.sent(),this.Qe)for(n=0;n<e.length;n++)r=e[n],this.Qe.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var n=this;return this.Ce?sb.resolve(!0):aw(e).get(st.key).next(function(r){if(null!==r&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new rE(rw.FAILED_PRECONDITION,ay);return!1}}return!(!n.networkEnabled||!n.inForeground)||aE(e).Nt().next(function(e){return void 0===n.rn(e,5e3).find(function(e){if(n.clientId!==e.clientId){var r=!n.networkEnabled&&e.networkEnabled,i=!n.inForeground&&e.inForeground,o=n.networkEnabled===e.networkEnabled;if(r||i&&o)return!0}return!1})})}).next(function(e){return n.isPrimary!==e&&rS("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e})},e.prototype.shutdown=function(){return u(this,void 0,void 0,function(){var e=this;return c(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[st.store,sf.store],function(n){var r=new sN(n,rb.o);return e.Xe(r).next(function(){return e.en(r)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(e,n){var r=this;return e.filter(function(e){return r.sn(e.updateTimeMs,n)&&!r.cn(e.clientId)})},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(n){return aE(n).Nt().next(function(n){return e.rn(n,18e5).map(function(e){return e.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return s2.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,n,r){var i,o=this;return rS("IndexedDbPersistence","Starting transaction:",e),this.Be.runTransaction(e,"readonly"===n?"readonly":"readwrite",sm,function(s){return i=new sN(s,o.Ne?o.Ne.next():rb.o),"readwrite-primary"===n?o.Je(i).next(function(e){return!!e||o.Ye(i)}).next(function(n){if(!n)throw r_("Failed to obtain primary lease for action '"+e+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new rE(rw.FAILED_PRECONDITION,sg);return r(i)}).next(function(e){return o.Ze(i).next(function(){return e})}):o.dn(i).next(function(){return r(i)})}).then(function(e){return i.raiseOnCommittedEvent(),e})},e.prototype.dn=function(e){var n=this;return aw(e).get(st.key).next(function(e){if(null!==e&&n.sn(e.leaseTimestampMs,5e3)&&!n.cn(e.ownerId)&&!n.tn(e)&&!(n.Ce||n.allowTabSynchronization&&e.allowTabSynchronization))throw new rE(rw.FAILED_PRECONDITION,ay)})},e.prototype.Ze=function(e){var n=new st(this.clientId,this.allowTabSynchronization,Date.now());return aw(e).put(st.key,n)},e.yt=function(){return sE.yt()},e.prototype.Xe=function(e){var n=this,r=aw(e);return r.get(st.key).next(function(e){return n.tn(e)?(rS("IndexedDbPersistence","Releasing primary lease."),r.delete(st.key)):sb.resolve()})},e.prototype.sn=function(e,n){var r=Date.now();return!(e<r-n||e>r&&(r_("Detected an update time that is in the future: "+e+" > "+r),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget(function(){return e.inForeground="visible"===e.document.visibilityState,e.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var e,n=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){n.un(),!E()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(e){var n;try{var r=null!==(null===(n=this.Qe)||void 0===n?void 0:n.getItem(this.on(e)));return rS("IndexedDbPersistence","Client '"+e+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(e){return r_("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){r_("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function aw(e){return sC(e,st.store)}function aE(e){return sC(e,sf.store)}function aT(e,n){var r=e.projectId;return e.isDefaultDatabase||(r+="."+e.database),"firestore/"+n+"/"+r+"/"/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var aI=function(e,n){this.progress=e,this.wn=n},aS=function(){function e(e,n,r){this.Ue=e,this._n=n,this.Ut=r}return e.prototype.mn=function(e,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,n).next(function(i){return r.yn(e,n,i)})},e.prototype.yn=function(e,n,r){return this.Ue.getEntry(e,n).next(function(e){for(var n=0;n<r.length;n++)r[n].applyToLocalView(e);return e})},e.prototype.gn=function(e,n){e.forEach(function(e,r){for(var i=0;i<n.length;i++)n[i].applyToLocalView(r)})},e.prototype.pn=function(e,n){var r=this;return this.Ue.getEntries(e,n).next(function(n){return r.En(e,n).next(function(){return n})})},e.prototype.En=function(e,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,n).next(function(e){return r.gn(n,e)})},e.prototype.getDocumentsMatchingQuery=function(e,n,r){return rQ.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length?this.Tn(e,n.path):iD(n)?this.In(e,n,r):this.An(e,n,r)},e.prototype.Tn=function(e,n){return this.mn(e,new rQ(n)).next(function(e){var n=oE;return e.isFoundDocument()&&(n=n.insert(e.key,e)),n})},e.prototype.In=function(e,n,r){var i=this,o=n.collectionGroup,s=oE;return this.Ut.getCollectionParents(e,o).next(function(a){return sb.forEach(a,function(a){var u,c=(u=a.child(o),new i_(u,null,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt));return i.An(e,c,r).next(function(e){e.forEach(function(e,n){s=s.insert(e,n)})})}).next(function(){return s})})},e.prototype.An=function(e,n,r){var i,o=this;return this.Ue.getDocumentsMatchingQuery(e,n,r).next(function(r){return i=r,o._n.getAllMutationBatchesAffectingQuery(e,n)}).next(function(n){return o.Rn(e,n,i).next(function(e){i=e;for(var r=0;r<n.length;r++)for(var o=n[r],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=i.get(c);null==l&&(l=ii.newInvalidDocument(c),i=i.insert(c,l)),i4(u,l,o.localWriteTime),l.isFoundDocument()||(i=i.remove(c))}})}).next(function(){return i.forEach(function(e,r){iV(n,r)||(i=i.remove(e))}),i})},e.prototype.Rn=function(e,n,r){for(var i=oS(),o=0;o<n.length;o++)for(var s=0,a=n[o].mutations;s<a.length;s++){var u=a[s];u instanceof i9&&null===r.get(u.key)&&(i=i.add(u.key))}var c=r;return this.Ue.getEntries(e,i).next(function(e){return e.forEach(function(e,n){n.isFoundDocument()&&(c=c.insert(e,n))}),c})},e}(),a_=function(){function e(e,n,r,i){this.targetId=e,this.fromCache=n,this.bn=r,this.vn=i}return e.Pn=function(n,r){for(var i=oS(),o=oS(),s=0,a=r.docChanges;s<a.length;s++){var u=a[s];switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}}return new e(n,r.fromCache,i,o)},e}(),ax=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,n,r,i){var o=this;return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())||r.isEqual(rR.min())?this.Dn(e,n):this.Sn.pn(e,i).next(function(s){var a=o.Cn(n,s);return(iA(n)||ik(n))&&o.Nn(n.limitType,a,i,r)?o.Dn(e,n):(rI()<=to.DEBUG&&rS("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ij(n)),o.Sn.getDocumentsMatchingQuery(e,n,r).next(function(e){return a.forEach(function(n){e=e.insert(n.key,n)}),e}))})},e.prototype.Cn=function(e,n){var r=new oy(iF(e));return n.forEach(function(n,i){iV(e,i)&&(r=r.add(i))}),r},e.prototype.Nn=function(e,n,r,i){if(r.size!==n.size)return!0;var o="F"===e?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)},e.prototype.Dn=function(e,n){return rI()<=to.DEBUG&&rS("QueryEngine","Using full collection scan to execute query:",ij(n)),this.Sn.getDocumentsMatchingQuery(e,n,rR.min())},e}(),aA=function(){function e(e,n,r,i){this.persistence=e,this.xn=n,this.R=i,this.kn=new om(rC),this.Fn=new ac(function(e){return ia(e)},iu),this.$n=rR.min(),this._n=e.getMutationQueue(r),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new aS(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return e.collect(r,n.kn)})},e}();function ak(e,n){return u(this,void 0,void 0,function(){var r,i,o,s;return c(this,function(a){switch(a.label){case 0:return i=(r=e)._n,o=r.Mn,[4,r.persistence.runTransaction("Handle user change","readonly",function(e){var s;return r._n.getAllMutationBatches(e).next(function(a){return s=a,i=r.persistence.getMutationQueue(n),o=new aS(r.On,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)}).next(function(n){for(var r=[],i=[],a=oS(),u=0,c=s;u<c.length;u++){var l=c[u];r.push(l.batchId);for(var h=0,f=l.mutations;h<f.length;h++){var d=f[h];a=a.add(d.key)}}for(var p=0;p<n.length;p++){var m=n[p];i.push(m.batchId);for(var g=0,v=m.mutations;g<v.length;g++){var y=v[g];a=a.add(y.key)}}return o.pn(e,a).next(function(e){return{Ln:e,removedBatchIds:r,addedBatchIds:i}})})})];case 1:return s=a.sent(),[2,(r._n=i,r.Mn=o,r.xn.Vn(r.Mn),s)]}})})}function aN(e){return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return e.qe.getLastRemoteSnapshotVersion(n)})}function aC(e,n,r,i,o){var s=oS();return r.forEach(function(e){return s=s.add(e)}),n.getEntries(e,s).next(function(e){var s=ow;return r.forEach(function(r,a){var u=e.get(r),c=(null==o?void 0:o.get(r))||i;a.isNoDocument()&&a.version.isEqual(rR.min())?(n.removeEntry(r,c),s=s.insert(r,a)):!u.isValidDocument()||a.version.compareTo(u.version)>0||0===a.version.compareTo(u.version)&&u.hasPendingWrites?(n.addEntry(a,c),s=s.insert(r,a)):rS("LocalStore","Ignoring outdated watch update for ",r,". Current version:",u.version," Watch version:",a.version)}),s})}function aD(e,n){var r=e;return r.persistence.runTransaction("Allocate target","readwrite",function(e){var i;return r.qe.getTargetData(e,n).next(function(o){return o?(i=o,sb.resolve(i)):r.qe.allocateTargetId(e).next(function(o){return i=new sR(n,o,0,e.currentSequenceNumber),r.qe.addTargetData(e,i).next(function(){return i})})})}).then(function(e){var i=r.kn.get(e.targetId);return(null===i||e.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.kn=r.kn.insert(e.targetId,e),r.Fn.set(n,e.targetId)),e})}function aP(e,n,r){return u(this,void 0,void 0,function(){var i,o,s,a;return c(this,function(u){switch(u.label){case 0:o=(i=e).kn.get(n),s=r?"readwrite":"readwrite-primary",u.label=1;case 1:return u.trys.push([1,4,,5]),r?[3,3]:[4,i.persistence.runTransaction("Release target",s,function(e){return i.persistence.referenceDelegate.removeTarget(e,o)})];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:if(!sS(a=u.sent()))throw a;return rS("LocalStore","Failed to update sequence numbers for target "+n+": "+a),[3,5];case 5:return i.kn=i.kn.remove(n),i.Fn.delete(o.target),[2]}})})}function aR(e,n,r){var i=rR.min(),o=oS();return e.persistence.runTransaction("Execute query","readonly",function(s){var a,u;return(a=iR(n),void 0!==(u=e.Fn.get(a))?sb.resolve(e.kn.get(u)):e.qe.getTargetData(s,a)).next(function(n){if(n)return i=n.lastLimboFreeSnapshotVersion,e.qe.getMatchingKeysForTargetId(s,n.targetId).next(function(e){o=e})}).next(function(){return e.xn.getDocumentsMatchingQuery(s,n,r?i:rR.min(),r?o:oS())}).next(function(e){return{documents:e,Bn:o}})})}function aO(e,n){var r=e.qe,i=e.kn.get(n);return i?Promise.resolve(i.target):e.persistence.runTransaction("Get target data","readonly",function(e){return r.lt(e,n).next(function(e){return e?e.target:null})})}function aL(e){var n=e;return n.persistence.runTransaction("Get new document changes","readonly",function(e){var r,i,o,s,a,u;return r=n.On,i=n.$n,o=ow,s=sj(i),a=ap(e),u=IDBKeyRange.lowerBound(s,!0),a.$t({index:ss.readTimeIndex,range:u},function(e,n){var i=sL(r.R,n);o=o.insert(i.key,i),s=n.readTime}).next(function(){return{wn:o,readTime:sV(s)}})}).then(function(e){var r=e.wn,i=e.readTime;return n.$n=i,r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aM=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,n){return sb.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(e,n){return this.Qn.set(n.id,{id:n.id,version:n.version,createTime:oU(n.createTime)}),sb.resolve()},e.prototype.getNamedQuery=function(e,n){return sb.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(e,n){return this.jn.set(n.name,{name:n.name,query:sK(n.bundledQuery),readTime:oU(n.readTime)}),sb.resolve()},e}(),aj=function(){function e(){this.Wn=new oy(aV.Gn),this.zn=new oy(aV.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,n){var r=new aV(e,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(e,n){var r=this;e.forEach(function(e){return r.addReference(e,n)})},e.prototype.removeReference=function(e,n){this.Yn(new aV(e,n))},e.prototype.Xn=function(e,n){var r=this;e.forEach(function(e){return r.removeReference(e,n)})},e.prototype.Zn=function(e){var n=this,r=new rQ(new rV([])),i=new aV(r,e),o=new aV(r,e+1),s=[];return this.zn.forEachInRange([i,o],function(e){n.Yn(e),s.push(e.key)}),s},e.prototype.ts=function(){var e=this;this.Wn.forEach(function(n){return e.Yn(n)})},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var n=new rQ(new rV([])),r=new aV(n,e),i=new aV(n,e+1),o=oS();return this.zn.forEachInRange([r,i],function(e){o=o.add(e.key)}),o},e.prototype.containsKey=function(e){var n=new aV(e,0),r=this.Wn.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)},e}(),aV=function(){function e(e,n){this.key=e,this.ns=n}return e.Gn=function(e,n){return rQ.comparator(e.key,n.key)||rC(e.ns,n.ns)},e.Hn=function(e,n){return rC(e.ns,n.ns)||rQ.comparator(e.key,n.key)},e}(),aF=function(){function e(e,n){this.Ut=e,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new oy(aV.Gn)}return e.prototype.checkEmpty=function(e){return sb.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,n,r,i){var o=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var s=new sD(o,n,r,i);this._n.push(s);for(var a=0;a<i.length;a++){var u=i[a];this.rs=this.rs.add(new aV(u.key,o)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return sb.resolve(s)},e.prototype.lookupMutationBatch=function(e,n){return sb.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(e,n){var r=this.cs(n+1),i=r<0?0:r;return sb.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return sb.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return sb.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var r=this,i=new aV(n,0),o=new aV(n,Number.POSITIVE_INFINITY),s=[];return this.rs.forEachInRange([i,o],function(e){var n=r.os(e.ns);s.push(n)}),sb.resolve(s)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var r=this,i=new oy(rC);return n.forEach(function(e){var n=new aV(e,0),o=new aV(e,Number.POSITIVE_INFINITY);r.rs.forEachInRange([n,o],function(e){i=i.add(e.ns)})}),sb.resolve(this.us(i))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var r=n.path,i=r.length+1,o=r;rQ.isDocumentKey(o)||(o=o.child(""));var s=new aV(new rQ(o),0),a=new oy(rC);return this.rs.forEachWhile(function(e){var n=e.key.path;return!!r.isPrefixOf(n)&&(n.length===i&&(a=a.add(e.ns)),!0)},s),sb.resolve(this.us(a))},e.prototype.us=function(e){var n=this,r=[];return e.forEach(function(e){var i=n.os(e);null!==i&&r.push(i)}),r},e.prototype.removeMutationBatch=function(e,n){var r=this;0===this.hs(n.batchId,"removed")||rk(),this._n.shift();var i=this.rs;return sb.forEach(n.mutations,function(o){var s=new aV(o.key,n.batchId);return i=i.delete(s),r.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(function(){r.rs=i})},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,n){var r=new aV(n,0),i=this.rs.firstAfterOrEqual(r);return sb.resolve(n.isEqual(i&&i.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,sb.resolve()},e.prototype.hs=function(e,n){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var n=this.cs(e);return n<0||n>=this._n.length?null:this._n[n]},e}(),aU=function(){function e(e,n){this.Ut=e,this.ls=n,this.docs=new om(rQ.comparator),this.size=0}return e.prototype.addEntry=function(e,n,r){var i=n.key,o=this.docs.get(i),s=o?o.size:0,a=this.ls(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:a,readTime:r}),this.size+=a-s,this.Ut.addToCollectionParentIndex(e,i.path.popLast())},e.prototype.removeEntry=function(e){var n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)},e.prototype.getEntry=function(e,n){var r=this.docs.get(n);return sb.resolve(r?r.document.clone():ii.newInvalidDocument(n))},e.prototype.getEntries=function(e,n){var r=this,i=ow;return n.forEach(function(e){var n=r.docs.get(e);i=i.insert(e,n?n.document.clone():ii.newInvalidDocument(e))}),sb.resolve(i)},e.prototype.getDocumentsMatchingQuery=function(e,n,r){for(var i=ow,o=new rQ(n.path.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var a=s.getNext(),u=a.key,c=a.value,l=c.document,h=c.readTime;if(!n.path.isPrefixOf(u.path))break;0>=h.compareTo(r)||iV(n,l)&&(i=i.insert(l.key,l.clone()))}return sb.resolve(i)},e.prototype.fs=function(e,n){return sb.forEach(this.docs,function(e){return n(e)})},e.prototype.newChangeBuffer=function(e){return new aB(this)},e.prototype.getSize=function(e){return sb.resolve(this.size)},e}(),aB=function(e){function n(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return s(n,e),n.prototype.applyChanges=function(e){var n=this,r=[];return this.changes.forEach(function(i,o){o.document.isValidDocument()?r.push(n.Ie.addEntry(e,o.document,n.getReadTime(i))):n.Ie.removeEntry(i)}),sb.waitFor(r)},n.prototype.getFromCache=function(e,n){return this.Ie.getEntry(e,n)},n.prototype.getAllFromCache=function(e,n){return this.Ie.getEntries(e,n)},n}(al),aq=function(){function e(e){this.persistence=e,this.ds=new ac(function(e){return ia(e)},iu),this.lastRemoteSnapshotVersion=rR.min(),this.highestTargetId=0,this.ws=0,this._s=new aj,this.targetCount=0,this.ys=s8.Jt()}return e.prototype.forEachTarget=function(e,n){return this.ds.forEach(function(e,r){return n(r)}),sb.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return sb.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return sb.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),sb.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),sb.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var n=e.targetId;n>this.highestTargetId&&(this.ys=new s8(n),this.highestTargetId=n),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,n){return this.te(n),this.targetCount+=1,sb.resolve()},e.prototype.updateTargetData=function(e,n){return this.te(n),sb.resolve()},e.prototype.removeTargetData=function(e,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,sb.resolve()},e.prototype.removeTargets=function(e,n,r){var i=this,o=0,s=[];return this.ds.forEach(function(a,u){u.sequenceNumber<=n&&null===r.get(u.targetId)&&(i.ds.delete(a),s.push(i.removeMatchingKeysForTargetId(e,u.targetId)),o++)}),sb.waitFor(s).next(function(){return o})},e.prototype.getTargetCount=function(e){return sb.resolve(this.targetCount)},e.prototype.getTargetData=function(e,n){var r=this.ds.get(n)||null;return sb.resolve(r)},e.prototype.addMatchingKeys=function(e,n,r){return this._s.Jn(n,r),sb.resolve()},e.prototype.removeMatchingKeys=function(e,n,r){this._s.Xn(n,r);var i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(function(n){o.push(i.markPotentiallyOrphaned(e,n))}),sb.waitFor(o)},e.prototype.removeMatchingKeysForTargetId=function(e,n){return this._s.Zn(n),sb.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,n){var r=this._s.es(n);return sb.resolve(r)},e.prototype.containsKey=function(e,n){return sb.resolve(this._s.containsKey(n))},e}(),az=function(){function e(e,n){var r,i=this;this.gs={},this.Ne=new rb(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new aq(this),this.Ut=new sZ,this.Ue=(r=this.Ut,new aU(r,function(e){return i.referenceDelegate.ps(e)})),this.R=new sO(n),this.Ke=new aM(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var n=this.gs[e.toKey()];return n||(n=new aF(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,n,r){var i=this;rS("MemoryPersistence","Starting transaction:",e);var o=new aK(this.Ne.next());return this.referenceDelegate.Es(),r(o).next(function(e){return i.referenceDelegate.Ts(o).next(function(){return e})}).toPromise().then(function(e){return o.raiseOnCommittedEvent(),e})},e.prototype.Is=function(e,n){return sb.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(e,n)}}))},e}(),aK=function(e){function n(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return s(n,e),n}(sv),aG=function(){function e(e){this.persistence=e,this.As=new aj,this.Rs=null}return e.bs=function(n){return new e(n)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw rk()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),sb.resolve()},e.prototype.removeReference=function(e,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),sb.resolve()},e.prototype.markPotentiallyOrphaned=function(e,n){return this.vs.add(n.toString()),sb.resolve()},e.prototype.removeTarget=function(e,n){var r=this;this.As.Zn(n.targetId).forEach(function(e){return r.vs.add(e.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(function(e){e.forEach(function(e){return r.vs.add(e.toString())})}).next(function(){return i.removeTargetData(e,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return sb.forEach(this.vs,function(i){var o=rQ.fromPath(i);return n.Ps(e,o).next(function(e){e||r.removeEntry(o)})}).next(function(){return n.Rs=null,r.apply(e)})},e.prototype.updateLimboDocument=function(e,n){var r=this;return this.Ps(e,n).next(function(e){e?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,n){var r=this;return sb.or([function(){return sb.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(e,n)},function(){return r.persistence.Is(e,n)}])},e}(),aH=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aW(e,n){return"firestore_clients_"+e+"_"+n}function aZ(e,n,r){var i="firestore_mutations_"+e+"_"+r;return n.isAuthenticated()&&(i+="_"+n.uid),i}function a$(e,n){return"firestore_targets_"+e+"_"+n}aH.UNAUTHENTICATED=new aH(null),aH.GOOGLE_CREDENTIALS=new aH("google-credentials-uid"),aH.FIRST_PARTY=new aH("first-party-uid"),aH.MOCK_USER=new aH("mock-user");var aX=function(){function e(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}return e.Vs=function(n,r,i){var o,s=JSON.parse(i),a="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return a&&s.error&&(a="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(o=new rE(s.error.code,s.error.message)),a?new e(n,r,s.state,o):(r_("SharedClientState","Failed to parse mutation state for ID '"+r+"': "+i),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),aY=function(){function e(e,n,r){this.targetId=e,this.state=n,this.error=r}return e.Vs=function(n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new rE(o.error.code,o.error.message)),s?new e(n,o.state,i):(r_("SharedClientState","Failed to parse target state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),aQ=function(){function e(e,n){this.clientId=e,this.activeTargetIds=n}return e.Vs=function(n,r){for(var i=JSON.parse(r),o="object"==typeof i&&i.activeTargetIds instanceof Array,s=o_,a=0;o&&a<i.activeTargetIds.length;++a)o=rY(i.activeTargetIds[a]),s=s.add(i.activeTargetIds[a]);return o?new e(n,s):(r_("SharedClientState","Failed to parse client data for instance '"+n+"': "+r),null)},e}(),aJ=function(){function e(e,n){this.clientId=e,this.onlineState=n}return e.Vs=function(n){var r=JSON.parse(n);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new e(r.clientId,r.onlineState):(r_("SharedClientState","Failed to parse online state: "+n),null)},e}(),a0=function(){function e(){this.activeTargetIds=o_}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){return JSON.stringify({activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()})},e}(),a1=function(){function e(e,n,r,i,o){this.window=e,this.Se=n,this.persistenceKey=r,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new om(rC),this.started=!1,this.$s=[];var s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Os=aW(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.Fs=this.Fs.insert(this.Ns,new a0),this.Ls=RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Bs=RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.qs=RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks="firestore_bundle_loaded_"+this.persistenceKey,this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return u(this,void 0,void 0,function(){var e,n,r,i,o,s,a,u,l,h,f=this;return c(this,function(c){switch(c.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=c.sent(),n=0;n<e.length;n++)(r=e[n])!==this.Ns&&(i=this.getItem(aW(this.persistenceKey,r)))&&(o=aQ.Vs(r,i))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,l=this.$s;u<l.length;u++)h=l[u],this.ks(h);return this.$s=[],this.window.addEventListener("pagehide",function(){return f.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(e){var n=!1;return this.Fs.forEach(function(r,i){i.activeTargetIds.has(e)&&(n=!0)}),n},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,n,r){this.zs(e,n,r),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var n="not-current";if(this.isActiveQueryTarget(e)){var r=this.storage.getItem(a$(this.persistenceKey,e));if(r){var i=aY.Vs(e,r);i&&(n=i.state)}}return this.Js.Ds(e),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(a$(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,n,r){this.Ys(e,n,r)},e.prototype.handleUserChange=function(e,n,r){var i=this;n.forEach(function(e){i.Hs(e)}),this.currentUser=e,r.forEach(function(e){i.addPendingMutation(e)})},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var n=this.storage.getItem(e);return rS("SharedClientState","READ",e,n),n},e.prototype.setItem=function(e,n){rS("SharedClientState","SET",e,n),this.storage.setItem(e,n)},e.prototype.removeItem=function(e){rS("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.ks=function(e){var n=this;if(e.storageArea===this.storage){if(rS("SharedClientState","EVENT",e.key,e.newValue),e.key===this.Os)return void r_("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return u(n,void 0,void 0,function(){var n,r,i,o,s,a;return c(this,function(u){if(this.started){if(null!==e.key){if(this.Ls.test(e.key)){if(null==e.newValue)return n=this.ti(e.key),[2,this.ei(n,null)];if(r=this.ni(e.key,e.newValue))return[2,this.ei(r.clientId,r)]}else if(this.Bs.test(e.key)){if(null!==e.newValue&&(i=this.si(e.key,e.newValue)))return[2,this.ii(i)]}else if(this.qs.test(e.key)){if(null!==e.newValue&&(o=this.ri(e.key,e.newValue)))return[2,this.oi(o)]}else if(e.key===this.Us){if(null!==e.newValue&&(s=this.js(e.newValue)))return[2,this.Ws(s)]}else if(e.key===this.Ms)(a=function(e){var n=rb.o;if(null!=e)try{var r=JSON.parse(e);"number"==typeof r||rk(),n=r}catch(e){r_("SharedClientState","Failed to read sequence number from WebStorage",e)}return n}(e.newValue))!==rb.o&&this.sequenceNumberHandler(a);else if(e.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(e);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,n,r){var i=new aX(this.currentUser,e,n,r),o=aZ(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Ss())},e.prototype.Hs=function(e){var n=aZ(this.persistenceKey,this.currentUser,e);this.removeItem(n)},e.prototype.Xs=function(e){var n={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(e,n,r){var i=a$(this.persistenceKey,e),o=new aY(e,n,r);this.setItem(i,o.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var n=this.Ls.exec(e);return n?n[1]:null},e.prototype.ni=function(e,n){var r=this.ti(e);return aQ.Vs(r,n)},e.prototype.si=function(e,n){var r=this.Bs.exec(e),i=Number(r[1]),o=void 0!==r[2]?r[2]:null;return aX.Vs(new aH(o),i,n)},e.prototype.ri=function(e,n){var r=Number(this.qs.exec(e)[1]);return aY.Vs(r,n)},e.prototype.js=function(e){return aJ.Vs(e)},e.prototype.ii=function(e){return u(this,void 0,void 0,function(){return c(this,function(n){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(rS("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,n){var r=this,i=n?this.Fs.insert(e,n):this.Fs.remove(e),o=this.Gs(this.Fs),s=this.Gs(i),a=[],u=[];return s.forEach(function(e){o.has(e)||a.push(e)}),o.forEach(function(e){s.has(e)||u.push(e)}),this.syncEngine.hi(a,u).then(function(){r.Fs=i})},e.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var n=o_;return e.forEach(function(e,r){n=n.unionWith(r.activeTargetIds)}),n},e}(),a2=function(){function e(){this.li=new a0,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,n,r){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,n,r){this.fi[e]=n},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new a0,Promise.resolve()},e.prototype.handleUserChange=function(e,n,r){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),a3=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),a4=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){rS("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(0)},e.prototype.yi=function(){rS("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),a5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},a6=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),a8=function(e){function n(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return s(n,e),n.prototype.Fi=function(e,n,r,i){return new Promise(function(o,s){var a=new nB;a.listenOnce(eM.COMPLETE,function(){try{switch(a.getLastErrorCode()){case eL.NO_ERROR:var n=a.getResponseJson();rS("Connection","XHR received:",JSON.stringify(n)),o(n);break;case eL.TIMEOUT:rS("Connection",'RPC "'+e+'" timed out'),s(new rE(rw.DEADLINE_EXCEEDED,"Request time out"));break;case eL.HTTP_ERROR:var r=a.getStatus();if(rS("Connection",'RPC "'+e+'" failed with status:',r,"response text:",a.getResponseText()),r>0){var i=a.getResponseJson().error;if(i&&i.status&&i.message){var u,c=(u=i.status.toLowerCase().replace(/_/g,"-"),Object.values(rw).indexOf(u)>=0?u:rw.UNKNOWN);s(new rE(c,i.message))}else s(new rE(rw.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new rE(rw.UNAVAILABLE,"Connection failed."));break;default:rk()}}finally{rS("Connection",'RPC "'+e+'" completed.')}});var u=JSON.stringify(i);a.send(n,"POST",u,r,15)})},n.prototype.Oi=function(e,n){var r,i,o=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=new rf,a=ek(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new nO({})),this.ki(u.initMessageHeaders,n),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(w())||"object"==typeof navigator&&"ReactNative"===navigator.product||w().indexOf("Electron/")>=0||(r=w()).indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0||w().indexOf("MSAppHost/")>=0||"object"==typeof(i="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==i.id||(u.httpHeadersOverwriteParam="$httpHeaders");var c=o.join("");rS("Connection","Creating WebChannel: "+c,u);var l=s.createWebChannel(c,u),h=!1,f=!1,d=new a6({Ei:function(e){f?rS("Connection","Not sending because WebChannel is closed:",e):(h||(rS("Connection","Opening WebChannel transport."),l.open(),h=!0),rS("Connection","WebChannel sending:",e),l.send(e))},Ti:function(){return l.close()}}),p=function(e,n,r){e.listen(n,function(e){try{r(e)}catch(e){setTimeout(function(){throw e},0)}})};return p(l,eF.EventType.OPEN,function(){f||rS("Connection","WebChannel transport opened.")}),p(l,eF.EventType.CLOSE,function(){f||(f=!0,rS("Connection","WebChannel transport closed"),d.Vi())}),p(l,eF.EventType.ERROR,function(e){f||(f=!0,rx("Connection","WebChannel transport errored:",e),d.Vi(new rE(rw.UNAVAILABLE,"The operation could not be completed")))}),p(l,eF.EventType.MESSAGE,function(e){var n;if(!f){var r=e.data[0];r||rk();var i=r.error||(null===(n=r[0])||void 0===n?void 0:n.error);if(i){rS("Connection","WebChannel received error:",i);var o=i.status,s=function(e){var n=ou[e];if(void 0!==n)return op(n)}(o),a=i.message;void 0===s&&(s=rw.INTERNAL,a="Unknown error status: "+o+" with message "+i.message),f=!0,d.Vi(new rE(s,a)),l.close()}else rS("Connection","WebChannel received:",r),d.Si(r)}}),p(a,ex.STAT_EVENT,function(e){e.stat===rv.PROXY?rS("Connection","Detected buffering proxy"):e.stat===rv.NOPROXY&&rS("Connection","Detected no buffering proxy")}),setTimeout(function(){d.Pi()},0),d},n}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var n=e.ssl?"https":"http";this.Di=n+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,n,r,i){var o=this.xi(e,n);rS("RestConnection","Sending: ",o,r);var s={};return this.ki(s,i),this.Fi(e,o,s,r).then(function(e){return rS("RestConnection","Received: ",e),e},function(n){throw rx("RestConnection",e+" failed with error: ",n,"url: ",o,"request:",r),n})},e.prototype.$i=function(e,n,r,i){return this.Ni(e,n,r,i)},e.prototype.ki=function(e,n){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(e[r]=n.authHeaders[r])},e.prototype.xi=function(e,n){var r=a5[e];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a9(){return"undefined"!=typeof window?window:null}function a7(){return"undefined"!=typeof document?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(e){return new oj(e,!0)}var ue=function(){function e(e,n,r,i,o){void 0===r&&(r=1e3),void 0===i&&(i=1.5),void 0===o&&(o=6e4),this.Se=e,this.timerId=n,this.Mi=r,this.Li=i,this.Bi=o,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Ki),o=Math.max(0,r-i);o>0&&rS("ExponentialBackoff","Backing off for "+o+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,o,function(){return n.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),un=function(){function e(e,n,r,i,o,s){this.Se=e,this.zi=r,this.Hi=i,this.Ji=o,this.listener=s,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new ue(e,n)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return u(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return u(this,void 0,void 0,function(){return c(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,n){return u(this,void 0,void 0,function(){return c(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():n&&n.code===rw.RESOURCE_EXHAUSTED?(r_(n.toString()),r_("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===rw.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(n){e.Yi===r&&e.lr(n)},function(r){n(function(){var n=new rE(rw.UNKNOWN,"Fetching auth token failed: "+r.message);return e.dr(n)})})},e.prototype.lr=function(e){var n=this,r=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(e){r(function(){return n.dr(e)})}),this.stream.onMessage(function(e){r(function(){return n.onMessage(e)})})},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return u(e,void 0,void 0,function(){return c(this,function(e){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(e){return rS("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===e?r():(rS("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),ur=function(e){function n(n,r,i,o,s){var a=this;return(a=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,s)||this).R=o,a}return s(n,e),n.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},n.prototype.onMessage=function(e){this.Zi.reset();var n=function(e,n){var r;if("targetChange"in n){n.targetChange;var i,o,s,a,u="NO_CHANGE"===(i=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===i?1:"REMOVE"===i?2:"CURRENT"===i?3:"RESET"===i?4:rk(),c=n.targetChange.targetIds||[],l=(o=n.targetChange.resumeToken,e.I?(void 0===o||"string"==typeof o||rk(),rq.fromBase64String(o||"")):(void 0===o||o instanceof Uint8Array||rk(),rq.fromUint8Array(o||new Uint8Array))),h=(f=n.targetChange.cause)&&(a=void 0===(s=f).code?rw.UNKNOWN:op(s.code),new rE(a,s.message||""));r=new oC(u,c,l,h||null)}else if("documentChange"in n){n.documentChange,(u=n.documentChange).document,u.document.name,u.document.updateTime,c=oK(e,u.document.name),l=oU(u.document.updateTime);var f=new ir({mapValue:{fields:u.document.fields}}),d=(h=ii.newFoundDocument(c,l,f),u.targetIds||[]),p=u.removedTargetIds||[];r=new ok(d,p,h.key,h)}else if("documentDelete"in n)n.documentDelete,(u=n.documentDelete).document,c=oK(e,u.document),l=u.readTime?oU(u.readTime):rR.min(),f=ii.newNoDocument(c,l),h=u.removedTargetIds||[],r=new ok([],h,f.key,f);else if("documentRemove"in n)n.documentRemove,(u=n.documentRemove).document,c=oK(e,u.document),l=u.removedTargetIds||[],r=new ok([],l,c,null);else{if(!("filter"in n))return rk();n.filter;var m=n.filter;m.targetId,u=m.count||0,c=new of(u),l=m.targetId,r=new oN(l,c)}return r}(this.R,e),r=function(e){if(!("targetChange"in e))return rR.min();var n=e.targetChange;return n.targetIds&&n.targetIds.length?rR.min():n.readTime?oU(n.readTime):rR.min()}(e);return this.listener._r(n,r)},n.prototype.mr=function(e){var n,r,i,o,s={};s.database=oW(this.R),s.addTarget=(n=this.R,(r=ic(i=e.target)?{documents:oJ(n,i)}:{query:o0(n,i)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?r.resumeToken=oF(n,e.resumeToken):e.snapshotVersion.compareTo(rR.min())>0&&(r.readTime=oV(n,e.snapshotVersion.toTimestamp())),r);var a=(this.R,null==(o=function(e,n){switch(n){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rk()}}(0,e.purpose))?null:{"goog-listen-tags":o});a&&(s.labels=a),this.cr(s)},n.prototype.yr=function(e){var n={};n.database=oW(this.R),n.removeTarget=e,this.cr(n)},n}(un),ui=function(e){function n(n,r,i,o,s){var a=this;return(a=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,s)||this).R=o,a.gr=!1,a}return s(n,e),Object.defineProperty(n.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),n.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},n.prototype.ar=function(){this.gr&&this.Er([])},n.prototype.wr=function(e){return this.Hi.Oi("Write",e)},n.prototype.onMessage=function(e){if(e.streamToken||rk(),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var n,r,i=(n=e.writeResults,r=e.commitTime,n&&n.length>0?(void 0!==r||rk(),n.map(function(e){var n;return(n=e.updateTime?oU(e.updateTime):oU(r)).isEqual(rR.min())&&(n=oU(r)),new i0(n,e.transformResults||[])})):[]),o=oU(e.commitTime);return this.listener.Tr(o,i)}return e.writeResults&&0!==e.writeResults.length&&rk(),this.gr=!0,this.listener.Ir()},n.prototype.Ar=function(){var e={};e.database=oW(this.R),this.cr(e)},n.prototype.Er=function(e){var n=this,r={streamToken:this.lastStreamToken,writes:e.map(function(e){return oY(n.R,e)})};this.cr(r)},n}(un),uo=function(e){function n(n,r,i){var o=this;return(o=e.call(this)||this).credentials=n,o.Hi=r,o.R=i,o.Rr=!1,o}return s(n,e),n.prototype.br=function(){if(this.Rr)throw new rE(rw.FAILED_PRECONDITION,"The client has already been terminated.")},n.prototype.Ni=function(e,n,r){var i=this;return this.br(),this.credentials.getToken().then(function(o){return i.Hi.Ni(e,n,r,o)}).catch(function(e){throw"FirebaseError"===e.name?(e.code===rw.UNAUTHENTICATED&&i.credentials.invalidateToken(),e):new rE(rw.UNKNOWN,e.toString())})},n.prototype.$i=function(e,n,r){var i=this;return this.br(),this.credentials.getToken().then(function(o){return i.Hi.$i(e,n,r,o)}).catch(function(e){throw"FirebaseError"===e.name?(e.code===rw.UNAUTHENTICATED&&i.credentials.invalidateToken(),e):new rE(rw.UNKNOWN,e.toString())})},n.prototype.terminate=function(){this.Rr=!0},n}(function(){}),us=function(){function e(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var n="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(r_(n),this.Vr=!1):rS("OnlineStateTracker",n)},e.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),ua=function(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(e){r.enqueueAndForget(function(){return u(s,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return ug(this)?(rS("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return u(this,void 0,void 0,function(){var n;return c(this,function(r){switch(r.label){case 0:return(n=e).Or.add(4),[4,uc(n)];case 1:return r.sent(),n.Br.set("Unknown"),n.Or.delete(4),[4,uu(n)];case 2:return r.sent(),[2]}})})}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})}),this.Br=new us(r,i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(e){return u(this,void 0,void 0,function(){var n,r;return c(this,function(i){switch(i.label){case 0:if(!ug(e))return[3,4];n=0,r=e.Mr,i.label=1;case 1:return n<r.length?[4,(0,r[n])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}})})}function uc(e){return u(this,void 0,void 0,function(){var n,r;return c(this,function(i){switch(i.label){case 0:n=0,r=e.Mr,i.label=1;case 1:return n<r.length?[4,(0,r[n])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}})})}function ul(e,n){e.$r.has(n.targetId)||(e.$r.set(n.targetId,n),um(e)?up(e):uC(e).er()&&uf(e,n))}function uh(e,n){var r=uC(e);e.$r.delete(n),r.er()&&ud(e,n),0===e.$r.size&&(r.er()?r.ir():ug(e)&&e.Br.set("Unknown"))}function uf(e,n){e.qr.U(n.targetId),uC(e).mr(n)}function ud(e,n){e.qr.U(n),uC(e).yr(n)}function up(e){e.qr=new oP({getRemoteKeysForTarget:function(n){return e.remoteSyncer.getRemoteKeysForTarget(n)},lt:function(n){return e.$r.get(n)||null}}),uC(e).start(),e.Br.Sr()}function um(e){return ug(e)&&!uC(e).tr()&&e.$r.size>0}function ug(e){return 0===e.Or.size}function uv(e){return u(this,void 0,void 0,function(){return c(this,function(n){return e.$r.forEach(function(n,r){uf(e,n)}),[2]})})}function uy(e,n){return u(this,void 0,void 0,function(){return c(this,function(r){return e.qr=void 0,um(e)?(e.Br.Nr(n),up(e)):e.Br.set("Unknown"),[2]})})}function ub(e,n,r){return u(this,void 0,void 0,function(){var i,o,s;return c(this,function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(n instanceof oC&&2===n.state&&n.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,n){return u(this,void 0,void 0,function(){var r,i,o,s;return c(this,function(a){switch(a.label){case 0:r=n.cause,i=0,o=n.targetIds,a.label=1;case 1:return i<o.length?(s=o[i],e.$r.has(s)?[4,e.remoteSyncer.rejectListen(s,r)]:[3,3]):[3,5];case 2:a.sent(),e.$r.delete(s),e.qr.removeTarget(s),a.label=3;case 3:a.label=4;case 4:return i++,[3,1];case 5:return[2]}})})}(e,n)];case 2:case 4:return a.sent(),[3,5];case 3:return i=a.sent(),rS("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),i),[4,uw(e,i)];case 5:return[3,13];case 6:if(n instanceof ok?e.qr.X(n):n instanceof oN?e.qr.rt(n):e.qr.et(n),r.isEqual(rR.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,aN(e.localStore)];case 8:var l;return o=a.sent(),r.compareTo(o)>=0?[4,((l=e.qr.ut(r)).targetChanges.forEach(function(n,i){if(n.resumeToken.approximateByteSize()>0){var o=e.$r.get(i);o&&e.$r.set(i,o.withResumeToken(n.resumeToken,r))}}),l.targetMismatches.forEach(function(n){var r=e.$r.get(n);r&&(e.$r.set(n,r.withResumeToken(rq.EMPTY_BYTE_STRING,r.snapshotVersion)),ud(e,n),uf(e,new sR(r.target,n,1,r.sequenceNumber)))}),e.remoteSyncer.applyRemoteEvent(l))]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return rS("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,uw(e,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function uw(e,n,r){return u(this,void 0,void 0,function(){var i=this;return c(this,function(o){switch(o.label){case 0:if(!sS(n))throw n;return e.Or.add(1),[4,uc(e)];case 1:return o.sent(),e.Br.set("Offline"),r||(r=function(){return aN(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return u(i,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return rS("RemoteStore","Retrying IndexedDB access"),[4,r()];case 1:return n.sent(),e.Or.delete(1),[4,uu(e)];case 2:return n.sent(),[2]}})})}),[2]}})})}function uE(e,n){return n().catch(function(r){return uw(e,r,n)})}function uT(e){return u(this,void 0,void 0,function(){var n,r,i,o;return c(this,function(s){var a,u,c;switch(s.label){case 0:r=uD(n=e),i=n.Fr.length>0?n.Fr[n.Fr.length-1].batchId:-1,s.label=1;case 1:if(!(ug(a=n)&&a.Fr.length<10))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,(u=n.localStore,c=i,u.persistence.runTransaction("Get next mutation batch","readonly",function(e){return void 0===c&&(c=-1),u._n.getNextMutationBatchAfterBatchId(e,c)}))];case 3:return null===(o=s.sent())?(0===n.Fr.length&&r.ir(),[3,7]):(i=o.batchId,function(e,n){e.Fr.push(n);var r=uD(e);r.er()&&r.pr&&r.Er(n.mutations)}(n,o),[3,6]);case 4:return[4,uw(n,s.sent())];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return uI(n)&&uS(n),[2]}})})}function uI(e){return ug(e)&&!uD(e).tr()&&e.Fr.length>0}function uS(e){uD(e).start()}function u_(e){return u(this,void 0,void 0,function(){return c(this,function(n){return uD(e).Ar(),[2]})})}function ux(e){return u(this,void 0,void 0,function(){var n,r,i,o;return c(this,function(s){for(n=uD(e),r=0,i=e.Fr;r<i.length;r++)o=i[r],n.Er(o.mutations);return[2]})})}function uA(e,n,r){return u(this,void 0,void 0,function(){var i,o;return c(this,function(s){switch(s.label){case 0:return i=e.Fr.shift(),o=sP.from(i,n,r),[4,uE(e,function(){return e.remoteSyncer.applySuccessfulWrite(o)})];case 1:return s.sent(),[4,uT(e)];case 2:return s.sent(),[2]}})})}function uk(e,n){return u(this,void 0,void 0,function(){return c(this,function(r){switch(r.label){case 0:return n&&uD(e).pr?[4,function(e,n){return u(this,void 0,void 0,function(){var r,i;return c(this,function(o){switch(o.label){case 0:return od(i=n.code)&&i!==rw.ABORTED?(r=e.Fr.shift(),uD(e).sr(),[4,uE(e,function(){return e.remoteSyncer.rejectFailedWrite(r.batchId,n)})]):[3,3];case 1:return o.sent(),[4,uT(e)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}(e,n)]:[3,2];case 1:r.sent(),r.label=2;case 2:return uI(e)&&uS(e),[2]}})})}function uN(e,n){return u(this,void 0,void 0,function(){var r;return c(this,function(i){switch(i.label){case 0:return r=e,n?(r.Or.delete(2),[4,uu(r)]):[3,2];case 1:return i.sent(),[3,5];case 2:return n?[3,4]:(r.Or.add(2),[4,uc(r)]);case 3:i.sent(),r.Br.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function uC(e){var n,r,i,o=this;return e.Ur||(e.Ur=(n=e.datastore,r=e.asyncQueue,i={Ii:uv.bind(null,e),Ri:uy.bind(null,e),_r:ub.bind(null,e)},n.br(),new ur(r,n.Hi,n.credentials,n.R,i)),e.Mr.push(function(n){return u(o,void 0,void 0,function(){return c(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),um(e)?up(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),e.qr=void 0,r.label=3;case 3:return[2]}})})})),e.Ur}function uD(e){var n,r,i,o=this;return e.Kr||(e.Kr=(n=e.datastore,r=e.asyncQueue,i={Ii:u_.bind(null,e),Ri:uk.bind(null,e),Ir:ux.bind(null,e),Tr:uA.bind(null,e)},n.br(),new ui(r,n.Hi,n.credentials,n.R,i)),e.Mr.push(function(n){return u(o,void 0,void 0,function(){return c(this,function(r){switch(r.label){case 0:return n?(e.Kr.sr(),[4,uT(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:r.sent(),e.Fr.length>0&&(rS("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),r.label=4;case 4:return[2]}})})})),e.Kr}var uP=function(){function e(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new sy,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(e){})}return e.createAndSchedule=function(n,r,i,o,s){var a=new e(n,r,Date.now()+i,o,s);return a.start(i),a},e.prototype.start=function(e){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new rE(rw.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(n){return e.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function uR(e,n){if(r_("AsyncQueue",n+": "+e),sS(e))return new rE(rw.UNAVAILABLE,n+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uO=function(){function e(e){this.comparator=e?function(n,r){return e(n,r)||rQ.comparator(n.key,r.key)}:function(e,n){return rQ.comparator(e.key,n.key)},this.keyedMap=oE,this.sortedSet=new om(this.comparator)}return e.emptySet=function(n){return new e(n.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(n,r){return e(n),!1})},e.prototype.add=function(e){var n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))},e.prototype.delete=function(e){var n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(n){if(!(n instanceof e)||this.size!==n.size)return!1;for(var r=this.sortedSet.getIterator(),i=n.sortedSet.getIterator();r.hasNext();){var o=r.getNext().key,s=i.getNext().key;if(!o.isEqual(s))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach(function(n){e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(n,r){var i=new e;return i.comparator=this.comparator,i.keyedMap=n,i.sortedSet=r,i},e}(),uL=function(){function e(){this.Qr=new om(rQ.comparator)}return e.prototype.track=function(e){var n=e.doc.key,r=this.Qr.get(n);r?0!==e.type&&3===r.type?this.Qr=this.Qr.insert(n,e):3===e.type&&1!==r.type?this.Qr=this.Qr.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Qr=this.Qr.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Qr=this.Qr.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Qr=this.Qr.remove(n):1===e.type&&2===r.type?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Qr=this.Qr.insert(n,{type:2,doc:e.doc}):rk():this.Qr=this.Qr.insert(n,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(n,r){e.push(r)}),e},e}(),uM=function(){function e(e,n,r,i,o,s,a,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u}return e.fromInitialDocuments=function(n,r,i,o){var s=[];return r.forEach(function(e){s.push({type:0,doc:e})}),new e(n,r,uO.emptySet(r),s,i,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&iL(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},e}(),uj=function(){this.Wr=void 0,this.listeners=[]},uV=function(){this.queries=new ac(function(e){return iM(e)},iL),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uF(e,n){return u(this,void 0,void 0,function(){var r,i,o,s,a,u;return c(this,function(c){switch(c.label){case 0:if(r=e,i=n.query,o=!1,(s=r.queries.get(i))||(o=!0,s=new uj),!o)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=s,[4,r.onListen(i)];case 2:return a.Wr=c.sent(),[3,4];case 3:return u=uR(c.sent(),"Initialization of query '"+ij(n.query)+"' failed"),[2,void n.onError(u)];case 4:return r.queries.set(i,s),s.listeners.push(n),n.zr(r.onlineState),s.Wr&&n.Hr(s.Wr)&&uz(r),[2]}})})}function uU(e,n){return u(this,void 0,void 0,function(){var r,i,o,s;return c(this,function(a){return r=n.query,i=!1,(o=e.queries.get(r))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(e.queries.delete(r),e.onUnlisten(r))]:[2]})})}function uB(e,n){for(var r=!1,i=0;i<n.length;i++){var o=n[i],s=o.query,a=e.queries.get(s);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(o)&&(r=!0);a.Wr=o}}r&&uz(e)}function uq(e,n,r){var i=e.queries.get(n);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(r);e.queries.delete(n)}function uz(e){e.Gr.forEach(function(e){e.next()})}var uK=function(){function e(e,n,r){this.query=e,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=e.docChanges;r<i.length;r++){var o=i[r];3!==o.type&&n.push(o)}e=new uM(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var s=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),s=!0):this.eo(e,this.onlineState)&&(this.no(e),s=!0),this.Xr=e,s},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(e,n){return!e.fromCache||!(this.options.so&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=uM.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),uG=function(){function e(e,n){this.payload=e,this.byteLength=n}return e.prototype.io=function(){return"metadata"in this.payload},e}(),uH=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return oK(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?oX(this.R,e.document,!1):ii.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return oU(e)},e}();!function(){function e(e,n,r){this.ro=e,this.localStore=n,this.R=r,this.queries=[],this.documents=[],this.progress={taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var n=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var n=new Map,r=new uH(this.R),i=0;i<e.length;i++){var o=e[i];if(o.metadata.queries)for(var s=r.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(n.get(c)||oS()).add(s);n.set(c,l)}}return n},e.prototype.complete=function(){return u(this,void 0,void 0,function(){var e,n,r,i,o;return c(this,function(s){switch(s.label){case 0:return[4,function(e,n,r,i){return u(this,void 0,void 0,function(){var o,s,a,u,l,h,f,d,p;return c(this,function(c){switch(c.label){case 0:for(o=e,s=oS(),a=ow,u=oT,l=0;l<r.length;l++)h=r[l],f=n.qn(h.metadata.name),h.document&&(s=s.add(f)),a=a.insert(f,n.Un(h)),u=u.insert(f,n.Kn(h.metadata.readTime));return d=o.On.newChangeBuffer({trackRemovals:!0}),[4,aD(o,iR(ix(rV.fromString("__bundle__/docs/"+i))))];case 1:return p=c.sent(),[2,o.persistence.runTransaction("Apply bundle documents","readwrite",function(e){return aC(e,d,a,rR.min(),u).next(function(n){return d.apply(e),n}).next(function(n){return o.qe.removeMatchingKeysForTargetId(e,p.targetId).next(function(){return o.qe.addMatchingKeys(e,s,p.targetId)}).next(function(){return o.Mn.En(e,n)}).next(function(){return n})})})]}})})}(this.localStore,new uH(this.R),this.documents,this.ro.id)];case 1:e=s.sent(),n=this.co(this.documents),r=0,i=this.queries,s.label=2;case 2:return r<i.length?(o=i[r],[4,function(e,n,r){return void 0===r&&(r=oS()),u(this,void 0,void 0,function(){var i,o;return c(this,function(s){switch(s.label){case 0:return[4,aD(e,iR(sK(n.bundledQuery)))];case 1:return i=s.sent(),[2,(o=e).persistence.runTransaction("Save named query","readwrite",function(e){var s=oU(n.readTime);if(i.snapshotVersion.compareTo(s)>=0)return o.Ke.saveNamedQuery(e,n);var a=i.withResumeToken(rq.EMPTY_BYTE_STRING,s);return o.kn=o.kn.insert(a.targetId,a),o.qe.updateTargetData(e,a).next(function(){return o.qe.removeMatchingKeysForTargetId(e,i.targetId)}).next(function(){return o.qe.addMatchingKeys(e,r,i.targetId)}).next(function(){return o.Ke.saveNamedQuery(e,n)})})]}})})}(this.localStore,o,n.get(o.name))]):[3,5];case 3:s.sent(),s.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new aI(Object.assign({},this.progress),e))]}})})}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uW=function(e){this.key=e},uZ=function(e){this.key=e},u$=function(){function e(e,n){this.query=e,this.uo=n,this.ao=null,this.current=!1,this.ho=oS(),this.mutatedKeys=oS(),this.lo=iF(e),this.fo=new uO(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,n){var r=this,i=n?n.mo:new uL,o=n?n.fo:this.fo,s=n?n.mutatedKeys:this.mutatedKeys,a=o,u=!1,c=iA(this.query)&&o.size===this.query.limit?o.last():null,l=ik(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(function(e,n){var h=o.get(e),f=iV(r.query,n)?n:null,d=!!h&&r.mutatedKeys.has(h.key),p=!!f&&(f.hasLocalMutations||r.mutatedKeys.has(f.key)&&f.hasCommittedMutations),m=!1;h&&f?h.data.isEqual(f.data)?d!==p&&(i.track({type:3,doc:f}),m=!0):r.yo(h,f)||(i.track({type:2,doc:f}),m=!0,(c&&r.lo(f,c)>0||l&&0>r.lo(f,l))&&(u=!0)):!h&&f?(i.track({type:0,doc:f}),m=!0):h&&!f&&(i.track({type:1,doc:h}),m=!0,(c||l)&&(u=!0)),m&&(f?(a=a.add(f),s=p?s.add(e):s.delete(e)):(a=a.delete(e),s=s.delete(e)))}),iA(this.query)||ik(this.query))for(;a.size>this.query.limit;){var h=iA(this.query)?a.last():a.first();a=a.delete(h.key),s=s.delete(h.key),i.track({type:1,doc:h})}return{fo:a,mo:i,Nn:u,mutatedKeys:s}},e.prototype.yo=function(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(e,n,r){var i=this,o=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var s=e.mo.jr();s.sort(function(e,n){var r,o,s;return r=e.type,o=n.type,(s=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rk()}})(r)-s(o)||i.lo(e.doc,n.doc)}),this.po(r);var a=n?this.Eo():[],u=0===this.ho.size&&this.current?1:0,c=u!==this.ao;return this.ao=u,0!==s.length||c?{snapshot:new uM(this.query,e.fo,o,s,e.mutatedKeys,0===u,c,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new uL,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var n=this;e&&(e.addedDocuments.forEach(function(e){return n.uo=n.uo.add(e)}),e.modifiedDocuments.forEach(function(e){}),e.removedDocuments.forEach(function(e){return n.uo=n.uo.delete(e)}),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var n=this.ho;this.ho=oS(),this.fo.forEach(function(n){e.Io(n.key)&&(e.ho=e.ho.add(n.key))});var r=[];return n.forEach(function(n){e.ho.has(n)||r.push(new uZ(n))}),this.ho.forEach(function(e){n.has(e)||r.push(new uW(e))}),r},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=oS();var n=this._o(e.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return uM.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),uX=function(e,n,r){this.query=e,this.targetId=n,this.view=r},uY=function(e){this.key=e,this.bo=!1},uQ=function(){function e(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.vo={},this.Po=new ac(function(e){return iM(e)},iL),this.Vo=new Map,this.So=new Set,this.Do=new om(rQ.comparator),this.Co=new Map,this.No=new aj,this.xo={},this.ko=new Map,this.Fo=s8.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function uJ(e,n){return u(this,void 0,void 0,function(){var r,i,o,s,a,u;return c(this,function(c){switch(c.label){case 0:return(s=(r=cm(e)).Po.get(n))?(i=s.targetId,r.sharedClientState.addLocalQueryTarget(i),o=s.view.Ro(),[3,4]):[3,1];case 1:return[4,aD(r.localStore,iR(n))];case 2:return a=c.sent(),u=r.sharedClientState.addLocalQueryTarget(a.targetId),[4,u0(r,n,i=a.targetId,"current"===u)];case 3:o=c.sent(),r.isPrimaryClient&&ul(r.remoteStore,a),c.label=4;case 4:return[2,o]}})})}function u0(e,n,r,i){return u(this,void 0,void 0,function(){var o,s,a,l,h,f;return c(this,function(d){switch(d.label){case 0:return e.Oo=function(n,r,i){return function(e,n,r,i){return u(this,void 0,void 0,function(){var o,s,a;return c(this,function(u){switch(u.label){case 0:return(o=n.view._o(r)).Nn?[4,aR(e.localStore,n.query,!1).then(function(e){var r=e.documents;return n.view._o(r,o)})]:[3,2];case 1:o=u.sent(),u.label=2;case 2:return s=i&&i.targetChanges.get(n.targetId),a=n.view.applyChanges(o,e.isPrimaryClient,s),[2,(cr(e,n.targetId,a.To),a.snapshot)]}})})}(e,n,r,i)},[4,aR(e.localStore,n,!0)];case 1:return o=d.sent(),a=(s=new u$(n,o.Bn))._o(o.documents),l=oA.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==e.onlineState),h=s.applyChanges(a,e.isPrimaryClient,l),cr(e,r,h.To),f=new uX(n,r,s),[2,(e.Po.set(n,f),e.Vo.has(r)?e.Vo.get(r).push(n):e.Vo.set(r,[n]),h.snapshot)]}})})}function u1(e,n){return u(this,void 0,void 0,function(){var r,i,o;return c(this,function(s){switch(s.label){case 0:return i=(r=e).Po.get(n),(o=r.Vo.get(i.targetId)).length>1?[2,(r.Vo.set(i.targetId,o.filter(function(e){return!iL(e,n)})),void r.Po.delete(n))]:r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,aP(r.localStore,i.targetId,!1).then(function(){r.sharedClientState.clearQueryState(i.targetId),uh(r.remoteStore,i.targetId),ce(r,i.targetId)}).catch(an)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return ce(r,i.targetId),[4,aP(r.localStore,i.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function u2(e,n,r){return u(this,void 0,void 0,function(){var i,o,s;return c(this,function(a){var u,c,l,h,f,d,p;switch(a.label){case 0:i=cg(e),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,(u=i.localStore,l=rP.now(),h=n.reduce(function(e,n){return e.add(n.key)},oS()),u.persistence.runTransaction("Locally write mutations","readwrite",function(e){return u.Mn.pn(e,h).next(function(r){c=r;for(var i=[],o=0;o<n.length;o++){var s=n[o],a=function(e,n){for(var r=null,i=0,o=e.fieldTransforms;i<o.length;i++){var s=o[i],a=n.data.field(s.field),u=iK(s.transform,a||null);null!=u&&(null==r&&(r=ir.empty()),r.set(s.field,u))}return r||null}(s,c.get(s.key));null!=a&&i.push(new i9(s.key,a,function e(n){var r=[];return rL(n.fields,function(n,i){var o=new rU([n]);if(it(i)){var s=e(i.mapValue).fields;if(0===s.length)r.push(o);else for(var a=0;a<s.length;a++){var u=s[a];r.push(o.child(u))}}else r.push(o)}),new rB(r)}(a.value.mapValue),i1.exists(!0)))}return u._n.addMutationBatch(e,l,i,n)})}).then(function(e){return e.applyToLocalDocumentSet(c),{batchId:e.batchId,changes:c}}))];case 2:return o=a.sent(),i.sharedClientState.addPendingMutation(o.batchId),f=i,d=o.batchId,(p=f.xo[f.currentUser.toKey()])||(p=new om(rC)),p=p.insert(d,r),f.xo[f.currentUser.toKey()]=p,[4,co(i,o.changes)];case 3:return a.sent(),[4,uT(i.remoteStore)];case 4:return a.sent(),[3,6];case 5:return s=uR(a.sent(),"Failed to persist write"),r.reject(s),[3,6];case 6:return[2]}})})}function u3(e,n){return u(this,void 0,void 0,function(){var r,i;return c(this,function(o){var s,a,u;switch(o.label){case 0:r=e,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(s=r.localStore,a=n.snapshotVersion,u=s.kn,s.persistence.runTransaction("Apply remote event","readwrite-primary",function(e){var r=s.On.newChangeBuffer({trackRemovals:!0});u=s.kn;var i=[];n.targetChanges.forEach(function(n,r){var o=u.get(r);if(o){i.push(s.qe.removeMatchingKeys(e,n.removedDocuments,r).next(function(){return s.qe.addMatchingKeys(e,n.addedDocuments,r)}));var c=n.resumeToken;if(c.approximateByteSize()>0){var l=o.withResumeToken(c,a).withSequenceNumber(e.currentSequenceNumber);u=u.insert(r,l),l.resumeToken.approximateByteSize()>0||rk(),(0===o.resumeToken.approximateByteSize()||l.snapshotVersion.toMicroseconds()-o.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)&&i.push(s.qe.updateTargetData(e,l))}}});var o=ow;if(n.documentUpdates.forEach(function(r,o){n.resolvedLimboDocuments.has(r)&&i.push(s.persistence.referenceDelegate.updateLimboDocument(e,r))}),i.push(aC(e,r,n.documentUpdates,a,void 0).next(function(e){o=e})),!a.isEqual(rR.min())){var c=s.qe.getLastRemoteSnapshotVersion(e).next(function(n){return s.qe.setTargetsMetadata(e,e.currentSequenceNumber,a)});i.push(c)}return sb.waitFor(i).next(function(){return r.apply(e)}).next(function(){return s.Mn.En(e,o)}).next(function(){return o})}).then(function(e){return s.kn=u,e}))];case 2:return i=o.sent(),n.targetChanges.forEach(function(e,n){var i=r.Co.get(n);i&&(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1||rk(),e.addedDocuments.size>0?i.bo=!0:e.modifiedDocuments.size>0?i.bo||rk():e.removedDocuments.size>0&&(i.bo||rk(),i.bo=!1))}),[4,co(r,i,n)];case 3:case 5:return o.sent(),[3,6];case 4:return[4,an(o.sent())];case 6:return[2]}})})}function u4(e,n,r){var i=e;if(i.isPrimaryClient&&0===r||!i.isPrimaryClient&&1===r){var o,s,a=[];i.Po.forEach(function(e,r){var i=r.view.zr(n);i.snapshot&&a.push(i.snapshot)}),(o=i.eventManager).onlineState=n,s=!1,o.queries.forEach(function(e,r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].zr(n)&&(s=!0)}),s&&uz(o),a.length&&i.vo._r(a),i.onlineState=n,i.isPrimaryClient&&i.sharedClientState.setOnlineState(n)}}function u5(e,n,r){return u(this,void 0,void 0,function(){var i,o,s,a,u;return c(this,function(c){switch(c.label){case 0:return(i=e).sharedClientState.updateQueryState(n,"rejected",r),(s=(o=i.Co.get(n))&&o.key)?(a=(a=new om(rQ.comparator)).insert(s,ii.newNoDocument(s,rR.min())),u=oS().add(s),[4,u3(i,new ox(rR.min(),new Map,new oy(rC),a,u))]):[3,2];case 1:return c.sent(),i.Do=i.Do.remove(s),i.Co.delete(n),ci(i),[3,4];case 2:return[4,aP(i.localStore,n,!1).then(function(){return ce(i,n,r)}).catch(an)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function u6(e,n){return u(this,void 0,void 0,function(){var r,i,o;return c(this,function(s){var a;switch(s.label){case 0:r=e,i=n.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,(a=r.localStore).persistence.runTransaction("Acknowledge batch","readwrite-primary",function(e){var r,i,o,s=n.batch.keys(),u=a.On.newChangeBuffer({trackRemovals:!0});return(i=(r=n.batch).keys(),o=sb.resolve(),i.forEach(function(i){o=o.next(function(){return u.getEntry(e,i)}).next(function(e){var o=n.docVersions.get(i);null!==o||rk(),0>e.version.compareTo(o)&&(r.applyToRemoteDocument(e,n),e.isValidDocument()&&u.addEntry(e,n.commitVersion))})}),o.next(function(){return a._n.removeMutationBatch(e,r)})).next(function(){return u.apply(e)}).next(function(){return a._n.performConsistencyCheck(e)}).next(function(){return a.Mn.pn(e,s)})})];case 2:return o=s.sent(),ct(r,i,null),u7(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),[4,co(r,o)];case 3:case 5:return s.sent(),[3,6];case 4:return[4,an(s.sent())];case 6:return[2]}})})}function u8(e,n,r){return u(this,void 0,void 0,function(){var i,o;return c(this,function(s){var a;switch(s.label){case 0:i=e,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,(a=i.localStore).persistence.runTransaction("Reject batch","readwrite-primary",function(e){var r;return a._n.lookupMutationBatch(e,n).next(function(n){return null!==n||rk(),r=n.keys(),a._n.removeMutationBatch(e,n)}).next(function(){return a._n.performConsistencyCheck(e)}).next(function(){return a.Mn.pn(e,r)})})];case 2:return o=s.sent(),ct(i,n,r),u7(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),[4,co(i,o)];case 3:case 5:return s.sent(),[3,6];case 4:return[4,an(s.sent())];case 6:return[2]}})})}function u9(e,n){return u(this,void 0,void 0,function(){var r,i,o,s;return c(this,function(a){var u;switch(a.label){case 0:ug((r=e).remoteStore)||rS("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,(u=r.localStore).persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(e){return u._n.getHighestUnacknowledgedBatchId(e)})];case 2:return -1===(i=a.sent())?[2,void n.resolve()]:((o=r.ko.get(i)||[]).push(n),r.ko.set(i,o),[3,4]);case 3:return s=uR(a.sent(),"Initialization of waitForPendingWrites() operation failed"),n.reject(s),[3,4];case 4:return[2]}})})}function u7(e,n){(e.ko.get(n)||[]).forEach(function(e){e.resolve()}),e.ko.delete(n)}function ct(e,n,r){var i=e,o=i.xo[i.currentUser.toKey()];if(o){var s=o.get(n);s&&(r?s.reject(r):s.resolve(),o=o.remove(n)),i.xo[i.currentUser.toKey()]=o}}function ce(e,n,r){void 0===r&&(r=null),e.sharedClientState.removeLocalQueryTarget(n);for(var i=0,o=e.Vo.get(n);i<o.length;i++){var s=o[i];e.Po.delete(s),r&&e.vo.Mo(s,r)}e.Vo.delete(n),e.isPrimaryClient&&e.No.Zn(n).forEach(function(n){e.No.containsKey(n)||cn(e,n)})}function cn(e,n){e.So.delete(n.path.canonicalString());var r=e.Do.get(n);null!==r&&(uh(e.remoteStore,r),e.Do=e.Do.remove(n),e.Co.delete(r),ci(e))}function cr(e,n,r){for(var i=0;i<r.length;i++){var o=r[i];o instanceof uW?(e.No.addReference(o.key,n),function(e,n){var r=n.key,i=r.path.canonicalString();e.Do.get(r)||e.So.has(i)||(rS("SyncEngine","New document in limbo: "+r),e.So.add(i),ci(e))}(e,o)):o instanceof uZ?(rS("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,n),e.No.containsKey(o.key)||cn(e,o.key)):rk()}}function ci(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var n=e.So.values().next().value;e.So.delete(n);var r=new rQ(rV.fromString(n)),i=e.Fo.next();e.Co.set(i,new uY(r)),e.Do=e.Do.insert(r,i),ul(e.remoteStore,new sR(iR(ix(r.path)),i,2,rb.o))}}function co(e,n,r){return u(this,void 0,void 0,function(){var i,o,s,a;return c(this,function(l){switch(l.label){case 0:return o=[],s=[],a=[],(i=e).Po.isEmpty()?[3,3]:(i.Po.forEach(function(e,u){a.push(i.Oo(u,n,r).then(function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(u.targetId,e.fromCache?"not-current":"current"),o.push(e);var n=a_.Pn(u.targetId,e);s.push(n)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),i.vo._r(o),[4,function(e,n){return u(this,void 0,void 0,function(){var r,i,o,s,a,u,l,h;return c(this,function(c){switch(c.label){case 0:r=e,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(e){return sb.forEach(n,function(n){return sb.forEach(n.bn,function(i){return r.persistence.referenceDelegate.addReference(e,n.targetId,i)}).next(function(){return sb.forEach(n.vn,function(i){return r.persistence.referenceDelegate.removeReference(e,n.targetId,i)})})})})];case 2:return c.sent(),[3,4];case 3:if(!sS(i=c.sent()))throw i;return rS("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(o=0;o<n.length;o++)a=(s=n[o]).targetId,s.fromCache||(l=(u=r.kn.get(a)).snapshotVersion,h=u.withLastLimboFreeSnapshotVersion(l),r.kn=r.kn.insert(a,h));return[2]}})})}(i.localStore,s)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function cs(e,n){return u(this,void 0,void 0,function(){var r,i;return c(this,function(o){var s;switch(o.label){case 0:return(r=e).currentUser.isEqual(n)?[3,3]:(rS("SyncEngine","User change. New user:",n.toKey()),[4,ak(r.localStore,n)]);case 1:return i=o.sent(),r.currentUser=n,(s=r).ko.forEach(function(e){e.forEach(function(e){e.reject(new rE(rw.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ko.clear(),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),[4,co(r,i.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function ca(e,n){var r=e.Co.get(n);if(r&&r.bo)return oS().add(r.key);var i=oS(),o=e.Vo.get(n);if(!o)return i;for(var s=0;s<o.length;s++){var a=o[s],u=e.Po.get(a);i=i.unionWith(u.view.wo)}return i}function cu(e){return u(this,void 0,void 0,function(){return c(this,function(n){return[2,aL(e.localStore).then(function(n){return co(e,n)})]})})}function cc(e,n,r,i){return u(this,void 0,void 0,function(){var o,s;return c(this,function(a){switch(a.label){case 0:var u,c;return[4,(c=(u=(o=e).localStore)._n,u.persistence.runTransaction("Lookup mutation documents","readonly",function(e){return c.jt(e,n).next(function(n){return n?u.Mn.pn(e,n):sb.resolve(null)})}))];case 1:return null===(s=a.sent())?[3,6]:"pending"!==r?[3,3]:[4,uT(o.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===r||"rejected"===r?(ct(o,n,i||null),u7(o,n),function(e,n){e._n.Gt(n)}(o.localStore,n)):rk(),a.label=4;case 4:return[4,co(o,s)];case 5:return a.sent(),[3,7];case 6:rS("SyncEngine","Cannot apply mutation batch with id: "+n),a.label=7;case 7:return[2]}})})}function cl(e,n,r){return u(this,void 0,void 0,function(){var r,i,o,s,a,l,h,f,d,p,m,g,v,y;return c(this,function(b){switch(b.label){case 0:r=e,i=[],o=[],s=0,a=n,b.label=1;case 1:return s<a.length?(l=a[s],h=void 0,(f=r.Vo.get(l))&&0!==f.length?[4,aD(r.localStore,iR(f[0]))]:[3,7]):[3,13];case 2:h=b.sent(),d=0,p=f,b.label=3;case 3:return d<p.length?(m=p[d],g=r.Po.get(m),[4,function(e,n){return u(this,void 0,void 0,function(){var r,i,o;return c(this,function(s){switch(s.label){case 0:return[4,aR((r=e).localStore,n.query,!0)];case 1:return i=s.sent(),o=n.view.Ao(i),[2,(r.isPrimaryClient&&cr(r,n.targetId,o.To),o)]}})})}(r,g)]):[3,6];case 4:(v=b.sent()).snapshot&&o.push(v.snapshot),b.label=5;case 5:return d++,[3,3];case 6:return[3,11];case 7:return[4,aO(r.localStore,l)];case 8:return y=b.sent(),[4,aD(r.localStore,y)];case 9:return h=b.sent(),[4,u0(r,ch(y),l,!1)];case 10:b.sent(),b.label=11;case 11:i.push(h),b.label=12;case 12:return s++,[3,1];case 13:return[2,(r.vo._r(o),i)]}})})}function ch(e){var n,r,i,o,s,a,u;return n=e.path,r=e.collectionGroup,i=e.orderBy,o=e.filters,s=e.limit,a=e.startAt,u=e.endAt,new i_(n,r,i,o,s,"F",a,u)}function cf(e){return e.localStore.persistence.fn()}function cd(e,n,r,i){return u(this,void 0,void 0,function(){var o;return c(this,function(s){switch(s.label){case 0:return(o=e).$o?(rS("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(n))return[3,8];switch(r){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,aL(o.localStore)];case 3:return[4,co(o,s.sent(),ox.createSynthesizedRemoteEventForCurrentChange(n,"current"===r))];case 4:return s.sent(),[3,8];case 5:return[4,aP(o.localStore,n,!0)];case 6:return s.sent(),ce(o,n,i),[3,8];case 7:rk(),s.label=8;case 8:return[2]}})})}function cp(e,n,r){return u(this,void 0,void 0,function(){var i,o,s,a,u,l,h,f,d;return c(this,function(p){switch(p.label){case 0:if(!(i=cm(e)).$o)return[3,10];o=0,s=n,p.label=1;case 1:return o<s.length?(a=s[o],i.Vo.has(a)?(rS("SyncEngine","Adding an already active target "+a),[3,5]):[4,aO(i.localStore,a)]):[3,6];case 2:return u=p.sent(),[4,aD(i.localStore,u)];case 3:return l=p.sent(),[4,u0(i,ch(u),l.targetId,!1)];case 4:p.sent(),ul(i.remoteStore,l),p.label=5;case 5:return o++,[3,1];case 6:h=function(e){return c(this,function(n){switch(n.label){case 0:return i.Vo.has(e)?[4,aP(i.localStore,e,!1).then(function(){uh(i.remoteStore,e),ce(i,e)}).catch(an)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})},f=0,d=r,p.label=7;case 7:return f<d.length?[5,h(d[f])]:[3,10];case 8:p.sent(),p.label=9;case 9:return f++,[3,7];case 10:return[2]}})})}function cm(e){var n=e;return n.remoteStore.remoteSyncer.applyRemoteEvent=u3.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=ca.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=u5.bind(null,n),n.vo._r=uB.bind(null,n.eventManager),n.vo.Mo=uq.bind(null,n.eventManager),n}function cg(e){var n=e;return n.remoteStore.remoteSyncer.applySuccessfulWrite=u6.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=u8.bind(null,n),n}var cv=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return u(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return this.R=ut(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){var n,r,i,o;return n=this.persistence,r=new ax,i=e.initialUser,o=this.R,new aA(n,r,i,o)},e.prototype.qo=function(e){return new az(aG.bs,this.R)},e.prototype.Bo=function(e){return new a2},e.prototype.terminate=function(){return u(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},e}(),cy=function(e){function n(n,r,i){var o=this;return(o=e.call(this)||this).Qo=n,o.cacheSizeBytes=r,o.forceOwnership=i,o.synchronizeTabs=!1,o}return s(n,e),n.prototype.initialize=function(n){return u(this,void 0,void 0,function(){var r=this;return c(this,function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return i.sent(),[4,function(e){return u(this,void 0,void 0,function(){var n;return c(this,function(r){return[2,(n=e).persistence.runTransaction("Synchronize last document change read time","readonly",function(e){var n,r;return n=ap(e),r=rR.min(),n.$t({index:ss.readTimeIndex,reverse:!0},function(e,n,i){n.readTime&&(r=sV(n.readTime)),i.done()}).next(function(){return r})}).then(function(e){n.$n=e})]})})}(this.localStore)];case 2:return i.sent(),[4,this.Qo.initialize(this,n)];case 3:return i.sent(),[4,cg(this.Qo.syncEngine)];case 4:return i.sent(),[4,uT(this.Qo.remoteStore)];case 5:return i.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return i.sent(),[2]}})})},n.prototype.Ko=function(e){var n,r,i,o;return n=this.persistence,r=new ax,i=e.initialUser,o=this.R,new aA(n,r,i,o)},n.prototype.Uo=function(e){var n=this.persistence.referenceDelegate.garbageCollector;return new ao(n,e.asyncQueue)},n.prototype.qo=function(e){var n=aT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?sJ.withCacheSize(this.cacheSizeBytes):sJ.DEFAULT;return new ab(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,a9(),a7(),this.R,this.sharedClientState,!!this.forceOwnership)},n.prototype.Bo=function(e){return new a2},n}(cv),cb=function(e){function n(n,r){var i=this;return(i=e.call(this,n,r,!1)||this).Qo=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return s(n,e),n.prototype.initialize=function(n){return u(this,void 0,void 0,function(){var r,i=this;return c(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return o.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof a1?(this.sharedClientState.syncEngine={ui:cc.bind(null,r),ai:cd.bind(null,r),hi:cp.bind(null,r),fn:cf.bind(null,r),ci:cu.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.He(function(e){return u(i,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,function(e,n){return u(this,void 0,void 0,function(){var r,i,o,s,a,u,l,h;return c(this,function(c){var f;switch(c.label){case 0:return cm(r=e),cg(r),!0!==n||!0===r.$o?[3,3]:(i=r.sharedClientState.getAllActiveQueryTargets(),[4,cl(r,i.toArray())]);case 1:return o=c.sent(),r.$o=!0,[4,uN(r.remoteStore,!0)];case 2:for(c.sent(),s=0,a=o;s<a.length;s++)u=a[s],ul(r.remoteStore,u);return[3,7];case 3:return!1!==n||!1===r.$o?[3,7]:(l=[],h=Promise.resolve(),r.Vo.forEach(function(e,n){r.sharedClientState.isLocalQueryTarget(n)?l.push(n):h=h.then(function(){return ce(r,n),aP(r.localStore,n,!0)}),uh(r.remoteStore,n)}),[4,h]);case 4:return c.sent(),[4,cl(r,l)];case 5:return c.sent(),(f=r).Co.forEach(function(e,n){uh(f.remoteStore,n)}),f.No.ts(),f.Co=new Map,f.Do=new om(rQ.comparator),r.$o=!1,[4,uN(r.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}(this.Qo.syncEngine,e)];case 1:return n.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}})})})];case 4:return o.sent(),[2]}})})},n.prototype.Bo=function(e){var n=a9();if(!a1.yt(n))throw new rE(rw.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var r=aT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new a1(n,e.asyncQueue,r,e.clientId,e.initialUser)},n}(cy),cw=function(){function e(){}return e.prototype.initialize=function(e,n){return u(this,void 0,void 0,function(){var r=this;return c(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return u4(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=cs.bind(null,this.syncEngine),[4,uN(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(e){return new uV},e.prototype.createDatastore=function(e){var n,r,i=ut(e.databaseInfo.databaseId),o=(r=e.databaseInfo,new a8(r));return n=e.credentials,new uo(n,o,i)},e.prototype.createRemoteStore=function(e){var n,r,i,o,s=this;return n=this.localStore,r=this.datastore,i=e.asyncQueue,o=a4.yt()?new a4:new a3,new ua(n,r,i,function(e){return u4(s.syncEngine,e,0)},o)},e.prototype.createSyncEngine=function(e,n){var r,i,o,s,a,u,c;return r=this.localStore,i=this.remoteStore,o=this.eventManager,s=this.sharedClientState,a=e.initialUser,u=e.maxConcurrentLimboResolutions,c=new uQ(r,i,o,s,a,u),n&&(c.$o=!0),c},e.prototype.terminate=function(){return function(e){return u(this,void 0,void 0,function(){var n;return c(this,function(r){switch(r.label){case 0:return n=e,rS("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,uc(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}(),cE=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,n){var r=this;this.muted||setTimeout(function(){r.muted||e(n)},0)},e}(),cT=(function(){function e(e,n){var r=this;this.Go=e,this.R=n,this.metadata=new sy,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(e){e&&e.io()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))},function(e){return r.metadata.reject(e)})}e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return u(this,void 0,void 0,function(){return c(this,function(e){return[2,this.metadata.promise]})})},e.prototype.Lo=function(){return u(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}})})},e.prototype.Ho=function(){return u(this,void 0,void 0,function(){var e,n,r,i;return c(this,function(o){switch(o.label){case 0:return[4,this.Jo()];case 1:return null===(e=o.sent())?[2,null]:(isNaN(r=Number(n=this.zo.decode(e)))&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(r)]);case 2:return i=o.sent(),[2,new uG(JSON.parse(i),e.length+r)]}})})},e.prototype.Zo=function(){return this.buffer.findIndex(function(e){return 123===e})},e.prototype.Jo=function(){return u(this,void 0,void 0,function(){var e,n;return c(this,function(r){switch(r.label){case 0:return 0>this.Zo()?[4,this.tc()]:[3,3];case 1:if(r.sent())return[3,3];r.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),n)])}})})},e.prototype.Xo=function(e){return u(this,void 0,void 0,function(){var n;return c(this,function(r){switch(r.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:r.sent()&&this.Yo("Reached the end of bundle when more is expected."),r.label=2;case 2:return[3,0];case 3:return n=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),n)]}})})},e.prototype.Yo=function(e){throw this.Go.cancel(),Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return u(this,void 0,void 0,function(){var e,n;return c(this,function(r){switch(r.label){case 0:return[4,this.Go.read()];case 1:return(e=r.sent()).done||((n=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n),[2,e.done]}})})}}(),function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return u(this,void 0,void 0,function(){var n,r=this;return c(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new rE(rw.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,n){return u(this,void 0,void 0,function(){var r,i,o,s,a,u;return c(this,function(c){switch(c.label){case 0:return i=oW((r=e).R)+"/documents",o={documents:n.map(function(e){return oz(r.R,e)})},[4,r.$i("BatchGetDocuments",i,o)];case 1:return s=c.sent(),a=new Map,s.forEach(function(e){var n,i,o,s,u,c,l=(n=r.R,"found"in e?(e.found||rk(),e.found.name,e.found.updateTime,i=oK(n,e.found.name),o=oU(e.found.updateTime),s=new ir({mapValue:{fields:e.found.fields}}),ii.newFoundDocument(i,o,s)):"missing"in e?(e.missing||rk(),e.readTime||rk(),u=oK(n,e.missing),c=oU(e.readTime),ii.newNoDocument(u,c)):rk());a.set(l.key.toString(),l)}),u=[],[2,(n.forEach(function(e){var n=a.get(e.toString());n||rk(),u.push(n)}),u)]}})})}(this.datastore,e)];case 1:return[2,((n=i.sent()).forEach(function(e){return r.recordVersion(e)}),n)]}})})},e.prototype.set=function(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new ol(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return u(this,void 0,void 0,function(){var e,n=this;return c(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(n){e.delete(n.key.toString())}),e.forEach(function(e,r){var i=rQ.fromPath(r);n.mutations.push(new oh(i,n.precondition(i)))}),[4,function(e,n){return u(this,void 0,void 0,function(){var r,i;return c(this,function(o){switch(o.label){case 0:return r=oW(e.R)+"/documents",i={writes:n.map(function(n){return oY(e.R,n)})},[4,e.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(e){if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw rk();n=rR.min()}var n,r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new rE(rw.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)},e.prototype.precondition=function(e){var n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?i1.updateTime(n):i1.none()},e.prototype.preconditionForUpdate=function(e){var n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(rR.min()))throw new rE(rw.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return i1.updateTime(n)}return i1.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}()),cI=function(){function e(e,n,r,i){this.asyncQueue=e,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ec=5,this.Zi=new ue(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji(function(){return u(e,void 0,void 0,function(){var e,n,r=this;return c(this,function(i){return e=new cT(this.datastore),(n=this.sc(e))&&n.then(function(n){r.asyncQueue.enqueueAndForget(function(){return e.commit().then(function(){r.deferred.resolve(n)}).catch(function(e){r.ic(e)})})}).catch(function(e){r.ic(e)}),[2]})})})},e.prototype.sc=function(e){try{var n=this.updateFunction(e);return!r$(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var n=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var n=e.code;return"aborted"===n||"failed-precondition"===n||!od(n)}return!1},e}(),cS=function(){function e(e,n,r){var i=this;this.credentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=aH.UNAUTHENTICATED,this.clientId=rN.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(e){return u(i,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return rS("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return n.sent(),this.user=e,[2]}})})})}return e.prototype.getConfiguration=function(){return u(this,void 0,void 0,function(){return c(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new rE(rw.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var n=new sy;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return u(e,void 0,void 0,function(){var e;return c(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return e=uR(r.sent(),"Failed to shutdown persistence"),n.reject(e),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(e,n){return u(this,void 0,void 0,function(){var r,i,o=this;return c(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),rS("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return r=s.sent(),[4,n.initialize(r)];case 2:return s.sent(),i=r.initialUser,e.setCredentialChangeListener(function(e){return u(o,void 0,void 0,function(){return c(this,function(r){switch(r.label){case 0:return i.isEqual(e)?[3,2]:[4,ak(n.localStore,e)];case 1:r.sent(),i=e,r.label=2;case 2:return[2]}})})}),n.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=n,[2]}})})}function cx(e,n){return u(this,void 0,void 0,function(){var r,i;return c(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,cA(e)];case 1:return r=o.sent(),rS("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return i=o.sent(),[4,n.initialize(r,i)];case 3:return o.sent(),e.setCredentialChangeListener(function(e){return function(e,n){return u(this,void 0,void 0,function(){var r,i;return c(this,function(o){switch(o.label){case 0:return(r=e).asyncQueue.verifyOperationInProgress(),rS("RemoteStore","RemoteStore received new credentials"),i=ug(r),r.Or.add(3),[4,uc(r)];case 1:return o.sent(),i&&r.Br.set("Unknown"),[4,r.remoteSyncer.handleCredentialChange(n)];case 2:return o.sent(),r.Or.delete(3),[4,uu(r)];case 3:return o.sent(),[2]}})})}(n.remoteStore,e)}),e.onlineComponents=n,[2]}})})}function cA(e){return u(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return e.offlineComponents?[3,2]:(rS("FirestoreClient","Using default OfflineComponentProvider"),[4,c_(e,new cv)]);case 1:n.sent(),n.label=2;case 2:return[2,e.offlineComponents]}})})}function ck(e){return u(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return e.onlineComponents?[3,2]:(rS("FirestoreClient","Using default OnlineComponentProvider"),[4,cx(e,new cw)]);case 1:n.sent(),n.label=2;case 2:return[2,e.onlineComponents]}})})}function cN(e){return cA(e).then(function(e){return e.persistence})}function cC(e){return cA(e).then(function(e){return e.localStore})}function cD(e){return ck(e).then(function(e){return e.remoteStore})}function cP(e){return ck(e).then(function(e){return e.syncEngine})}function cR(e){return u(this,void 0,void 0,function(){var n,r;return c(this,function(i){switch(i.label){case 0:return[4,ck(e)];case 1:return[2,((r=(n=i.sent()).eventManager).onListen=uJ.bind(null,n.syncEngine),r.onUnlisten=u1.bind(null,n.syncEngine),r)]}})})}function cO(e,n,r){var i=this;void 0===r&&(r={});var o=new sy;return e.asyncQueue.enqueueAndForget(function(){return u(i,void 0,void 0,function(){var i;return c(this,function(s){switch(s.label){case 0:return i=function(e,n,r,i,o){var s=new cE({next:function(s){n.enqueueAndForget(function(){return uU(e,a)});var u=s.docs.has(r);!u&&s.fromCache?o.reject(new rE(rw.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&s.fromCache&&i&&"server"===i.source?o.reject(new rE(rw.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):o.resolve(s)},error:function(e){return o.reject(e)}}),a=new uK(ix(r.path),s,{includeMetadataChanges:!0,so:!0});return uF(e,a)},[4,cR(e)];case 1:return[2,i.apply(void 0,[s.sent(),e.asyncQueue,n,r,o])]}})})}),o.promise}function cL(e,n,r){var i=this;void 0===r&&(r={});var o=new sy;return e.asyncQueue.enqueueAndForget(function(){return u(i,void 0,void 0,function(){var i;return c(this,function(s){switch(s.label){case 0:return i=function(e,n,r,i,o){var s=new cE({next:function(r){n.enqueueAndForget(function(){return uU(e,a)}),r.fromCache&&"server"===i.source?o.reject(new rE(rw.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):o.resolve(r)},error:function(e){return o.reject(e)}}),a=new uK(r,s,{includeMetadataChanges:!0,so:!0});return uF(e,a)},[4,cR(e)];case 1:return[2,i.apply(void 0,[s.sent(),e.asyncQueue,n,r,o])]}})})}),o.promise}var cM=function(e,n,r,i,o,s,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=u},cj=function(){function e(e,n){this.projectId=e,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(n){return n instanceof e&&n.projectId===this.projectId&&n.database===this.database},e}(),cV=new Map,cF=function(e,n){this.user=n,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},cU=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,n){this.changeListener=n,e.enqueueRetryable(function(){return n(aH.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),cB=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,n){var r=this;this.changeListener=n,e.enqueueRetryable(function(){return n(r.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),cq=function(){function e(e){var n=this;this.currentUser=aH.UNAUTHENTICATED,this.oc=new sy,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(e){rS("FirebaseCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.uc)};e.onInit(function(e){return r(e)}),setTimeout(function(){if(!n.auth){var i=e.getImmediate({optional:!0});i?r(i):(rS("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var e=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(r){return e.cc!==n?(rS("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):r?("string"==typeof r.accessToken||rk(),new cF(r.accessToken,e.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,n){var r=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return u(r,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,n(this.currentUser)];case 2:return e.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return null===e||"string"==typeof e||rk(),new aH(e)},e}(),cz=function(){function e(e,n,r){this.hc=e,this.lc=n,this.fc=r,this.type="FirstParty",this.user=aH.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(e.Authorization=n),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),cK=function(){function e(e,n,r){this.hc=e,this.lc=n,this.fc=r}return e.prototype.getToken=function(){return Promise.resolve(new cz(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,n){e.enqueueRetryable(function(){return n(aH.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cG(e,n,r){if(!r)throw new rE(rw.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+n+".")}function cH(e,n){if(void 0===n)return{merge:!1};if(void 0!==n.mergeFields&&void 0!==n.merge)throw new rE(rw.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return n}function cW(e,n,r,i){if(!0===n&&!0===i)throw new rE(rw.INVALID_ARGUMENT,e+" and "+r+" cannot be used together.")}function cZ(e){if(!rQ.isDocumentKey(e))throw new rE(rw.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function c$(e){if(rQ.isDocumentKey(e))throw new rE(rw.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function cX(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var n=function(e){if(e.constructor){var n=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(n&&n.length>1)return n[1]}return null}(e);return n?"a custom "+n+" object":"an object"}return"function"==typeof e?"a function":rk()}function cY(e,n){if("_delegate"in e&&(e=e._delegate),!(e instanceof n)){if(n.name===e.constructor.name)throw new rE(rw.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var r=cX(e);throw new rE(rw.INVALID_ARGUMENT,"Expected type '"+n.name+"', but it was: "+r)}return e}function cQ(e,n){if(n<=0)throw new rE(rw.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+n+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cJ=function(){function e(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new rE(rw.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new rE(rw.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,cW("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),c0=function(){function e(e,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cJ({}),this._settingsFrozen=!1,e instanceof cj?(this._databaseId=e,this._credentials=new cU):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new rE(rw.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cj(e.options.projectId)}(e),this._credentials=new cq(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new rE(rw.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new rE(rw.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cJ(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new cU;switch(e.type){case"gapi":var n=e.client;return"object"==typeof n&&null!==n&&n.auth&&n.auth.getAuthHeaderValueForFirstParty||rk(),new cK(n,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new rE(rw.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){var e;return(e=cV.get(this))&&(rS("ComponentProvider","Removing Datastore"),cV.delete(this),e.terminate()),Promise.resolve()},e}(),c1=function(){function e(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new c3(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(n){return new e(this.firestore,n,this._key)},e}(),c2=function(){function e(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}return e.prototype.withConverter=function(n){return new e(this.firestore,n,this._query)},e}(),c3=function(e){function n(n,r,i){var o=this;return(o=e.call(this,n,r,ix(i))||this)._path=i,o.type="collection",o}return s(n,e),Object.defineProperty(n.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new c1(this.firestore,null,new rQ(e))},enumerable:!1,configurable:!0}),n.prototype.withConverter=function(e){return new n(this.firestore,e,this._path)},n}(c2);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(e,n){for(var r,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(e=N(e),cG("collection","path",n),e instanceof c0)return c$(r=rV.fromString.apply(rV,f([n],i))),new c3(e,null,r);if(!(e instanceof c1||e instanceof c3))throw new rE(rw.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return c$(r=rV.fromString.apply(rV,f([e.path],i)).child(rV.fromString(n))),new c3(e.firestore,null,r)}function c5(e,n){for(var r,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(e=N(e),1==arguments.length&&(n=rN.u()),cG("doc","path",n),e instanceof c0)return cZ(r=rV.fromString.apply(rV,f([n],i))),new c1(e,null,new rQ(r));if(!(e instanceof c1||e instanceof c3))throw new rE(rw.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return cZ(r=e._path.child(rV.fromString.apply(rV,f([n],i)))),new c1(e.firestore,e instanceof c3?e.converter:null,new rQ(r))}function c6(e,n){return e=N(e),n=N(n),(e instanceof c1||e instanceof c3)&&(n instanceof c1||n instanceof c3)&&e.firestore===n.firestore&&e.path===n.path&&e.converter===n.converter}function c8(e,n){return e=N(e),n=N(n),e instanceof c2&&n instanceof c2&&e.firestore===n.firestore&&iL(e._query,n._query)&&e.converter===n.converter/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var c9=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new ue(this,"async_queue_retry"),this.Ic=function(){var n=a7();n&&rS("AsyncQueue","Visibility state changed to "+n.visibilityState),e.Zi.Gi()};var n=a7();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},e.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var n=a7();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(e){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new sy;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},e.prototype.enqueueRetryable=function(e){var n=this;this.enqueueAndForget(function(){return n.wc.push(e),n.bc()})},e.prototype.bc=function(){return u(this,void 0,void 0,function(){var e,n=this;return c(this,function(r){switch(r.label){case 0:if(0===this.wc.length)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!sS(e=r.sent()))throw e;return rS("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},e.prototype.Rc=function(e){var n=this,r=this.dc.then(function(){return n.gc=!0,e().catch(function(e){var r;throw n.yc=e,n.gc=!1,r_("INTERNAL UNHANDLED ERROR: ",(r=e.message||"",e.stack&&(r=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),r)),e}).then(function(e){return n.gc=!1,e})});return this.dc=r,r},e.prototype.enqueueAfterDelay=function(e,n,r){var i=this;this.Ac(),this.Tc.indexOf(e)>-1&&(n=0);var o=uP.createAndSchedule(this,e,n,r,function(e){return i.vc(e)});return this.mc.push(o),o},e.prototype.Ac=function(){this.yc&&rk()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return u(this,void 0,void 0,function(){var e;return c(this,function(n){switch(n.label){case 0:return[4,e=this.dc];case 1:n.sent(),n.label=2;case 2:if(e!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(e){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===e)return!0;return!1},e.prototype.Sc=function(e){var n=this;return this.Pc().then(function(){n.mc.sort(function(e,n){return e.targetTimeMs-n.targetTimeMs});for(var r=0,i=n.mc;r<i.length;r++){var o=i[r];if(o.skipDelay(),"all"!==e&&o.timerId===e)break}return n.Pc()})},e.prototype.Dc=function(e){this.Tc.push(e)},e.prototype.vc=function(e){var n=this.mc.indexOf(e);this.mc.splice(n,1)},e}();function c7(e){return function(e,n){if("object"!=typeof e||null===e)return!1;for(var r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in e&&"function"==typeof e[o])return!0}return!1}(e)}!function(){function e(){this._progressObserver={},this._taskCompletionResolver=new sy,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}e.prototype.onProgress=function(e,n,r){this._progressObserver={next:e,error:n,complete:r}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,n){return this._taskCompletionResolver.promise.then(e,n)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var lt=function(e){function n(n,r){var i=this;return(i=e.call(this,n,r)||this).type="firestore",i._queue=new c9,i._persistenceKey="name"in n?n.name:"[DEFAULT]",i}return s(n,e),n.prototype._terminate=function(){return this._firestoreClient||ln(this),this._firestoreClient.terminate()},n}(c0);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(e){return e._firestoreClient||ln(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ln(e){var n,r,i,o,s=e._freezeSettings(),a=(n=e._databaseId,r=(null===(o=e._app)||void 0===o?void 0:o.options.appId)||"",i=e._persistenceKey,new cM(n,r,i,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,s.useFetchStreams));e._firestoreClient=new cS(e._credentials,e._queue,a)}function lr(e,n,r){var i=this,o=new sy;return e.asyncQueue.enqueue(function(){return u(i,void 0,void 0,function(){var i;return c(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,c_(e,r)];case 1:return s.sent(),[4,cx(e,n)];case 2:return s.sent(),o.resolve(),[3,4];case 3:var a;if(!("FirebaseError"===(a=i=s.sent()).name?a.code===rw.FAILED_PRECONDITION||a.code===rw.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw i;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),o.reject(i),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function li(e){if(e._initialized||e._terminated)throw new rE(rw.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lo=function(){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=0;r<e.length;++r)if(0===e[r].length)throw new rE(rw.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rU(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),ls=function(){function e(e){this._byteString=e}return e.fromBase64String=function(n){try{return new e(rq.fromBase64String(n))}catch(e){throw new rE(rw.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},e.fromUint8Array=function(n){return new e(rq.fromUint8Array(n))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),la=function(e){this._methodName=e},lu=function(){function e(e,n){if(!isFinite(e)||e<-90||e>90)throw new rE(rw.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new rE(rw.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return rC(this._lat,e._lat)||rC(this._long,e._long)},e}(),lc=/^__.*__$/,ll=function(){function e(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(e,n){return null!==this.fieldMask?new i9(e,this.data,this.fieldMask,n,this.fieldTransforms):new i8(e,this.data,n,this.fieldTransforms)},e}(),lh=function(){function e(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(e,n){return new i9(e,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rk()}}var ld=function(){function e(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=i,void 0===o&&this.Cc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(n){return new e(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(e){var n,r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.xc({path:r,Fc:!1});return i.$c(e),i},e.prototype.Oc=function(e){var n,r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.xc({path:r,Fc:!1});return i.Cc(),i},e.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(e){return lR(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find(function(n){return e.isPrefixOf(n)})||void 0!==this.fieldTransforms.find(function(n){return e.isPrefixOf(n.field)})},e.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},e.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(lf(this.Nc)&&lc.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),lp=function(){function e(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.R=r||ut(e)}return e.prototype.Uc=function(e,n,r,i){return void 0===i&&(i=!1),new ld({Nc:e,methodName:n,qc:r,path:rU.emptyPath(),Fc:!1,Bc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function lm(e){var n=e._freezeSettings(),r=ut(e._databaseId);return new lp(e._databaseId,!!n.ignoreUndefinedProperties,r)}function lg(e,n,r,i,o,s){void 0===s&&(s={});var a=e.Uc(s.merge||s.mergeFields?2:0,n,r,o);lN("Data must be an object, but it was:",a,i);var u,c,l=lA(i,a);if(s.merge)u=new rB(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){for(var h=[],f=0,d=s.mergeFields;f<d.length;f++){var p=lC(n,d[f],r);if(!a.contains(p))throw new rE(rw.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");lO(h,p)||h.push(p)}u=new rB(h),c=a.fieldTransforms.filter(function(e){return u.covers(e.field)})}else u=null,c=a.fieldTransforms;return new ll(new ir(l),u,c)}var lv=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return s(n,e),n.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw 1===e.Nc?e.Lc(this._methodName+"() can only appear at the top level of your update data"):e.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},n.prototype.isEqual=function(e){return e instanceof n},n}(la);function ly(e,n,r){return new ld({Nc:3,qc:n.settings.qc,methodName:e._methodName,Fc:r},n.databaseId,n.R,n.ignoreUndefinedProperties)}var lb=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return s(n,e),n.prototype._toFieldTransform=function(e){return new iJ(e.path,new iG)},n.prototype.isEqual=function(e){return e instanceof n},n}(la),lw=function(e){function n(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return s(n,e),n.prototype._toFieldTransform=function(e){var n=ly(this,e,!0),r=this.Kc.map(function(e){return lx(e,n)}),i=new iH(r);return new iJ(e.path,i)},n.prototype.isEqual=function(e){return this===e},n}(la),lE=function(e){function n(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return s(n,e),n.prototype._toFieldTransform=function(e){var n=ly(this,e,!0),r=this.Kc.map(function(e){return lx(e,n)}),i=new iZ(r);return new iJ(e.path,i)},n.prototype.isEqual=function(e){return this===e},n}(la),lT=function(e){function n(n,r){var i=this;return(i=e.call(this,n)||this).Qc=r,i}return s(n,e),n.prototype._toFieldTransform=function(e){var n=new iX(e.R,iq(e.R,this.Qc));return new iJ(e.path,n)},n.prototype.isEqual=function(e){return this===e},n}(la);function lI(e,n,r,i){var o=e.Uc(1,n,r);lN("Data must be an object, but it was:",o,i);var s=[],a=ir.empty();rL(i,function(e,i){var u=lP(n,e,r);i=N(i);var c=o.Oc(u);if(i instanceof lv)s.push(u);else{var l=lx(i,c);null!=l&&(s.push(u),a.set(u,l))}});var u=new rB(s);return new lh(a,u,o.fieldTransforms)}function lS(e,n,r,i,o,s){var a=e.Uc(1,n,r),u=[lC(n,i,r)],c=[o];if(s.length%2!=0)throw new rE(rw.INVALID_ARGUMENT,"Function "+n+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<s.length;l+=2)u.push(lC(n,s[l])),c.push(s[l+1]);for(var h=[],f=ir.empty(),d=u.length-1;d>=0;--d)if(!lO(h,u[d])){var p=u[d],m=c[d];m=N(m);var g=a.Oc(p);if(m instanceof lv)h.push(p);else{var v=lx(m,g);null!=v&&(h.push(p),f.set(p,v))}}var y=new rB(h);return new lh(f,y,a.fieldTransforms)}function l_(e,n,r,i){return void 0===i&&(i=!1),lx(r,e.Uc(i?4:3,n))}function lx(e,n){if(lk(e=N(e)))return lN("Unsupported field value:",n,e),lA(e,n);if(e instanceof la)return function(e,n){if(!lf(n.Nc))throw n.Lc(e._methodName+"() can only be used with update() and set()");if(!n.path)throw n.Lc(e._methodName+"() is not currently supported inside arrays");var r=e._toFieldTransform(n);r&&n.fieldTransforms.push(r)}(e,n),null;if(void 0===e&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),e instanceof Array){if(n.settings.Fc&&4!==n.Nc)throw n.Lc("Nested arrays are not supported");return function(e,n){for(var r=[],i=0,o=0;o<e.length;o++){var s=lx(e[o],n.Mc(i));null==s&&(s={nullValue:"NULL_VALUE"}),r.push(s),i++}return{arrayValue:{values:r}}}(e,n)}return function(e,n){if(null===(e=N(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return iq(n.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var r=rP.fromDate(e);return{timestampValue:oV(n.R,r)}}if(e instanceof rP)return r=new rP(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:oV(n.R,r)};if(e instanceof lu)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ls)return{bytesValue:oF(n.R,e._byteString)};if(e instanceof c1){r=n.databaseId;var i=e.firestore._databaseId;if(!i.isEqual(r))throw n.Lc("Document reference is for database "+i.projectId+"/"+i.database+" but should be for database "+r.projectId+"/"+r.database);return{referenceValue:oB(e.firestore._databaseId||n.databaseId,e._key.path)}}throw n.Lc("Unsupported field value: "+cX(e))}(e,n)}function lA(e,n){var r={};return rM(e)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):rL(e,function(e,i){var o=lx(i,n.kc(e));null!=o&&(r[e]=o)}),{mapValue:{fields:r}}}function lk(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof rP||e instanceof lu||e instanceof ls||e instanceof c1||e instanceof la)}function lN(e,n,r){if(!lk(r)||!("object"==typeof r&&null!==r&&(Object.getPrototypeOf(r)===Object.prototype||null===Object.getPrototypeOf(r)))){var i=cX(r);throw"an object"===i?n.Lc(e+" a custom object"):n.Lc(e+" "+i)}}function lC(e,n,r){if((n=N(n))instanceof lo)return n._internalPath;if("string"==typeof n)return lP(e,n);throw lR("Field path arguments must be of type string or FieldPath.",e,!1,void 0,r)}var lD=RegExp("[~\\*/\\[\\]]");function lP(e,n,r){if(n.search(lD)>=0)throw lR("Invalid field path ("+n+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,r);try{return(new(lo.bind.apply(lo,f([void 0],n.split(".")))))._internalPath}catch(i){throw lR("Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,r)}}function lR(e,n,r,i,o){var s=i&&!i.isEmpty(),a=void 0!==o,u="Function "+n+"() called with invalid data";r&&(u+=" (via `toFirestore()`)");var c="";return(s||a)&&(c+=" (found",s&&(c+=" in field "+i),a&&(c+=" in document "+o),c+=")"),new rE(rw.INVALID_ARGUMENT,(u+=". ")+e+c)}function lO(e,n){return e.some(function(e){return e.isEqual(n)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lL=function(){function e(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new c1(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new lM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var n=this._document.data.field(lj("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}},e}(),lM=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return s(n,e),n.prototype.data=function(){return e.prototype.data.call(this)},n}(lL);function lj(e,n){return"string"==typeof n?lP(e,n):n instanceof lo?n._internalPath:n._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lV=function(){function e(e,n){this.hasPendingWrites=e,this.fromCache=n}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),lF=function(e){function n(n,r,i,o,s,a){var u=this;return(u=e.call(this,n,r,i,o,a)||this)._firestore=n,u._firestoreImpl=n,u.metadata=s,u}return s(n,e),n.prototype.exists=function(){return e.prototype.exists.call(this)},n.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var n=new lU(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},n.prototype.get=function(e,n){if(void 0===n&&(n={}),this._document){var r=this._document.data.field(lj("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}},n}(lL),lU=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return s(n,e),n.prototype.data=function(n){return void 0===n&&(n={}),e.prototype.data.call(this,n)},n}(lF),lB=function(){function e(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new lV(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach(function(n){return e.push(n)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,n){var r=this;this._snapshot.docs.forEach(function(i){e.call(n,new lU(r._firestore,r._userDataWriter,i.key,i,new lV(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(e){void 0===e&&(e={});var n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new rE(rw.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(e,n){if(e._snapshot.oldDocs.isEmpty()){var r=0;return e._snapshot.docChanges.map(function(n){return{type:"added",doc:new lU(e._firestore,e._userDataWriter,n.doc.key,n.doc,new lV(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:r++}})}var i=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(function(e){return n||3!==e.type}).map(function(n){var r=new lU(e._firestore,e._userDataWriter,n.doc.key,n.doc,new lV(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),o=-1,s=-1;return 0!==n.type&&(o=i.indexOf(n.doc.key),i=i.delete(n.doc.key)),1!==n.type&&(s=(i=i.add(n.doc)).indexOf(n.doc.key)),{type:function(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rk()}}(n.type),doc:r,oldIndex:o,newIndex:s}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function lq(e,n){return e instanceof lF&&n instanceof lF?e._firestore===n._firestore&&e._key.isEqual(n._key)&&(null===e._document?null===n._document:e._document.isEqual(n._document))&&e._converter===n._converter:e instanceof lB&&n instanceof lB&&e._firestore===n._firestore&&c8(e.query,n.query)&&e.metadata.isEqual(n.metadata)&&e._snapshot.isEqual(n._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lz(e){if(ik(e)&&0===e.explicitOrderBy.length)throw new rE(rw.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var lK=function(){};function lG(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];for(var i=0;i<n.length;i++)e=n[i]._apply(e);return e}var lH=function(e){function n(n,r,i){var o=this;return(o=e.call(this)||this).jc=n,o.Wc=r,o.Gc=i,o.type="where",o}return s(n,e),n.prototype._apply=function(e){var n,r,i=lm(e.firestore),o=function(e,n,r,i,o,s,a){if(o.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new rE(rw.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){lJ(a,s);for(var u,c=[],l=0;l<a.length;l++){var h=a[l];c.push(lQ(i,e,h))}u={arrayValue:{values:c}}}else u=lQ(i,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||lJ(a,s),u=l_(r,"where",a,"in"===s||"not-in"===s);var f=il.create(o,s,u);return function(e,n){if(n.g()){var r=iC(e);if(null!==r&&!r.isEqual(n.field))throw new rE(rw.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+r.toString()+"' and '"+n.field.toString()+"'");var i=iN(e);null!==i&&l0(e,n.field,i)}var o=function(e,n){for(var r=0,i=e.filters;r<i.length;r++){var o=i[r];if(n.indexOf(o.op)>=0)return o.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(n.op));if(null!==o)throw o===n.op?new rE(rw.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+n.op.toString()+"' filter."):new rE(rw.INVALID_ARGUMENT,"Invalid query. You cannot use '"+n.op.toString()+"' filters with '"+o.toString()+"' filters.")}(e,f),f}(e._query,0,i,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new c2(e.firestore,e.converter,(r=(n=e._query).filters.concat([o]),new i_(n.path,n.collectionGroup,n.explicitOrderBy.slice(),r,n.limit,n.limitType,n.startAt,n.endAt)))},n}(lK),lW=function(e){function n(n,r){var i=this;return(i=e.call(this)||this).jc=n,i.zc=r,i.type="orderBy",i}return s(n,e),n.prototype._apply=function(e){var n,r,i=function(e,n,r){if(null!==e.startAt)throw new rE(rw.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new rE(rw.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var i=new iT(n,r);return function(e,n){if(null===iN(e)){var r=iC(e);null!==r&&l0(e,r,n.field)}}(e,i),i}(e._query,this.jc,this.zc);return new c2(e.firestore,e.converter,(r=(n=e._query).explicitOrderBy.concat([i]),new i_(n.path,n.collectionGroup,r,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)))},n}(lK),lZ=function(e){function n(n,r,i){var o=this;return(o=e.call(this)||this).type=n,o.Hc=r,o.Jc=i,o}return s(n,e),n.prototype._apply=function(e){return new c2(e.firestore,e.converter,iO(e._query,this.Hc,this.Jc))},n}(lK),l$=function(e){function n(n,r,i){var o=this;return(o=e.call(this)||this).type=n,o.Yc=r,o.Xc=i,o}return s(n,e),n.prototype._apply=function(e){var n,r=lY(e,this.type,this.Yc,this.Xc);return new c2(e.firestore,e.converter,(n=e._query,new i_(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,r,n.endAt)))},n}(lK),lX=function(e){function n(n,r,i){var o=this;return(o=e.call(this)||this).type=n,o.Yc=r,o.Xc=i,o}return s(n,e),n.prototype._apply=function(e){var n,r=lY(e,this.type,this.Yc,this.Xc);return new c2(e.firestore,e.converter,(n=e._query,new i_(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,n.startAt,r)))},n}(lK);function lY(e,n,r,i){if(r[0]=N(r[0]),r[0]instanceof lL)return function(e,n,r,i,o){if(!i)throw new rE(rw.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+r+"().");for(var s=[],a=0,u=iP(e);a<u.length;a++){var c=u[a];if(c.field.isKeyField())s.push(r5(n,i.key));else{var l=i.data.field(c.field);if(rW(l))throw new rE(rw.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var h=c.field.canonicalString();throw new rE(rw.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+h+"' (used as the orderBy) does not exist.")}s.push(l)}}return new iw(s,o)}(e._query,e.firestore._databaseId,n,r[0]._document,i);var o=lm(e.firestore);return function(e,n,r,i,o,s){var a=e.explicitOrderBy;if(o.length>a.length)throw new rE(rw.INVALID_ARGUMENT,"Too many arguments provided to "+i+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var u=[],c=0;c<o.length;c++){var l=o[c];if(a[c].field.isKeyField()){if("string"!=typeof l)throw new rE(rw.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+i+"(), but got a "+typeof l);if(!iD(e)&&-1!==l.indexOf("/"))throw new rE(rw.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+i+"() must be a plain document ID, but '"+l+"' contains a slash.");var h=e.path.child(rV.fromString(l));if(!rQ.isDocumentKey(h))throw new rE(rw.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+i+"() must result in a valid document path, but '"+h+"' is not because it contains an odd number of segments.");var f=new rQ(h);u.push(r5(n,f))}else{var d=l_(r,i,l);u.push(d)}}return new iw(u,s)}(e._query,e.firestore._databaseId,o,n,r,i)}function lQ(e,n,r){if("string"==typeof(r=N(r))){if(""===r)throw new rE(rw.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!iD(n)&&-1!==r.indexOf("/"))throw new rE(rw.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+r+"' contains a '/' character.");var i=n.path.child(rV.fromString(r));if(!rQ.isDocumentKey(i))throw new rE(rw.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return r5(e,new rQ(i))}if(r instanceof c1)return r5(e,r._key);throw new rE(rw.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+cX(r)+".")}function lJ(e,n){if(!Array.isArray(e)||0===e.length)throw new rE(rw.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+n.toString()+"' filters.");if(e.length>10)throw new rE(rw.INVALID_ARGUMENT,"Invalid Query. '"+n.toString()+"' filters support a maximum of 10 elements in the value array.")}function l0(e,n,r){if(!r.isEqual(n))throw new rE(rw.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+n.toString()+"' and so you must also use '"+n.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+r.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l1=function(){function e(){}return e.prototype.convertValue=function(e,n){switch(void 0===n&&(n="none"),rJ(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rG(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(rH(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw rk()}},e.prototype.convertObject=function(e,n){var r=this,i={};return rL(e.fields,function(e,o){i[e]=r.convertValue(o,n)}),i},e.prototype.convertGeoPoint=function(e){return new lu(rG(e.latitude),rG(e.longitude))},e.prototype.convertArray=function(e,n){var r=this;return(e.values||[]).map(function(e){return r.convertValue(e,n)})},e.prototype.convertServerTimestamp=function(e,n){switch(n){case"previous":var r=function e(n){var r=n.mapValue.fields.__previous_value__;return rW(r)?e(r):r}(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(rZ(e));default:return null}},e.prototype.convertTimestamp=function(e){var n=rK(e);return new rP(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(e,n){var r=rV.fromString(e);o6(r)||rk();var i=new cj(r.get(1),r.get(3)),o=new rQ(r.popFirst(5));return i.isEqual(n)||r_("Document "+o+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),o},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(e,n,r){return e?r&&(r.merge||r.mergeFields)?e.toFirestore(n,r):e.toFirestore(n):n}var l3=function(e){function n(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return s(n,e),n.prototype.convertBytes=function(e){return new ls(e)},n.prototype.convertReference=function(e){var n=this.convertDocumentKey(e,this.firestore._databaseId);return new c1(this.firestore,null,n)},n}(l1),l4=function(){function e(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=lm(e)}return e.prototype.set=function(e,n,r){this._verifyNotCommitted();var i=l5(e,this._firestore),o=l2(i.converter,n,r),s=lg(this._dataReader,"WriteBatch.set",i._key,o,null!==i.converter,r);return this._mutations.push(s.toMutation(i._key,i1.none())),this},e.prototype.update=function(e,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];this._verifyNotCommitted();var s,a=l5(e,this._firestore);return s="string"==typeof(n=N(n))||n instanceof lo?lS(this._dataReader,"WriteBatch.update",a._key,n,r,i):lI(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(s.toMutation(a._key,i1.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var n=l5(e,this._firestore);return this._mutations=this._mutations.concat(new ol(n._key,i1.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new rE(rw.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l5(e,n){if((e=N(e)).firestore!==n)throw new rE(rw.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l6=function(e){function n(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return s(n,e),n.prototype.convertBytes=function(e){return new ls(e)},n.prototype.convertReference=function(e){var n=this.convertDocumentKey(e,this.firestore._databaseId);return new c1(this.firestore,null,n)},n}(l1);function l8(e,n,r){e=cY(e,c1);var i=cY(e.firestore,lt),o=l2(e.converter,n,r);return ht(i,[lg(lm(i),"setDoc",e._key,o,null!==e.converter,r).toMutation(e._key,i1.none())])}function l9(e,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];e=cY(e,c1);var s=cY(e.firestore,lt),a=lm(s);return ht(s,[("string"==typeof(n=N(n))||n instanceof lo?lS(a,"updateDoc",e._key,n,r,i):lI(a,"updateDoc",e._key,n)).toMutation(e._key,i1.exists(!0))])}function l7(e){for(var n,r,i,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];e=N(e);var a={includeMetadataChanges:!1},l=0;"object"!=typeof o[0]||c7(o[l])||(a=o[l],l++);var h,f,d,p={includeMetadataChanges:a.includeMetadataChanges};if(c7(o[l])){var m=o[l];o[l]=null===(n=m.next)||void 0===n?void 0:n.bind(m),o[l+1]=null===(r=m.error)||void 0===r?void 0:r.bind(m),o[l+2]=null===(i=m.complete)||void 0===i?void 0:i.bind(m)}if(e instanceof c1)f=cY(e.firestore,lt),d=ix(e._key.path),h={next:function(n){o[l]&&o[l](he(f,e,n))},error:o[l+1],complete:o[l+2]};else{var g=cY(e,c2);f=cY(g.firestore,lt),d=g._query;var v=new l6(f);h={next:function(e){o[l]&&o[l](new lB(f,v,g,e))},error:o[l+1],complete:o[l+2]},lz(e._query)}return function(e,n,r,i){var o=this,s=new cE(i),a=new uK(n,s,r);return e.asyncQueue.enqueueAndForget(function(){return u(o,void 0,void 0,function(){var n;return c(this,function(r){switch(r.label){case 0:return n=uF,[4,cR(e)];case 1:return[2,n.apply(void 0,[r.sent(),a])]}})})}),function(){s.Wo(),e.asyncQueue.enqueueAndForget(function(){return u(o,void 0,void 0,function(){var n;return c(this,function(r){switch(r.label){case 0:return n=uU,[4,cR(e)];case 1:return[2,n.apply(void 0,[r.sent(),a])]}})})})}}(le(f),d,p,h)}function ht(e,n){return function(e,n){var r=this,i=new sy;return e.asyncQueue.enqueueAndForget(function(){return u(r,void 0,void 0,function(){var r;return c(this,function(o){switch(o.label){case 0:return r=u2,[4,cP(e)];case 1:return[2,r.apply(void 0,[o.sent(),n,i])]}})})}),i.promise}(le(e),n)}function he(e,n,r){var i=r.docs.get(n._key),o=new l6(e);return new lF(e,o,n._key,i,new lV(r.hasPendingWrites,r.fromCache),n.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hn=function(e){function n(n,r){var i=this;return(i=e.call(this,n,r)||this)._firestore=n,i}return s(n,e),n.prototype.get=function(n){var r=this,i=l5(n,this._firestore),o=new l6(this._firestore);return e.prototype.get.call(this,n).then(function(e){return new lF(r._firestore,o,i._key,e._document,new lV(!1,!1),i.converter)})},n}(function(){function e(e,n){this._firestore=e,this._transaction=n,this._dataReader=lm(e)}return e.prototype.get=function(e){var n=this,r=l5(e,this._firestore),i=new l3(this._firestore);return this._transaction.lookup([r._key]).then(function(e){if(!e||1!==e.length)return rk();var o=e[0];if(o.isFoundDocument())return new lL(n._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new lL(n._firestore,i,r._key,null,r.converter);throw rk()})},e.prototype.set=function(e,n,r){var i=l5(e,this._firestore),o=l2(i.converter,n,r),s=lg(this._dataReader,"Transaction.set",i._key,o,null!==i.converter,r);return this._transaction.set(i._key,s),this},e.prototype.update=function(e,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s,a=l5(e,this._firestore);return s="string"==typeof(n=N(n))||n instanceof lo?lS(this._dataReader,"Transaction.update",a._key,n,r,i):lI(this._dataReader,"Transaction.update",a._key,n),this._transaction.update(a._key,s),this},e.prototype.delete=function(e){var n=l5(e,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(){if("undefined"==typeof Uint8Array)throw new rE(rw.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function hi(){if("undefined"==typeof atob)throw new rE(rw.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ho=function(){function e(e){this._delegate=e}return e.fromBase64String=function(n){return hi(),new e(ls.fromBase64String(n))},e.fromUint8Array=function(n){return hr(),new e(ls.fromUint8Array(n))},e.prototype.toBase64=function(){return hi(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return hr(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),hs=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,n){var r,i,o,s,a;return r=e._delegate,i={forceOwnership:n},li(r=cY(r,lt)),o=le(r),s=r._freezeSettings(),lr(o,a=new cw,new cy(a,s.cacheSizeBytes,null==i?void 0:i.forceOwnership))},e.prototype.enableMultiTabIndexedDbPersistence=function(e){var n,r,i,o;return li(n=cY(n=e._delegate,lt)),r=le(n),i=n._freezeSettings(),lr(r,o=new cw,new cb(o,i.cacheSizeBytes))},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var n=this;if(e._initialized&&!e._terminated)throw new rE(rw.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var r=new sy;return e._queue.enqueueAndForgetEvenWhileRestricted(function(){return u(n,void 0,void 0,function(){var n;return c(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(e){return u(this,void 0,void 0,function(){var n;return c(this,function(r){switch(r.label){case 0:return sE.yt()?(n=e+"main",[4,sE.delete(n)]):[2,Promise.resolve()];case 1:return r.sent(),[2]}})})}(aT(e._databaseId,e._persistenceKey))];case 1:return i.sent(),r.resolve(),[3,3];case 2:return n=i.sent(),r.reject(n),[3,3];case 3:return[2]}})})}),r.promise}(e._delegate)},e}(),ha=function(){function e(e,n,r){var i=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return i.terminate()}},e instanceof cj||(this.tu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var n=this._delegate._getSettings();e.merge||n.host===e.host||rx("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,n,r){void 0===r&&(r={}),function(e,n,r,i){void 0===i&&(i={});var o,s,u,c=(e=cY(e,c0))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==n&&rx("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},c),{host:n+":"+r,ssl:!1})),i.mockUserToken){if("string"==typeof i.mockUserToken)s=i.mockUserToken,u=aH.MOCK_USER;else{s=/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e,n){if(e.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var r=n||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");var s=a({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[v(JSON.stringify({alg:"none",type:"JWT"})),v(JSON.stringify(s)),""].join(".")}(i.mockUserToken,null===(o=e._app)||void 0===o?void 0:o.options.projectId);var l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new rE(rw.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new aH(l)}e._credentials=new cB(new cF(s,u))}}(this._delegate,e,n,r)},e.prototype.enableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return u(n,void 0,void 0,function(){var n,r;return c(this,function(i){switch(i.label){case 0:return[4,cN(e)];case 1:return n=i.sent(),[4,cD(e)];case 2:return r=i.sent(),[2,(n.setNetworkEnabled(!0),r.Or.delete(0),uu(r))]}})})})}(le(cY(this._delegate,lt)))},e.prototype.disableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return u(n,void 0,void 0,function(){var n,r;return c(this,function(i){switch(i.label){case 0:return[4,cN(e)];case 1:return n=i.sent(),[4,cD(e)];case 2:return r=i.sent(),[2,(n.setNetworkEnabled(!1),function(e){return u(this,void 0,void 0,function(){var n;return c(this,function(r){switch(r.label){case 0:return(n=e).Or.add(0),[4,uc(n)];case 1:return r.sent(),n.Br.set("Offline"),[2]}})})}(r))]}})})})}(le(cY(this._delegate,lt)))},e.prototype.enablePersistence=function(e){var n=!1,r=!1;return e&&cW("synchronizeTabs",n=!!e.synchronizeTabs,"experimentalForceOwningTab",r=!!e.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var n=this,r=new sy;return e.asyncQueue.enqueueAndForget(function(){return u(n,void 0,void 0,function(){var n;return c(this,function(i){switch(i.label){case 0:return n=u9,[4,cP(e)];case 1:return[2,n.apply(void 0,[i.sent(),r])]}})})}),r.promise}(le(cY(this._delegate,lt)))},e.prototype.onSnapshotsInSync=function(e){var n;return function(e,n){var r=this,i=new cE(n);return e.asyncQueue.enqueueAndForget(function(){return u(r,void 0,void 0,function(){var n;return c(this,function(r){switch(r.label){case 0:return n=function(e,n){e.Gr.add(n),n.next()},[4,cR(e)];case 1:return[2,n.apply(void 0,[r.sent(),i])]}})})}),function(){i.Wo(),e.asyncQueue.enqueueAndForget(function(){return u(r,void 0,void 0,function(){var n;return c(this,function(r){switch(r.label){case 0:return n=function(e,n){e.Gr.delete(n)},[4,cR(e)];case 1:return[2,n.apply(void 0,[r.sent(),i])]}})})})}}(le(cY(this._delegate,lt)),c7(e)?e:{next:e})},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new rE(rw.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new hE(this,c4(this._delegate,e))}catch(e){throw hd(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new hf(this,c5(this._delegate,e))}catch(e){throw hd(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new hy(this,function(e,n){if(e=cY(e,c0),cG("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new rE(rw.INVALID_ARGUMENT,"Invalid collection ID '"+n+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new c2(e,null,new i_(rV.emptyPath(),n))}(this._delegate,e))}catch(e){throw hd(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var n,r=this;return function(e,n){var r=this,i=new sy;return e.asyncQueue.enqueueAndForget(function(){return u(r,void 0,void 0,function(){var r;return c(this,function(o){switch(o.label){case 0:return[4,ck(e).then(function(e){return e.datastore})];case 1:return r=o.sent(),new cI(e.asyncQueue,r,n,i).run(),[2]}})})}),i.promise}(le(n=this._delegate),function(i){var o;return o=new hn(n,i),e(new hc(r,o))})},e.prototype.batch=function(){var e=this;return le(this._delegate),new hl(new l4(this._delegate,function(n){return ht(e._delegate,n)}))},e.prototype.loadBundle=function(e){throw new rE(rw.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new rE(rw.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),hu=function(e){function n(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return s(n,e),n.prototype.convertBytes=function(e){return new ho(new ls(e))},n.prototype.convertReference=function(e){var n=this.convertDocumentKey(e,this.firestore._databaseId);return hf.eu(n,this.firestore,null)},n}(l1),hc=function(){function e(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new hu(e)}return e.prototype.get=function(e){var n=this,r=cY(e,c1);return this._delegate.get(r).then(function(e){return new hg(n._firestore,new lF(n._firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,r.converter))})},e.prototype.set=function(e,n,r){var i=cY(e,c1);return r?(cH("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(e,n,r){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a=cY(e,c1);return 2==arguments.length?this._delegate.update(a,n):(i=this._delegate).update.apply(i,f([a,n,r],o)),this},e.prototype.delete=function(e){var n=cY(e,c1);return this._delegate.delete(n),this},e}(),hl=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,n,r){var i=cY(e,c1);return r?(cH("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(e,n,r){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a=cY(e,c1);return 2==arguments.length?this._delegate.update(a,n):(i=this._delegate).update.apply(i,f([a,n,r],o)),this},e.prototype.delete=function(e){var n=cY(e,c1);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),hh=function(){function e(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(e,n){var r=new lU(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new hv(this._firestore,r),null!=n?n:{})},e.prototype.toFirestore=function(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)},e.nu=function(n,r){var i=e.su,o=i.get(n);o||(o=new WeakMap,i.set(n,o));var s=o.get(r);return s||(s=new e(n,new hu(n),r),o.set(r,s)),s},e}();hh.su=new WeakMap;var hf=function(){function e(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new hu(e)}return e.iu=function(n,r,i){if(n.length%2!=0)throw new rE(rw.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+n.canonicalString()+" has "+n.length);return new e(r,new c1(r._delegate,i,new rQ(n)))},e.eu=function(n,r,i){return new e(r,new c1(r._delegate,i,n))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new hE(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new hE(this.firestore,c4(this._delegate,e))}catch(e){throw hd(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=N(e))instanceof c1&&c6(this._delegate,e)},e.prototype.set=function(e,n){n=cH("DocumentReference.set",n);try{return n?l8(this._delegate,e,n):l8(this._delegate,e)}catch(e){throw hd(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return 1==arguments.length?l9(this._delegate,e):l9.apply(void 0,f([this._delegate,e,n],r))}catch(e){throw hd(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){var e;return ht(cY((e=this._delegate).firestore,lt),[new ol(e._key,i1.none())])},e.prototype.onSnapshot=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=hp(n),o=hm(n,function(n){return new hg(e.firestore,new lF(e.firestore._delegate,e._userDataWriter,n._key,n._document,n.metadata,e._delegate.converter))});return l7(this._delegate,i,o)},e.prototype.get=function(e){var n,r,i,o,s,a,l,h,f=this;return("cache"===(null==e?void 0:e.source)?(n=cY(n=this._delegate,c1),i=le(r=cY(n.firestore,lt)),o=new l6(r),(function(e,n){var r=this,i=new sy;return e.asyncQueue.enqueueAndForget(function(){return u(r,void 0,void 0,function(){var r;return c(this,function(o){switch(o.label){case 0:return r=function(e,n,r){return u(this,void 0,void 0,function(){var i;return c(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,e.persistence.runTransaction("read document","readonly",function(r){return e.Mn.mn(r,n)})];case 1:return(i=o.sent()).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new rE(rw.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=uR(o.sent(),"Failed to get document '"+n+" from cache"),r.reject(i),[3,3];case 3:return[2]}})})},[4,cC(e)];case 1:return[2,r.apply(void 0,[o.sent(),n,i])]}})})}),i.promise})(i,n._key).then(function(e){return new lF(r,o,n._key,e,new lV(null!==e&&e.hasLocalMutations,!0),n.converter)})):"server"===(null==e?void 0:e.source)?(s=cY(s=this._delegate,c1),cO(le(a=cY(s.firestore,lt)),s._key,{source:"server"}).then(function(e){return he(a,s,e)})):(l=cY(l=this._delegate,c1),cO(le(h=cY(l.firestore,lt)),l._key).then(function(e){return he(h,l,e)}))).then(function(e){return new hg(f.firestore,new lF(f.firestore._delegate,f._userDataWriter,e._key,e._document,e.metadata,f._delegate.converter))})},e.prototype.withConverter=function(n){return new e(this.firestore,n?this._delegate.withConverter(hh.nu(this.firestore,n)):this._delegate.withConverter(null))},e}();function hd(e,n,r){return e.message=e.message.replace(n,r),e}function hp(e){for(var n=0;n<e.length;n++){var r=e[n];if("object"==typeof r&&!c7(r))return r}return{}}function hm(e,n){var r,i,o;return{next:function(e){o.next&&o.next(n(e))},error:null===(r=(o=c7(e[0])?e[0]:c7(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===r?void 0:r.bind(o),complete:null===(i=o.complete)||void 0===i?void 0:i.bind(o)}}var hg=function(){function e(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new hf(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,n){return this._delegate.get(e,n)},e.prototype.isEqual=function(e){return lq(this._delegate,e._delegate)},e}(),hv=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return s(n,e),n.prototype.data=function(e){return this._delegate.data(e)},n}(hg),hy=function(){function e(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new hu(e)}return e.prototype.where=function(n,r,i){try{var o;return new e(this.firestore,lG(this._delegate,(o=lj("where",n),new lH(o,r,i))))}catch(e){throw hd(e,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(n,r){try{var i,o,s;return new e(this.firestore,lG(this._delegate,(i=r,void 0===i&&(i="asc"),o=i,s=lj("orderBy",n),new lW(s,o))))}catch(e){throw hd(e,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(n){try{return new e(this.firestore,lG(this._delegate,(cQ("limit",n),new lZ("limit",n,"F"))))}catch(e){throw hd(e,"limit()","Query.limit()")}},e.prototype.limitToLast=function(n){try{return new e(this.firestore,lG(this._delegate,(cQ("limitToLast",n),new lZ("limitToLast",n,"L"))))}catch(e){throw hd(e,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return new e(this.firestore,lG(this._delegate,(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new l$("startAt",e,!0)}).apply(void 0,n)))}catch(e){throw hd(e,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return new e(this.firestore,lG(this._delegate,(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new l$("startAfter",e,!1)}).apply(void 0,n)))}catch(e){throw hd(e,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return new e(this.firestore,lG(this._delegate,(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new lX("endBefore",e,!0)}).apply(void 0,n)))}catch(e){throw hd(e,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return new e(this.firestore,lG(this._delegate,(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new lX("endAt",e,!1)}).apply(void 0,n)))}catch(e){throw hd(e,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return c8(this._delegate,e._delegate)},e.prototype.get=function(e){var n,r,i,o,s,a,l,h,f,d,p,m,g=this;return("cache"===(null==e?void 0:e.source)?(n=cY(n=this._delegate,c2),i=le(r=cY(n.firestore,lt)),o=new l6(r),(function(e,n){var r=this,i=new sy;return e.asyncQueue.enqueueAndForget(function(){return u(r,void 0,void 0,function(){var r;return c(this,function(o){switch(o.label){case 0:return r=function(e,n,r){return u(this,void 0,void 0,function(){var i,o,s,a;return c(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,aR(e,n,!0)];case 1:return a=u.sent(),o=(i=new u$(n,a.Bn))._o(a.documents),s=i.applyChanges(o,!1),r.resolve(s.snapshot),[3,3];case 2:return a=uR(u.sent(),"Failed to execute query '"+n+" against cache"),r.reject(a),[3,3];case 3:return[2]}})})},[4,cC(e)];case 1:return[2,r.apply(void 0,[o.sent(),n,i])]}})})}),i.promise})(i,n._query).then(function(e){return new lB(r,o,n,e)})):"server"===(null==e?void 0:e.source)?(s=cY(s=this._delegate,c2),l=le(a=cY(s.firestore,lt)),h=new l6(a),cL(l,s._query,{source:"server"}).then(function(e){return new lB(a,h,s,e)})):(f=cY(f=this._delegate,c2),p=le(d=cY(f.firestore,lt)),m=new l6(d),lz(f._query),cL(p,f._query).then(function(e){return new lB(d,m,f,e)}))).then(function(e){return new hw(g.firestore,new lB(g.firestore._delegate,g._userDataWriter,g._delegate,e._snapshot))})},e.prototype.onSnapshot=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=hp(n),o=hm(n,function(n){return new hw(e.firestore,new lB(e.firestore._delegate,e._userDataWriter,e._delegate,n._snapshot))});return l7(this._delegate,i,o)},e.prototype.withConverter=function(n){return new e(this.firestore,n?this._delegate.withConverter(hh.nu(this.firestore,n)):this._delegate.withConverter(null))},e}(),hb=function(){function e(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new hv(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),hw=function(){function e(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new hy(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(n){return new hv(e._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var n=this;return this._delegate.docChanges(e).map(function(e){return new hb(n._firestore,e)})},e.prototype.forEach=function(e,n){var r=this;this._delegate.forEach(function(i){e.call(n,new hv(r._firestore,i))})},e.prototype.isEqual=function(e){return lq(this._delegate,e._delegate)},e}(),hE=function(e){function n(n,r){var i=this;return(i=e.call(this,n,r)||this).firestore=n,i._delegate=r,i}return s(n,e),Object.defineProperty(n.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new hf(this.firestore,e):null},enumerable:!1,configurable:!0}),n.prototype.doc=function(e){try{return new hf(this.firestore,void 0===e?c5(this._delegate):c5(this._delegate,e))}catch(e){throw hd(e,"doc()","CollectionReference.doc()")}},n.prototype.add=function(e){var n,r,i,o,s=this;return(r=cY((n=this._delegate).firestore,lt),i=c5(n),o=l2(n.converter,e),ht(r,[lg(lm(n.firestore),"addDoc",i._key,o,null!==n.converter,{}).toMutation(i._key,i1.exists(!1))]).then(function(){return i})).then(function(e){return new hf(s.firestore,e)})},n.prototype.isEqual=function(e){return c6(this._delegate,e._delegate)},n.prototype.withConverter=function(e){return new n(this.firestore,e?this._delegate.withConverter(hh.nu(this.firestore,e)):this._delegate.withConverter(null))},n}(hy),hT={Firestore:ha,GeoPoint:lu,Timestamp:rP,Blob:ho,Transaction:hc,WriteBatch:hl,DocumentReference:hf,DocumentSnapshot:hg,Query:hy,QueryDocumentSnapshot:hv,QuerySnapshot:hw,CollectionReference:hE,FieldPath:function(){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._delegate=new(lo.bind.apply(lo,f([void 0],e)))}return e.documentId=function(){return new e(rU.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=N(e))instanceof lo&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),FieldValue:function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var n=new lb("serverTimestamp");return n._methodName="FieldValue.serverTimestamp",new e(n)},e.delete=function(){var n=new lv("deleteField");return n._methodName="FieldValue.delete",new e(n)},e.arrayUnion=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new lw("arrayUnion",e)}).apply(void 0,n);return i._methodName="FieldValue.arrayUnion",new e(i)},e.arrayRemove=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new lE("arrayRemove",e)}).apply(void 0,n);return i._methodName="FieldValue.arrayRemove",new e(i)},e.increment=function(n){var r=new lT("increment",n);return r._methodName="FieldValue.increment",new e(r)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}(),setLogLevel:function(e){rT.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};!function(e,n){e.INTERNAL.registerComponent(new C("firestore",function(e){return n(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},hT)))}(J,function(e,n){return new ha(e,new lt(e,n),new hs)}),J.registerVersion("@firebase/firestore","2.4.1"),(function(){var e,n,i,o="function"==typeof Object.defineProperties?Object.defineProperty:function(e,n,r){e!=Array.prototype&&e!=Object.prototype&&(e[n]=r.value)},s=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof r.g&&r.g,e];for(var n=0;n<e.length;++n){var i=e[n];if(i&&i.Math==Math)return i}return globalThis}(this);function a(e){var n,r="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return r?r.call(e):{next:(n=0,function(){return n<e.length?{done:!1,value:e[n++]}:{done:!0}})}}!function(e,n){if(n){var r=s;e=e.split(".");for(var i=0;i<e.length-1;i++){var a=e[i];a in r||(r[a]={}),r=r[a]}(n=n(i=r[e=e[e.length-1]]))!=i&&null!=n&&o(r,e,{configurable:!0,writable:!0,value:n})}}("Promise",function(e){function n(e){this.b=0,this.c=void 0,this.a=[];var n=this.f();try{e(n.resolve,n.reject)}catch(e){n.reject(e)}}function r(){this.a=null}function i(e){return e instanceof n?e:new n(function(n){n(e)})}if(e)return e;r.prototype.b=function(e){if(null==this.a){this.a=[];var n=this;this.c(function(){n.g()})}this.a.push(e)};var o=s.setTimeout;r.prototype.c=function(e){o(e,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var n=0;n<e.length;++n){var r=e[n];e[n]=null;try{r()}catch(e){this.f(e)}}}this.a=null},r.prototype.f=function(e){this.c(function(){throw e})},n.prototype.f=function(){function e(e){return function(i){r||(r=!0,e.call(n,i))}}var n=this,r=!1;return{resolve:e(this.m),reject:e(this.g)}},n.prototype.m=function(e){if(e===this)this.g(TypeError("A Promise cannot resolve to itself"));else if(e instanceof n)this.s(e);else{t:switch(typeof e){case"object":var r=null!=e;break t;case"function":r=!0;break t;default:r=!1}r?this.v(e):this.h(e)}},n.prototype.v=function(e){var n=void 0;try{n=e.then}catch(e){this.g(e);return}"function"==typeof n?this.u(n,e):this.h(e)},n.prototype.g=function(e){this.i(2,e)},n.prototype.h=function(e){this.i(1,e)},n.prototype.i=function(e,n){if(0!=this.b)throw Error("Cannot settle("+e+", "+n+"): Promise already settled in state"+this.b);this.b=e,this.c=n,this.l()},n.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)u.b(this.a[e]);this.a=null}};var u=new r;return n.prototype.s=function(e){var n=this.f();e.Ra(n.resolve,n.reject)},n.prototype.u=function(e,n){var r=this.f();try{e.call(n,r.resolve,r.reject)}catch(e){r.reject(e)}},n.prototype.then=function(e,r){function i(e,n){return"function"==typeof e?function(n){try{o(e(n))}catch(e){s(e)}}:n}var o,s,a=new n(function(e,n){o=e,s=n});return this.Ra(i(e,o),i(r,s)),a},n.prototype.catch=function(e){return this.then(void 0,e)},n.prototype.Ra=function(e,n){function r(){switch(i.b){case 1:e(i.c);break;case 2:n(i.c);break;default:throw Error("Unexpected state: "+i.b)}}var i=this;null==this.a?u.b(r):this.a.push(r)},n.resolve=i,n.reject=function(e){return new n(function(n,r){r(e)})},n.race=function(e){return new n(function(n,r){for(var o=a(e),s=o.next();!s.done;s=o.next())i(s.value).Ra(n,r)})},n.all=function(e){var r=a(e),o=r.next();return o.done?i([]):new n(function(e,n){var s=[],a=0;do s.push(void 0),a++,i(o.value).Ra(function(n){return function(r){s[n]=r,0==--a&&e(s)}}(s.length-1),n),o=r.next();while(!o.done)})},n});var u=u||{},c=this||self,l=/^[\w+/_-]+[=]{0,2}$/,h=null;function f(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&l.test(e)?e:""}function d(){}function p(e){var n=typeof e;return"object"!=n?n:e?Array.isArray(e)?"array":n:"null"}function m(e){var n=p(e);return"array"==n||"object"==n&&"number"==typeof e.length}function g(e){return"function"==p(e)}function v(e){var n=typeof e;return"object"==n&&null!=e||"function"==n}function y(e){return Object.prototype.hasOwnProperty.call(e,b)&&e[b]||(e[b]=++w)}var b="closure_uid_"+(1e9*Math.random()>>>0),w=0;function E(e,n,r){return e.call.apply(e.bind,arguments)}function T(e,n,r){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),e.apply(n,r)}}return function(){return e.apply(n,arguments)}}function I(e,n,r){return(I=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?E:T).apply(null,arguments)}function S(e,n){var r=Array.prototype.slice.call(arguments,1);return function(){var n=r.slice();return n.push.apply(n,arguments),e.apply(this,n)}}var _=Date.now;function x(e,n){function r(){}r.prototype=n.prototype,e.bb=n.prototype,e.prototype=new r,e.prototype.constructor=e}function A(e){return e}function k(e,n,r){this.code=C+e,this.message=n||D[e]||"",this.a=r||null}function N(e){var n=e&&e.code;return n?new k(n.substring(C.length),e.message,e.serverResponse):null}x(k,Error),k.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},k.prototype.toJSON=function(){return this.w()};var C="auth/",D={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},P={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function R(e){for(var n in P)if(P[n].id===e)return{firebaseEndpoint:(e=P[n]).Ua,secureTokenEndpoint:e.$a,identityPlatformEndpoint:e.Xa};return null}function O(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(e){return!1}}function L(e){if(Error.captureStackTrace)Error.captureStackTrace(this,L);else{var n=Error().stack;n&&(this.stack=n)}e&&(this.message=String(e))}function M(e,n){e=e.split("%s");for(var r="",i=e.length-1,o=0;o<i;o++)r+=e[o]+(o<n.length?n[o]:"%s");L.call(this,r+e[i])}function j(e,n){throw new M("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function V(e,n){this.c=e,this.f=n,this.b=0,this.a=null}function F(e,n){e.f(n),100>e.b&&(e.b++,n.next=e.a,e.a=n)}function U(){this.b=this.a=null}oH=R("__EID__")?"__EID__":void 0,x(L,Error),L.prototype.name="CustomError",x(M,L),M.prototype.name="AssertionError",V.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var B=new V(function(){return new q},function(e){e.reset()});function q(){this.next=this.b=this.a=null}U.prototype.add=function(e,n){var r=B.get();r.set(e,n),this.b?this.b.next=r:this.a=r,this.b=r},q.prototype.set=function(e,n){this.a=e,this.b=n,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var z=Array.prototype.indexOf?function(e,n){return Array.prototype.indexOf.call(e,n,void 0)}:function(e,n){if("string"==typeof e)return"string"!=typeof n||1!=n.length?-1:e.indexOf(n,0);for(var r=0;r<e.length;r++)if(r in e&&e[r]===n)return r;return -1},K=Array.prototype.forEach?function(e,n,r){Array.prototype.forEach.call(e,n,r)}:function(e,n,r){for(var i=e.length,o="string"==typeof e?e.split(""):e,s=0;s<i;s++)s in o&&n.call(r,o[s],s,e)},G=Array.prototype.filter?function(e,n){return Array.prototype.filter.call(e,n,void 0)}:function(e,n){for(var r=e.length,i=[],o=0,s="string"==typeof e?e.split(""):e,a=0;a<r;a++)if(a in s){var u=s[a];n.call(void 0,u,a,e)&&(i[o++]=u)}return i},H=Array.prototype.map?function(e,n){return Array.prototype.map.call(e,n,void 0)}:function(e,n){for(var r=e.length,i=Array(r),o="string"==typeof e?e.split(""):e,s=0;s<r;s++)s in o&&(i[s]=n.call(void 0,o[s],s,e));return i},W=Array.prototype.some?function(e,n){return Array.prototype.some.call(e,n,void 0)}:function(e,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)if(o in i&&n.call(void 0,i[o],o,e))return!0;return!1};function Z(e,n){return 0<=z(e,n)}function $(e,n){var r;return(r=0<=(n=z(e,n)))&&Array.prototype.splice.call(e,n,1),r}function X(e,n){var r=0;!function(e,n){for(var r="string"==typeof e?e.split(""):e,i=e.length-1;0<=i;--i)i in r&&n.call(void 0,r[i],i,e)}(e,function(i,o){n.call(void 0,i,o,e)&&1==Array.prototype.splice.call(e,o,1).length&&r++})}function Y(e){return Array.prototype.concat.apply([],arguments)}function Q(e){var n=e.length;if(0<n){for(var r=Array(n),i=0;i<n;i++)r[i]=e[i];return r}return[]}var tt=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},te=/&/g,tn=/</g,tr=/>/g,ti=/"/g,to=/'/g,ts=/\x00/g,ta=/[\x00&<>"']/;function tu(e,n){return -1!=e.indexOf(n)}function tc(e,n){return e<n?-1:e>n?1:0}t:{var tl=c.navigator;if(tl){var th=tl.userAgent;if(th){oW=th;break t}}oW=""}function tf(e){return tu(oW,e)}function td(e,n){for(var r in e)n.call(void 0,e[r],r,e)}function tp(e){for(var n in e)return!1;return!0}function tm(e){var n,r={};for(n in e)r[n]=e[n];return r}var tg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tv(e,n){for(var r,i,o=1;o<arguments.length;o++){for(r in i=arguments[o])e[r]=i[r];for(var s=0;s<tg.length;s++)r=tg[s],Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}}function ty(e,n){t:{try{var r=e&&e.ownerDocument,i=r&&(r.defaultView||r.parentWindow);if((i=i||c).Element&&i.Location){var o=i;break t}}catch(e){}o=null}if(o&&void 0!==o[n]&&(!e||!(e instanceof o[n])&&(e instanceof o.Location||e instanceof o.Element))){if(v(e))try{var s=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(e){s="<object could not be stringified>"}else s=void 0===e?"undefined":null===e?"null":typeof e;j("Argument is not a %s (or a non-Element, non-Location mock); got: %s",n,s)}}function tb(e,n){this.a=e===tT&&n||"",this.b=tE}function tw(e){return e instanceof tb&&e.constructor===tb&&e.b===tE?e.a:(j("expected object of type Const, got '"+e+"'"),"type_error:Const")}tb.prototype.ta=!0,tb.prototype.sa=function(){return this.a},tb.prototype.toString=function(){return"Const{"+this.a+"}"};var tE={},tT={};function tI(){if(void 0===oZ){var e=null,n=c.trustedTypes;if(n&&n.createPolicy){try{e=n.createPolicy("goog#html",{createHTML:A,createScript:A,createScriptURL:A})}catch(e){c.console&&c.console.error(e.message)}oZ=e}else oZ=e}return oZ}function tS(e,n){this.a=n===tN?e:""}function t_(e){return e instanceof tS&&e.constructor===tS?e.a:(j("expected object of type TrustedResourceUrl, got '"+e+"' of type "+p(e)),"type_error:TrustedResourceUrl")}function tx(e,n){var r,i,o=tw(e);if(!tk.test(o))throw Error("Invalid TrustedResourceUrl format: "+o);return r=e=o.replace(tA,function(e,r){if(!Object.prototype.hasOwnProperty.call(n,r))throw Error('Found marker, "'+r+'", in format string, "'+o+'", but no valid label mapping found in args: '+JSON.stringify(n));return(e=n[r])instanceof tb?tw(e):encodeURIComponent(String(e))}),r=(i=tI())?i.createScriptURL(r):r,new tS(r,tN)}tS.prototype.ta=!0,tS.prototype.sa=function(){return this.a.toString()},tS.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var tA=/%{(\w+)}/g,tk=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,tN={};function tC(e,n){this.a=n===tj?e:""}function tD(e){return e instanceof tC&&e.constructor===tC?e.a:(j("expected object of type SafeUrl, got '"+e+"' of type "+p(e)),"type_error:SafeUrl")}tC.prototype.ta=!0,tC.prototype.sa=function(){return this.a.toString()},tC.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var tP=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,tR=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,tO=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function tL(e){if(e instanceof tC)return e;if(e="object"==typeof e&&e.ta?e.sa():String(e),tO.test(e))e=new tC(e,tj);else{var n=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(tR);e=n&&tP.test(n[1])?new tC(e,tj):null}return e}function tM(e){return e instanceof tC?e:(e="object"==typeof e&&e.ta?e.sa():String(e),tO.test(e)||(e="about:invalid#zClosurez"),new tC(e,tj))}var tj={},tV=new tC("about:invalid#zClosurez",tj);function tF(e,n,r){this.a=r===tU?e:""}tF.prototype.ta=!0,tF.prototype.sa=function(){return this.a.toString()},tF.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var tU={};function tB(e,n,r,i){return e=e instanceof tC?e:tM(e),n=n||c,r=r instanceof tb?tw(r):r||"",n.open(tD(e),r,i,void 0)}function tq(e,n){for(var r=e.split("%s"),i="",o=Array.prototype.slice.call(arguments,1);o.length&&1<r.length;)i+=r.shift()+o.shift();return i+r.join("%s")}function tz(e){return ta.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(te,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(tn,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(tr,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(ti,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(to,"&#39;")),-1!=e.indexOf("\x00")&&(e=e.replace(ts,"&#0;"))),e}function tK(e){return tK[" "](e),e}tK[" "]=d;var tG=tf("Opera"),tH=tf("Trident")||tf("MSIE"),tW=tf("Edge"),tZ=tW||tH,t$=tf("Gecko")&&!(tu(oW.toLowerCase(),"webkit")&&!tf("Edge"))&&!(tf("Trident")||tf("MSIE"))&&!tf("Edge"),tX=tu(oW.toLowerCase(),"webkit")&&!tf("Edge");function tY(){var e=c.document;return e?e.documentMode:void 0}t:{var tQ,tJ="",t0=(tQ=oW,t$?/rv:([^\);]+)(\)|;)/.exec(tQ):tW?/Edge\/([\d\.]+)/.exec(tQ):tH?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(tQ):tX?/WebKit\/(\S+)/.exec(tQ):tG?/(?:Version)[ \/]?(\S+)/.exec(tQ):void 0);if(t0&&(tJ=t0?t0[1]:""),tH){var t1=tY();if(null!=t1&&t1>parseFloat(tJ)){o$=String(t1);break t}}o$=tJ}var t2={};function t3(e){var n;return n=t2,Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=function(){for(var n=0,r=tt(String(o$)).split("."),i=tt(String(e)).split("."),o=Math.max(r.length,i.length),s=0;0==n&&s<o;s++){var a=r[s]||"",u=i[s]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==a[0].length&&0==u[0].length)break;n=tc(0==a[1].length?0:parseInt(a[1],10),0==u[1].length?0:parseInt(u[1],10))||tc(0==a[2].length,0==u[2].length)||tc(a[2],u[2]),a=a[3],u=u[3]}while(0==n)}return 0<=n}(e)}var t4=c.document&&tH&&(tY()||parseInt(o$,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(e){}var t5=!tH||9<=Number(t4);function t6(e){var n=document;return"string"==typeof e?n.getElementById(e):e}function t8(e,n){td(n,function(n,r){n&&"object"==typeof n&&n.ta&&(n=n.sa()),"style"==r?e.style.cssText=n:"class"==r?e.className=n:"for"==r?e.htmlFor=n:t9.hasOwnProperty(r)?e.setAttribute(t9[r],n):0==r.lastIndexOf("aria-",0)||0==r.lastIndexOf("data-",0)?e.setAttribute(r,n):e[r]=n})}var t9={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function t7(e,n){return n=String(n),"application/xhtml+xml"===e.contentType&&(n=n.toLowerCase()),e.createElement(n)}function et(e){c.setTimeout(function(){throw e},0)}function ee(e,n){oQ||function(){if(c.Promise&&c.Promise.resolve){var e=c.Promise.resolve(void 0);oQ=function(){e.then(ei)}}else oQ=function(){!g(c.setImmediate)||c.Window&&c.Window.prototype&&!tf("Edge")&&c.Window.prototype.setImmediate==c.setImmediate?(oY||(oY=function(){var e=c.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!tf("Presto")&&(e=function(){var e=t7(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var n=e.contentWindow;(e=n.document).open(),e.close();var r="callImmediate"+Math.random(),i="file:"==n.location.protocol?"*":n.location.protocol+"//"+n.location.host;e=I(function(e){("*"==i||e.origin==i)&&e.data==r&&this.port1.onmessage()},this),n.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){n.postMessage(r,i)}}}),void 0!==e&&!tf("Trident")&&!tf("MSIE")){var n=new e,r={},i=r;return n.port1.onmessage=function(){if(void 0!==r.next){var e=(r=r.next).Hb;r.Hb=null,e()}},function(e){i.next={Hb:e},i=i.next,n.port2.postMessage(0)}}return function(e){c.setTimeout(e,0)}}()),oY(ei)):c.setImmediate(ei)}}(),en||(oQ(),en=!0),er.add(e,n)}var en=!1,er=new U;function ei(){for(var e,n,r;n=null,(e=er).a&&(n=e.a,e.a=e.a.next,e.a||(e.b=null),n.next=null),r=n;){try{r.a.call(r.b)}catch(e){et(e)}F(B,r)}en=!1}function eo(e,n){if(this.a=es,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=d)try{var r=this;e.call(n,function(e){ey(r,ea,e)},function(e){if(!(e instanceof e_))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}ey(r,eu,e)})}catch(e){ey(this,eu,e)}}var es=0,ea=2,eu=3;function ec(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}ec.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var el=new V(function(){return new ec},function(e){e.reset()});function eh(e,n,r){var i=el.get();return i.g=e,i.b=n,i.f=r,i}function ef(e){if(e instanceof eo)return e;var n=new eo(d);return ey(n,ea,e),n}function ed(e){return new eo(function(n,r){r(e)})}function ep(e,n,r){eb(e,n,r,null)||ee(S(n,e))}function em(e){return new eo(function(n){var r=e.length,i=[];if(r)for(var o=function(e,o,s){r--,i[e]=o?{Qb:!0,value:s}:{Qb:!1,reason:s},0==r&&n(i)},s=0;s<e.length;s++)ep(e[s],S(o,s,!0),S(o,s,!1));else n(i)})}function eg(e,n){e.b||e.a!=ea&&e.a!=eu||ew(e),e.f?e.f.next=n:e.b=n,e.f=n}function ev(e,n,r,i){var o=eh(null,null,null);return o.a=new eo(function(e,s){o.g=n?function(r){try{var o=n.call(i,r);e(o)}catch(e){s(e)}}:e,o.b=r?function(n){try{var o=r.call(i,n);void 0===o&&n instanceof e_?s(n):e(o)}catch(e){s(e)}}:s}),o.a.c=e,eg(e,o),o.a}function ey(e,n,r){var i,o;e.a==es&&(e===r&&(n=eu,r=TypeError("Promise cannot resolve to itself")),e.a=1,eb(r,e.$c,e.ad,e)||(e.i=r,e.a=n,e.c=null,ew(e),n!=eu||r instanceof e_||(i=e,o=r,i.g=!0,ee(function(){i.g&&eS.call(null,o)}))))}function eb(e,n,r,i){if(e instanceof eo)return eg(e,eh(n||d,r||null,i)),!0;if(O(e))return e.then(n,r,i),!0;if(v(e))try{var o=e.then;if(g(o))return function(e,n,r,i,o){function s(e){a||(a=!0,i.call(o,e))}var a=!1;try{n.call(e,function(e){a||(a=!0,r.call(o,e))},s)}catch(e){s(e)}}(e,o,n,r,i),!0}catch(e){return r.call(i,e),!0}return!1}function ew(e){e.h||(e.h=!0,ee(e.gc,e))}function eE(e){var n=null;return e.b&&(n=e.b,e.b=n.next,n.next=null),e.b||(e.f=null),n}function eT(e,n,r,i){if(r==eu&&n.b&&!n.c)for(;e&&e.g;e=e.c)e.g=!1;if(n.a)n.a.c=null,eI(n,r,i);else try{n.c?n.g.call(n.f):eI(n,r,i)}catch(e){eS.call(null,e)}F(el,n)}function eI(e,n,r){n==ea?e.g.call(e.f,r):e.b&&e.b.call(e.f,r)}eo.prototype.then=function(e,n,r){return ev(this,g(e)?e:null,g(n)?n:null,r)},eo.prototype.$goog_Thenable=!0,(i=eo.prototype).oa=function(e,n){return(e=eh(e,e,n)).c=!0,eg(this,e),this},i.o=function(e,n){return ev(this,null,e,n)},i.cancel=function(e){if(this.a==es){var n=new e_(e);ee(function(){(function e(n,r){if(n.a==es){if(n.c){var i=n.c;if(i.b){for(var o=0,s=null,a=null,u=i.b;u&&(u.c||(o++,u.a==n&&(s=u),!(s&&1<o)));u=u.next)s||(a=u);s&&(i.a==es&&1==o?e(i,r):(a?((o=a).next==i.f&&(i.f=o),o.next=o.next.next):eE(i),eT(i,s,eu,r)))}n.c=null}else ey(n,eu,r)}})(this,n)},this)}},i.$c=function(e){this.a=es,ey(this,ea,e)},i.ad=function(e){this.a=es,ey(this,eu,e)},i.gc=function(){for(var e;e=eE(this);)eT(this,e,this.a,this.i);this.h=!1};var eS=et;function e_(e){L.call(this,e)}function ex(){0!=eA&&(ek[y(this)]=this),this.ya=this.ya,this.pa=this.pa}x(e_,L),e_.prototype.name="cancel";var eA=0,ek={};function eN(e){if(!e.ya&&(e.ya=!0,e.Da(),0!=eA)){var n=y(e);if(0!=eA&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete ek[n]}}ex.prototype.ya=!1,ex.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var eC=Object.freeze||function(e){return e},eD=!tH||9<=Number(t4),eP=tH&&!t3("9"),eR=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var e=!1,n=Object.defineProperty({},"passive",{get:function(){e=!0}});try{c.addEventListener("test",d,n),c.removeEventListener("test",d,n)}catch(e){}return e}();function eO(e,n){this.type=e,this.b=this.target=n,this.defaultPrevented=!1}function eL(e,n){if(eO.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var r=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=n,n=e.relatedTarget){if(t$){t:{try{tK(n.nodeName);var o=!0;break t}catch(e){}o=!1}o||(n=null)}}else"mouseover"==r?n=e.fromElement:"mouseout"==r&&(n=e.toElement);this.relatedTarget=n,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:eM[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}eO.prototype.preventDefault=function(){this.defaultPrevented=!0},x(eL,eO);var eM=eC({2:"touch",3:"pen",4:"mouse"});eL.prototype.preventDefault=function(){eL.bb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,eP)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}},eL.prototype.g=function(){return this.a};var ej="closure_listenable_"+(1e6*Math.random()|0),eV=0;function eF(e,n,r,i,o){this.listener=e,this.proxy=null,this.src=n,this.type=r,this.capture=!!i,this.Wa=o,this.key=++eV,this.wa=this.Qa=!1}function eU(e){e.wa=!0,e.listener=null,e.proxy=null,e.src=null,e.Wa=null}function eB(e){this.src=e,this.a={},this.b=0}function eq(e,n){var r=n.type;r in e.a&&$(e.a[r],n)&&(eU(n),0==e.a[r].length&&(delete e.a[r],e.b--))}function ez(e,n,r,i){for(var o=0;o<e.length;++o){var s=e[o];if(!s.wa&&s.listener==n&&!!r==s.capture&&s.Wa==i)return o}return -1}eB.prototype.add=function(e,n,r,i,o){var s=e.toString();(e=this.a[s])||(e=this.a[s]=[],this.b++);var a=ez(e,n,i,o);return -1<a?(n=e[a],r||(n.Qa=!1)):((n=new eF(n,this.src,s,!!i,o)).Qa=r,e.push(n)),n};var eK="closure_lm_"+(1e6*Math.random()|0),eG={},eH=0;function eW(e,n,r,i,o){if(i&&i.once)e$(e,n,r,i,o);else if(Array.isArray(n))for(var s=0;s<n.length;s++)eW(e,n[s],r,i,o);else r=e4(r),e&&e[ej]?e6(e,n,r,v(i)?!!i.capture:!!i,o):eZ(e,n,r,!1,i,o)}function eZ(e,n,r,i,o,s){if(!n)throw Error("Invalid event type");var a,u=v(o)?!!o.capture:!!o,c=e2(e);if(c||(e[eK]=c=new eB(e)),!(r=c.add(n,r,i,u,s)).proxy){if(i=a=eD?function(e){return e1.call(a.src,a.listener,e)}:function(e){if(!(e=e1.call(a.src,a.listener,e)))return e},r.proxy=i,i.src=e,i.listener=r,e.addEventListener)eR||(o=u),void 0===o&&(o=!1),e.addEventListener(n.toString(),i,o);else if(e.attachEvent)e.attachEvent(eQ(n.toString()),i);else if(e.addListener&&e.removeListener)e.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");eH++}}function e$(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)e$(e,n[s],r,i,o);else r=e4(r),e&&e[ej]?e8(e,n,r,v(i)?!!i.capture:!!i,o):eZ(e,n,r,!0,i,o)}function eX(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)eX(e,n[s],r,i,o);else(i=v(i)?!!i.capture:!!i,r=e4(r),e&&e[ej])?(e=e.v,(n=String(n).toString())in e.a&&-1<(r=ez(s=e.a[n],r,i,o))&&(eU(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=e2(e))&&(n=e.a[n.toString()],e=-1,n&&(e=ez(n,r,i,o)),(r=-1<e?n[e]:null)&&eY(r))}function eY(e){if("number"!=typeof e&&e&&!e.wa){var n=e.src;if(n&&n[ej])eq(n.v,e);else{var r=e.type,i=e.proxy;n.removeEventListener?n.removeEventListener(r,i,e.capture):n.detachEvent?n.detachEvent(eQ(r),i):n.addListener&&n.removeListener&&n.removeListener(i),eH--,(r=e2(n))?(eq(r,e),0==r.b&&(r.src=null,n[eK]=null)):eU(e)}}}function eQ(e){return e in eG?eG[e]:eG[e]="on"+e}function eJ(e,n,r,i){var o=!0;if((e=e2(e))&&(n=e.a[n.toString()]))for(n=n.concat(),e=0;e<n.length;e++){var s=n[e];s&&s.capture==r&&!s.wa&&(s=e0(s,i),o=o&&!1!==s)}return o}function e0(e,n){var r=e.listener,i=e.Wa||e.src;return e.Qa&&eY(e),r.call(i,n)}function e1(e,n){if(e.wa)return!0;if(!eD){if(!n)t:{n=["window","event"];for(var r=c,i=0;i<n.length;i++)if(null==(r=r[n[i]])){n=null;break t}n=r}if(i=n,n=new eL(i,this),r=!0,!(0>i.keyCode||void 0!=i.returnValue)){t:{var o=!1;if(0==i.keyCode)try{i.keyCode=-1;break t}catch(e){o=!0}(o||void 0==i.returnValue)&&(i.returnValue=!0)}for(i=[],o=n.b;o;o=o.parentNode)i.push(o);for(e=e.type,o=i.length-1;0<=o;o--){n.b=i[o];var s=eJ(i[o],e,!0,n);r=r&&s}for(o=0;o<i.length;o++)n.b=i[o],s=eJ(i[o],e,!1,n),r=r&&s}return r}return e0(e,new eL(n,this))}function e2(e){return(e=e[eK])instanceof eB?e:null}var e3="__closure_events_fn_"+(1e9*Math.random()>>>0);function e4(e){return g(e)?e:(e[e3]||(e[e3]=function(n){return e.handleEvent(n)}),e[e3])}function e5(){ex.call(this),this.v=new eB(this),this.bc=this,this.hb=null}function e6(e,n,r,i,o){e.v.add(String(n),r,!1,i,o)}function e8(e,n,r,i,o){e.v.add(String(n),r,!0,i,o)}function e9(e,n,r,i){if(!(n=e.v.a[String(n)]))return!0;n=n.concat();for(var o=!0,s=0;s<n.length;++s){var a=n[s];if(a&&!a.wa&&a.capture==r){var u=a.listener,c=a.Wa||a.src;a.Qa&&eq(e.v,a),o=!1!==u.call(c,i)&&o}}return o&&!i.defaultPrevented}function e7(e,n,r){if(g(e))r&&(e=I(e,r));else if(e&&"function"==typeof e.handleEvent)e=I(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(n)?-1:c.setTimeout(e,n||0)}function nt(e){var n=null;return new eo(function(r,i){-1==(n=e7(function(){r(void 0)},e))&&i(Error("Failed to schedule timer."))}).o(function(e){throw c.clearTimeout(n),e})}function ne(e){if(e.X&&"function"==typeof e.X)return e.X();if("string"==typeof e)return e.split("");if(m(e)){for(var n=[],r=e.length,i=0;i<r;i++)n.push(e[i]);return n}for(i in n=[],r=0,e)n[r++]=e[i];return n}function nn(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.X||"function"!=typeof e.X){if(m(e)||"string"==typeof e){var n=[];e=e.length;for(var r=0;r<e;r++)n.push(r);return n}for(var i in n=[],r=0,e)n[r++]=i;return n}}function nr(e,n){this.b={},this.a=[],this.c=0;var r=arguments.length;if(1<r){if(r%2)throw Error("Uneven number of arguments");for(var i=0;i<r;i+=2)this.set(arguments[i],arguments[i+1])}else if(e){if(e instanceof nr)for(r=e.Y(),i=0;i<r.length;i++)this.set(r[i],e.get(r[i]));else for(i in e)this.set(i,e[i])}}function ni(e){if(e.c!=e.a.length){for(var n=0,r=0;n<e.a.length;){var i=e.a[n];no(e.b,i)&&(e.a[r++]=i),n++}e.a.length=r}if(e.c!=e.a.length){var o={};for(r=n=0;n<e.a.length;)no(o,i=e.a[n])||(e.a[r++]=i,o[i]=1),n++;e.a.length=r}}function no(e,n){return Object.prototype.hasOwnProperty.call(e,n)}x(e5,ex),e5.prototype[ej]=!0,e5.prototype.addEventListener=function(e,n,r,i){eW(this,e,n,r,i)},e5.prototype.removeEventListener=function(e,n,r,i){eX(this,e,n,r,i)},e5.prototype.dispatchEvent=function(e){var n,r=this.hb;if(r)for(n=[];r;r=r.hb)n.push(r);r=this.bc;var i=e.type||e;if("string"==typeof e)e=new eO(e,r);else if(e instanceof eO)e.target=e.target||r;else{var o=e;tv(e=new eO(i,r),o)}if(o=!0,n)for(var s=n.length-1;0<=s;s--){var a=e.b=n[s];o=e9(a,i,!0,e)&&o}if(o=e9(a=e.b=r,i,!0,e)&&o,o=e9(a,i,!1,e)&&o,n)for(s=0;s<n.length;s++)o=e9(a=e.b=n[s],i,!1,e)&&o;return o},e5.prototype.Da=function(){if(e5.bb.Da.call(this),this.v){var e,n=this.v;for(e in n.a){for(var r=n.a[e],i=0;i<r.length;i++)eU(r[i]);delete n.a[e],n.b--}}this.hb=null},(i=nr.prototype).X=function(){ni(this);for(var e=[],n=0;n<this.a.length;n++)e.push(this.b[this.a[n]]);return e},i.Y=function(){return ni(this),this.a.concat()},i.clear=function(){this.b={},this.c=this.a.length=0},i.get=function(e,n){return no(this.b,e)?this.b[e]:n},i.set=function(e,n){no(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=n},i.forEach=function(e,n){for(var r=this.Y(),i=0;i<r.length;i++){var o=r[i],s=this.get(o);e.call(n,s,o,this)}};var ns=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function na(e,n){var r;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof na?(this.i=void 0!==n?n:e.i,nu(this,e.c),this.l=e.l,this.a=e.a,nc(this,e.g),this.f=e.f,nl(this,nN(e.b)),this.h=e.h):e&&(r=String(e).match(ns))?(this.i=!!n,nu(this,r[1]||"",!0),this.l=nm(r[2]||""),this.a=nm(r[3]||"",!0),nc(this,r[4]),this.f=nm(r[5]||"",!0),nl(this,r[6]||"",!0),this.h=nm(r[7]||"")):(this.i=!!n,this.b=new nI(null,this.i))}function nu(e,n,r){e.c=r?nm(n,!0):n,e.c&&(e.c=e.c.replace(/:$/,""))}function nc(e,n){if(n){if(isNaN(n=Number(n))||0>n)throw Error("Bad port number "+n);e.g=n}else e.g=null}function nl(e,n,r){var i,o;n instanceof nI?(e.b=n,i=e.b,(o=e.i)&&!i.f&&(nS(i),i.c=null,i.a.forEach(function(e,n){var r=n.toLowerCase();n!=r&&(nx(this,n),nk(this,r,e))},i)),i.f=o):(r||(n=ng(n,nE)),e.b=new nI(n,e.i))}function nh(e,n,r){e.b.set(n,r)}function nf(e,n){return e.b.get(n)}function nd(e){return e instanceof na?new na(e):new na(e,void 0)}function np(e,n,r,i){var o=new na(null,void 0);return e&&nu(o,e),n&&(o.a=n),r&&nc(o,r),i&&(o.f=i),o}function nm(e,n){return e?n?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ng(e,n,r){return"string"==typeof e?(e=encodeURI(e).replace(n,nv),r&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function nv(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}na.prototype.toString=function(){var e=[],n=this.c;n&&e.push(ng(n,ny,!0),":");var r=this.a;return(r||"file"==n)&&(e.push("//"),(n=this.l)&&e.push(ng(n,ny,!0),"@"),e.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.g)&&e.push(":",String(r))),(r=this.f)&&(this.a&&"/"!=r.charAt(0)&&e.push("/"),e.push(ng(r,"/"==r.charAt(0)?nw:nb,!0))),(r=this.b.toString())&&e.push("?",r),(r=this.h)&&e.push("#",ng(r,nT)),e.join("")},na.prototype.resolve=function(e){var n=new na(this),r=!!e.c;r?nu(n,e.c):r=!!e.l,r?n.l=e.l:r=!!e.a,r?n.a=e.a:r=null!=e.g;var i=e.f;if(r)nc(n,e.g);else if(r=!!e.f){if("/"!=i.charAt(0)){if(this.a&&!this.f)i="/"+i;else{var o=n.f.lastIndexOf("/");-1!=o&&(i=n.f.substr(0,o+1)+i)}}if(".."==(o=i)||"."==o)i="";else if(tu(o,"./")||tu(o,"/.")){i=0==o.lastIndexOf("/",0),o=o.split("/");for(var s=[],a=0;a<o.length;){var u=o[a++];"."==u?i&&a==o.length&&s.push(""):".."==u?((1<s.length||1==s.length&&""!=s[0])&&s.pop(),i&&a==o.length&&s.push("")):(s.push(u),i=!0)}i=s.join("/")}else i=o}return r?n.f=i:r=""!==e.b.toString(),r?nl(n,nN(e.b)):r=!!e.h,r&&(n.h=e.h),n};var ny=/[#\/\?@]/g,nb=/[#\?:]/g,nw=/[#\?]/g,nE=/[#\?@]/g,nT=/#/g;function nI(e,n){this.b=this.a=null,this.c=e||null,this.f=!!n}function nS(e){e.a||(e.a=new nr,e.b=0,e.c&&function(e,n){if(e){e=e.split("&");for(var r=0;r<e.length;r++){var i=e[r].indexOf("="),o=null;if(0<=i){var s=e[r].substring(0,i);o=e[r].substring(i+1)}else s=e[r];n(s,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.c,function(n,r){e.add(decodeURIComponent(n.replace(/\+/g," ")),r)}))}function n_(e){var n=nn(e);if(void 0===n)throw Error("Keys are undefined");var r=new nI(null,void 0);e=ne(e);for(var i=0;i<n.length;i++){var o=n[i],s=e[i];Array.isArray(s)?nk(r,o,s):r.add(o,s)}return r}function nx(e,n){nS(e),n=nC(e,n),no(e.a.b,n)&&(e.c=null,e.b-=e.a.get(n).length,no((e=e.a).b,n)&&(delete e.b[n],e.c--,e.a.length>2*e.c&&ni(e)))}function nA(e,n){return nS(e),n=nC(e,n),no(e.a.b,n)}function nk(e,n,r){nx(e,n),0<r.length&&(e.c=null,e.a.set(nC(e,n),Q(r)),e.b+=r.length)}function nN(e){var n=new nI;return n.c=e.c,e.a&&(n.a=new nr(e.a),n.b=e.b),n}function nC(e,n){return n=String(n),e.f&&(n=n.toLowerCase()),n}function nD(e){var n=[];return function e(n,r,i){if(null==r)i.push("null");else{if("object"==typeof r){if(Array.isArray(r)){var o=r;r=o.length,i.push("[");for(var s="",a=0;a<r;a++)i.push(s),e(n,o[a],i),s=",";i.push("]");return}if(r instanceof String||r instanceof Number||r instanceof Boolean)r=r.valueOf();else{for(o in i.push("{"),s="",r)Object.prototype.hasOwnProperty.call(r,o)&&"function"!=typeof(a=r[o])&&(i.push(s),nL(o,i),i.push(":"),e(n,a,i),s=",");i.push("}");return}}switch(typeof r){case"string":nL(r,i);break;case"number":i.push(isFinite(r)&&!isNaN(r)?String(r):"null");break;case"boolean":i.push(String(r));break;case"function":i.push("null");break;default:throw Error("Unknown type: "+typeof r)}}}(new nP,e,n),n.join("")}function nP(){}(i=nI.prototype).add=function(e,n){nS(this),this.c=null,e=nC(this,e);var r=this.a.get(e);return r||this.a.set(e,r=[]),r.push(n),this.b+=1,this},i.clear=function(){this.a=this.c=null,this.b=0},i.forEach=function(e,n){nS(this),this.a.forEach(function(r,i){K(r,function(r){e.call(n,r,i,this)},this)},this)},i.Y=function(){nS(this);for(var e=this.a.X(),n=this.a.Y(),r=[],i=0;i<n.length;i++)for(var o=e[i],s=0;s<o.length;s++)r.push(n[i]);return r},i.X=function(e){nS(this);var n=[];if("string"==typeof e)nA(this,e)&&(n=Y(n,this.a.get(nC(this,e))));else{e=this.a.X();for(var r=0;r<e.length;r++)n=Y(n,e[r])}return n},i.set=function(e,n){return nS(this),this.c=null,nA(this,e=nC(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[n]),this.b+=1,this},i.get=function(e,n){return e&&0<(e=this.X(e)).length?String(e[0]):n},i.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],n=this.a.Y(),r=0;r<n.length;r++){var i=n[r],o=encodeURIComponent(String(i));i=this.X(i);for(var s=0;s<i.length;s++){var a=o;""!==i[s]&&(a+="="+encodeURIComponent(String(i[s]))),e.push(a)}}return this.c=e.join("&")};var nR={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},nO=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function nL(e,n){n.push('"',e.replace(nO,function(e){var n=nR[e];return n||(n="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),nR[e]=n),n}),'"')}function nM(){var e=n1();return tH&&!!t4&&11==t4||/Edge\/\d+/.test(e)}function nj(){return c.window&&c.window.location.href||self&&self.location&&self.location.href||""}function nV(e,n){n=n||c.window;var r="about:blank";e&&(r=tD(tL(e)||tV)),n.location.href=r}function nF(e){return!!((e=(e||n1()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function nU(e){e=e||c.window;try{e.close()}catch(e){}}function nB(e,n,r){var i,o=Math.floor(1e9*Math.random()).toString();n=n||500,r=r||600;var s=(window.screen.availHeight-r)/2,a=(window.screen.availWidth-n)/2;for(u in n={width:n,height:r,top:0<s?s:0,left:0<a?a:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},r=n1().toLowerCase(),o&&(n.target=o,tu(r,"crios/")&&(n.target="_blank")),nQ(n1())==nX&&(e=e||"http://localhost",n.scrollbars=!0),r=e||"",(e=n)||(e={}),o=window,n=r instanceof tC?r:tL(void 0!==r.href?r.href:String(r))||tV,r=e.target||r.target,s=[],e)switch(u){case"width":case"height":case"top":case"left":s.push(u+"="+e[u]);break;case"target":case"noopener":case"noreferrer":break;default:s.push(u+"="+(e[u]?1:0))}var u=s.join(",");if((tf("iPhone")&&!tf("iPod")&&!tf("iPad")||tf("iPad")||tf("iPod"))&&o.navigator&&o.navigator.standalone&&r&&"_self"!=r?(ty(u=t7(document,"A"),"HTMLAnchorElement"),n=n instanceof tC?n:tM(n),u.href=tD(n),u.setAttribute("target",r),e.noreferrer&&u.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,o,1),u.dispatchEvent(e),u={}):e.noreferrer?(u=tB("",o,r,u),e=tD(n),u&&(tZ&&tu(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),u.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+tz(e)+'">',e=(o=tI())?o.createHTML(e):e,e=new tF(e,null,tU),o=u.document)&&(o.write((i=e)instanceof tF&&i.constructor===tF?i.a:(j("expected object of type SafeHtml, got '"+i+"' of type "+p(i)),"type_error:SafeHtml")),o.close())):(u=tB(n,o,r,u))&&e.noopener&&(u.opener=null),u)try{u.focus()}catch(e){}return u}var nq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nz=/^[^@]+@[^@]+$/;function nK(){var e=null;return new eo(function(n){"complete"==c.document.readyState?n():(e=function(){n()},e$(window,"load",e))}).o(function(n){throw eX(window,"load",e),n})}function nG(e){return e=e||n1(),!("file:"!==n6()&&"ionic:"!==n6()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function nH(){var e=c.window;try{return!(!e||e==e.top)}catch(e){return!1}}function nW(){return void 0!==c.WorkerGlobalScope&&"function"==typeof c.importScripts}function nZ(){return J.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":J.INTERNAL.hasOwnProperty("node")?"Node":nW()?"Worker":"Browser"}function n$(){var e=nZ();return"ReactNative"===e||"Node"===e}var nX="Firefox",nY="Chrome";function nQ(e){var n=e.toLowerCase();return tu(n,"opera/")||tu(n,"opr/")||tu(n,"opios/")?"Opera":tu(n,"iemobile")?"IEMobile":tu(n,"msie")||tu(n,"trident/")?"IE":tu(n,"edge/")?"Edge":tu(n,"firefox/")?nX:tu(n,"silk/")?"Silk":tu(n,"blackberry")?"Blackberry":tu(n,"webos")?"Webos":!tu(n,"safari/")||tu(n,"chrome/")||tu(n,"crios/")||tu(n,"android")?!tu(n,"chrome/")&&!tu(n,"crios/")||tu(n,"edge/")?tu(n,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":nY:"Safari"}var nJ={md:"FirebaseCore-web",od:"FirebaseUI-web"};function n0(e,n){n=n||[];var r,i=[],o={};for(r in nJ)o[nJ[r]]=!0;for(r=0;r<n.length;r++)void 0!==o[n[r]]&&(delete o[n[r]],i.push(n[r]));return i.sort(),(n=i).length||(n=["FirebaseCore-web"]),"Browser"===(i=nZ())?i=nQ(o=n1()):"Worker"===i&&(i=nQ(o=n1())+"-"+i),i+"/JsCore/"+e+"/"+n.join(",")}function n1(){return c.navigator&&c.navigator.userAgent||""}function n2(e,n){e=e.split("."),n=n||c;for(var r=0;r<e.length&&"object"==typeof n&&null!=n;r++)n=n[e[r]];return r!=e.length&&(n=void 0),n}function n3(){try{var e=c.localStorage,n=re();if(e)return e.setItem(n,"1"),e.removeItem(n),!nM()||!!c.indexedDB}catch(e){return nW()&&!!c.indexedDB}return!1}function n4(){return(n5()||"chrome-extension:"===n6()||nG())&&!n$()&&n3()&&!nW()}function n5(){return"http:"===n6()||"https:"===n6()}function n6(){return c.location&&c.location.protocol||null}function n8(e){return!nF(e=e||n1())&&nQ(e)!=nX}function n9(e){return void 0===e?null:nD(e)}function n7(e){var n,r={};for(n in e)e.hasOwnProperty(n)&&null!==e[n]&&void 0!==e[n]&&(r[n]=e[n]);return r}function rt(e){if(null!==e)return JSON.parse(e)}function re(e){return e||Math.floor(1e9*Math.random()).toString()}function rn(e){return!("Safari"==nQ(e=e||n1())||e.toLowerCase().match(/iphone|ipad|ipod/))}function rr(){var e=c.___jsl;if(e&&e.H){for(var n in e.H)if(e.H[n].r=e.H[n].r||[],e.H[n].L=e.H[n].L||[],e.H[n].r=e.H[n].L.concat(),e.CP)for(var r=0;r<e.CP.length;r++)e.CP[r]=null}}function ri(e,n){if(e>n)throw Error("Short delay should be less than long delay!");this.a=e,this.c=n,e=n1(),n=nZ(),this.b=nF(e)||"ReactNative"===n}function ro(){var e=c.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function rs(e){try{var n=new Date(parseInt(e,10));if(!isNaN(n.getTime())&&!/[^0-9]/.test(e))return n.toUTCString()}catch(e){}return null}function ra(){return!(!n2("fireauth.oauthhelper",c)&&!n2("fireauth.iframe",c))}ri.prototype.get=function(){var e=c.navigator;return(e&&"boolean"==typeof e.onLine&&(n5()||"chrome-extension:"===n6()||void 0!==e.connection)?e.onLine:1)?this.b?this.c:this.a:Math.min(5e3,this.a)};var ru={};function rc(e){ru[e]||(ru[e]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e))}try{var rl={};Object.defineProperty(rl,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(rl,"abcd",{configurable:!0,enumerable:!0,value:2}),oJ=2==rl.abcd}catch(e){oJ=!1}function rh(e,n,r){oJ?Object.defineProperty(e,n,{configurable:!0,enumerable:!0,value:r}):e[n]=r}function rf(e,n){if(n)for(var r in n)n.hasOwnProperty(r)&&rh(e,r,n[r])}function rd(e){var n={};return rf(n,e),n}function rp(e){var n=e;if("object"==typeof e&&null!=e)for(var r in n="length"in e?[]:{},e)rh(n,r,rp(e[r]));return n}function rm(e){var n=e&&(e[rw]?"phone":null);if(n&&e&&e[rb]){rh(this,"uid",e[rb]),rh(this,"displayName",e[rv]||null);var r=null;e[ry]&&(r=new Date(e[ry]).toUTCString()),rh(this,"enrollmentTime",r),rh(this,"factorId",n)}else throw new k("internal-error","Internal assert: invalid MultiFactorInfo object")}function rg(e){try{var n=new rE(e)}catch(e){n=null}return n}rm.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var rv="displayName",ry="enrolledAt",rb="mfaEnrollmentId",rw="phoneInfo";function rE(e){rm.call(this,e),rh(this,"phoneNumber",e[rw])}function rT(e){var n={},r=e[rx],i=e[rk],o=e[rN];if(e=rg(e[rA]),!o||o!=rS&&o!=r_&&!r||o==r_&&!i||o==rI&&!e)throw Error("Invalid checkActionCode response!");o==r_?(n[rD]=r||null,n[rR]=r||null,n[rC]=i):(n[rD]=i||null,n[rR]=i||null,n[rC]=r||null),n[rP]=e||null,rh(this,rL,o),rh(this,rO,rp(n))}x(rE,rm),rE.prototype.w=function(){var e=rE.bb.w.call(this);return e.phoneNumber=this.phoneNumber,e};var rI="REVERT_SECOND_FACTOR_ADDITION",rS="EMAIL_SIGNIN",r_="VERIFY_AND_CHANGE_EMAIL",rx="email",rA="mfaInfo",rk="newEmail",rN="requestType",rC="email",rD="fromEmail",rP="multiFactorInfo",rR="previousEmail",rO="data",rL="operation";function rM(e){var n=nf(e=nd(e),rj)||null,r=nf(e,rV)||null,i=nf(e,rB)||null;if(i=i&&rz[i]||null,!n||!r||!i)throw new k("argument-error",rj+", "+rV+"and "+rB+" are required in a valid action code URL.");rf(this,{apiKey:n,operation:i,code:r,continueUrl:nf(e,rF)||null,languageCode:nf(e,rU)||null,tenantId:nf(e,rq)||null})}var rj="apiKey",rV="oobCode",rF="continueUrl",rU="languageCode",rB="mode",rq="tenantId",rz={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:rI,signIn:rS,verifyAndChangeEmail:r_,verifyEmail:"VERIFY_EMAIL"};function rK(e){try{return new rM(e)}catch(e){return null}}function rG(e){var n=e[rX];if(void 0===n)throw new k("missing-continue-uri");if("string"!=typeof n||"string"==typeof n&&!n.length)throw new k("invalid-continue-uri");this.h=n,this.b=this.a=null,this.g=!1;var r=e[rH];if(r&&"object"==typeof r){n=r[rJ];var i=r[rY];if(r=r[rQ],"string"==typeof n&&n.length){if(this.a=n,void 0!==i&&"boolean"!=typeof i)throw new k("argument-error",rY+" property must be a boolean when specified.");if(this.g=!!i,void 0!==r&&("string"!=typeof r||"string"==typeof r&&!r.length))throw new k("argument-error",rQ+" property must be a non empty string when specified.");this.b=r||null}else{if(void 0!==n)throw new k("argument-error",rJ+" property must be a non empty string when specified.");if(void 0!==i||void 0!==r)throw new k("missing-android-pkg-name")}}else if(void 0!==r)throw new k("argument-error",rH+" property must be a non null object when specified.");if(this.f=null,(n=e[r$])&&"object"==typeof n){if("string"==typeof(n=n[r0])&&n.length)this.f=n;else if(void 0!==n)throw new k("argument-error",r0+" property must be a non empty string when specified.")}else if(void 0!==n)throw new k("argument-error",r$+" property must be a non null object when specified.");if(void 0!==(n=e[rZ])&&"boolean"!=typeof n)throw new k("argument-error",rZ+" property must be a boolean when specified.");if(this.c=!!n,void 0!==(e=e[rW])&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new k("argument-error",rW+" property must be a non empty string when specified.");this.i=e||null}var rH="android",rW="dynamicLinkDomain",rZ="handleCodeInApp",r$="iOS",rX="url",rY="installApp",rQ="minimumVersion",rJ="packageName",r0="bundleId";function r1(e){var n={};for(var r in n.continueUrl=e.h,n.canHandleCodeInApp=e.c,(n.androidPackageName=e.a)&&(n.androidMinimumVersion=e.b,n.androidInstallApp=e.g),n.iOSBundleId=e.f,n.dynamicLinkDomain=e.i,n)null===n[r]&&delete n[r];return n}var r2=null;function r3(e){var n=r5(e);if(!(n&&n.sub&&n.iss&&n.aud&&n.exp))throw Error("Invalid JWT");this.h=e,this.a=n.exp,this.i=n.sub,e=Date.now()/1e3,this.g=n.iat||(e>this.a?this.a:e),this.b=n.provider_id||n.firebase&&n.firebase.sign_in_provider||null,this.f=n.firebase&&n.firebase.tenant||null,this.c=!!n.is_anonymous||"anonymous"==this.b}function r4(e){try{return new r3(e)}catch(e){return null}}function r5(e){if(!e||3!=(e=e.split(".")).length)return null;e=e[1];for(var n=(4-e.length%4)%4,r=0;r<n;r++)e+=".";try{var i,o,s=(i=e,o=[],function(e,n){function r(n){for(;i<e.length;){var r=e.charAt(i++),o=r2[r];if(null!=o)return o;if(!/^[\s\xa0]*$/.test(r))throw Error("Unknown base64 encoding at char: "+r)}return n}(function(){if(!r2){r2={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),n=["+/=","+/","-_=","-_.","-_"],r=0;5>r;r++)for(var i=e.concat(n[r].split("")),o=0;o<i.length;o++){var s=i[o];void 0===r2[s]&&(r2[s]=o)}}})();for(var i=0;;){var o=r(-1),s=r(0),a=r(64),u=r(64);if(64===u&&-1===o)break;n(o<<2|s>>4),64!=a&&(n(s<<4&240|a>>2),64!=u&&n(a<<6&192|u))}}(i,function(e){o.push(e)}),o);for(e=[],r=n=0;n<s.length;){var a=s[n++];if(128>a)e[r++]=String.fromCharCode(a);else if(191<a&&224>a){var u=s[n++];e[r++]=String.fromCharCode((31&a)<<6|63&u)}else if(239<a&&365>a){u=s[n++];var c=s[n++],l=s[n++],h=((7&a)<<18|(63&u)<<12|(63&c)<<6|63&l)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(1023&h))}else u=s[n++],c=s[n++],e[r++]=String.fromCharCode((15&a)<<12|(63&u)<<6|63&c)}return JSON.parse(e.join(""))}catch(e){}return null}r3.prototype.T=function(){return this.f},r3.prototype.l=function(){return this.c},r3.prototype.toString=function(){return this.h};var r6="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),r8=["client_id","response_type","scope","redirect_uri","state"],r9={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:r8},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:r8},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:r8},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:r6},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function r7(e){for(var n in r9)if(r9[n].fa==e)return r9[n];return null}function it(e){var n={};n["facebook.com"]=is,n["google.com"]=iu,n["github.com"]=ia,n["twitter.com"]=ic;var r=e&&e[ir];try{if(r)return n[r]?new n[r](e):new io(e);if(void 0!==e[ie])return new ii(e)}catch(e){}return null}var ie="idToken",ir="providerId";function ii(e){var n=e[ir];if(!n&&e[ie]){var r=r4(e[ie]);r&&r.b&&(n=r.b)}if(!n)throw Error("Invalid additional user info!");("anonymous"==n||"custom"==n)&&(n=null),r=!1,void 0!==e.isNewUser?r=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(r=!0),rh(this,"providerId",n),rh(this,"isNewUser",r)}function io(e){ii.call(this,e),rh(this,"profile",rp((e=rt(e.rawUserInfo||"{}"))||{}))}function is(e){if(io.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function ia(e){if(io.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");rh(this,"username",this.profile&&this.profile.login||null)}function iu(e){if(io.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ic(e){if(io.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");rh(this,"username",e.screenName||null)}function il(e){var n=nd(e),r=nf(n,"link"),i=nf(nd(r),"link");return n=nf(n,"deep_link_id"),nf(nd(n),"link")||n||i||r||e}function ih(e,n){if(!e&&!n)throw new k("internal-error","Internal assert: no raw session string available");if(e&&n)throw new k("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=n||null,this.type=this.a?id:ip}x(io,ii),x(is,io),x(ia,io),x(iu,io),x(ic,io);var id="enroll",ip="signin";function im(){}function ig(e,n){return e.then(function(e){if(e[o2]){var r=r4(e[o2]);if(!r||n!=r.i)throw new k("user-mismatch");return e}throw new k("user-mismatch")}).o(function(e){throw e&&e.code&&e.code==C+"user-not-found"?new k("user-mismatch"):e})}function iv(e,n){if(n)this.a=n;else throw new k("internal-error","failed to construct a credential");rh(this,"providerId",e),rh(this,"signInMethod",e)}function iy(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function ib(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new iv(e.providerId,e.pendingToken)}catch(e){}return null}function iw(e,n,r){if(this.a=null,n.idToken||n.accessToken)n.idToken&&rh(this,"idToken",n.idToken),n.accessToken&&rh(this,"accessToken",n.accessToken),n.nonce&&!n.pendingToken&&rh(this,"nonce",n.nonce),n.pendingToken&&(this.a=n.pendingToken);else if(n.oauthToken&&n.oauthTokenSecret)rh(this,"accessToken",n.oauthToken),rh(this,"secret",n.oauthTokenSecret);else throw new k("internal-error","failed to construct a credential");rh(this,"providerId",e),rh(this,"signInMethod",r)}function iE(e){var n={};return e.idToken&&(n.id_token=e.idToken),e.accessToken&&(n.access_token=e.accessToken),e.secret&&(n.oauth_token_secret=e.secret),n.providerId=e.providerId,e.nonce&&!e.a&&(n.nonce=e.nonce),n={postBody:n_(n).toString(),requestUri:"http://localhost"},e.a&&(delete n.postBody,n.pendingToken=e.a),n}function iT(e){if(e&&e.providerId&&e.signInMethod){var n={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new iw(e.providerId,n,e.signInMethod)}catch(e){}}return null}function iI(e,n){this.Qc=n||[],rf(this,{providerId:e,isOAuthProvider:!0}),this.Jb={},this.qb=(r7(e)||{}).Ja||null,this.pb=null}function iS(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new k("argument-error",'SAML provider IDs must be prefixed with "saml."');iI.call(this,e,[])}function i_(e){iI.call(this,e,r8),this.a=[]}function ix(){i_.call(this,"facebook.com")}function iA(e){if(!e)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var n=e;return v(e)&&(n=e.accessToken),(new ix).credential({accessToken:n})}function ik(){i_.call(this,"github.com")}function iN(e){if(!e)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var n=e;return v(e)&&(n=e.accessToken),(new ik).credential({accessToken:n})}function iC(){i_.call(this,"google.com"),this.Ca("profile")}function iD(e,n){var r=e;return v(e)&&(r=e.idToken,n=e.accessToken),(new iC).credential({idToken:r,accessToken:n})}function iP(){iI.call(this,"twitter.com",r6)}function iR(e,n){var r=e;if(v(r)||(r={oauthToken:e,oauthTokenSecret:n}),!r.oauthToken||!r.oauthTokenSecret)throw new k("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new iw("twitter.com",r,"twitter.com")}function iO(e,n,r){this.a=e,this.f=n,rh(this,"providerId","password"),rh(this,"signInMethod",r===iM.EMAIL_LINK_SIGN_IN_METHOD?iM.EMAIL_LINK_SIGN_IN_METHOD:iM.EMAIL_PASSWORD_SIGN_IN_METHOD)}function iL(e){return e&&e.email&&e.password?new iO(e.email,e.password,e.signInMethod):null}function iM(){rf(this,{providerId:"password",isOAuthProvider:!1})}function ij(e,n){if(!(n=iV(n)))throw new k("argument-error","Invalid email link!");return new iO(e,n.code,iM.EMAIL_LINK_SIGN_IN_METHOD)}function iV(e){return(e=rK(e=il(e)))&&e.operation===rS?e:null}function iF(e){if(!(e.fb&&e.eb||e.La&&e.ea))throw new k("internal-error");this.a=e,rh(this,"providerId","phone"),this.fa="phone",rh(this,"signInMethod","phone")}function iU(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var n={};return K(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(r){e[r]&&(n[r]=e[r])}),new iF(n)}return null}function iB(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.fb,code:e.a.eb}}function iq(e){try{this.a=e||J.auth()}catch(e){throw new k("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}rf(this,{providerId:"phone",isOAuthProvider:!1})}function iz(e,n){if(!e)throw new k("missing-verification-id");if(!n)throw new k("missing-verification-code");return new iF({fb:e,eb:n})}function iK(e){if(e.temporaryProof&&e.phoneNumber)return new iF({La:e.temporaryProof,ea:e.phoneNumber});var n=e&&e.providerId;if(!n||"password"===n)return null;var r=e&&e.oauthAccessToken,i=e&&e.oauthTokenSecret,o=e&&e.nonce,s=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(n){case"google.com":return iD(s,r);case"facebook.com":return iA(r);case"github.com":return iN(r);case"twitter.com":return iR(r,i);default:return r||i||s||a?a?0==n.indexOf("saml.")?new iv(n,a):new iw(n,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},n):new i_(n).credential({idToken:s,accessToken:r,rawNonce:o}):null}}catch(e){return null}}function iG(e){if(!e.isOAuthProvider)throw new k("invalid-oauth-provider")}function iH(e,n,r,i,o,s,a){if(this.c=e,this.b=n||null,this.g=r||null,this.f=i||null,this.i=s||null,this.h=a||null,this.a=o||null,this.g||this.a){if(this.g&&this.a||this.g&&!this.f)throw new k("invalid-auth-event")}else throw new k("invalid-auth-event")}function iW(e){return(e=e||{}).type?new iH(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&N(e.error),e.postBody,e.tenantId):null}function iZ(){this.b=null,this.a=[]}ih.prototype.Ha=function(){return this.a?ef(this.a):ef(this.b)},ih.prototype.w=function(){return this.type==id?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},im.prototype.ka=function(){},im.prototype.b=function(){},im.prototype.c=function(){},im.prototype.w=function(){},iv.prototype.ka=function(e){return sp(e,iy(this))},iv.prototype.b=function(e,n){var r=iy(this);return r.idToken=n,sm(e,r)},iv.prototype.c=function(e,n){return ig(sg(e,iy(this)),n)},iv.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},iw.prototype.ka=function(e){return sp(e,iE(this))},iw.prototype.b=function(e,n){var r=iE(this);return r.idToken=n,sm(e,r)},iw.prototype.c=function(e,n){return ig(sg(e,iE(this)),n)},iw.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},iI.prototype.Ka=function(e){return this.Jb=tm(e),this},x(iS,iI),x(i_,iI),i_.prototype.Ca=function(e){return Z(this.a,e)||this.a.push(e),this},i_.prototype.Rb=function(){return Q(this.a)},i_.prototype.credential=function(e,n){var r;if(!(r=v(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:n||null}).idToken&&!r.accessToken)throw new k("argument-error","credential failed: must provide the ID token and/or the access token.");return new iw(this.providerId,r,this.providerId)},x(ix,i_),rh(ix,"PROVIDER_ID","facebook.com"),rh(ix,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),x(ik,i_),rh(ik,"PROVIDER_ID","github.com"),rh(ik,"GITHUB_SIGN_IN_METHOD","github.com"),x(iC,i_),rh(iC,"PROVIDER_ID","google.com"),rh(iC,"GOOGLE_SIGN_IN_METHOD","google.com"),x(iP,iI),rh(iP,"PROVIDER_ID","twitter.com"),rh(iP,"TWITTER_SIGN_IN_METHOD","twitter.com"),iO.prototype.ka=function(e){return this.signInMethod==iM.EMAIL_LINK_SIGN_IN_METHOD?sY(e,sS,{email:this.a,oobCode:this.f}):sY(e,sH,{email:this.a,password:this.f})},iO.prototype.b=function(e,n){return this.signInMethod==iM.EMAIL_LINK_SIGN_IN_METHOD?sY(e,s_,{idToken:n,email:this.a,oobCode:this.f}):sY(e,sV,{idToken:n,email:this.a,password:this.f})},iO.prototype.c=function(e,n){return ig(this.ka(e),n)},iO.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},rf(iM,{PROVIDER_ID:"password"}),rf(iM,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),rf(iM,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),iF.prototype.ka=function(e){return e.gb(iB(this))},iF.prototype.b=function(e,n){var r=iB(this);return r.idToken=n,sY(e,sZ,r)},iF.prototype.c=function(e,n){var r=iB(this);return r.operation="REAUTH",ig(e=sY(e,s$,r),n)},iF.prototype.w=function(){var e={providerId:"phone"};return this.a.fb&&(e.verificationId=this.a.fb),this.a.eb&&(e.verificationCode=this.a.eb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},iq.prototype.gb=function(e,n){var r=this.a.a;return ef(n.verify()).then(function(i){if("string"!=typeof i)throw new k("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===n.type){var o=v(e)?e.session:null,s=v(e)?e.phoneNumber:e;return(o&&o.type==id?o.Ha().then(function(e){return sY(r,sU,{idToken:e,phoneEnrollmentInfo:{phoneNumber:s,recaptchaToken:i}}).then(function(e){return e.phoneSessionInfo.sessionInfo})}):o&&o.type==ip?o.Ha().then(function(n){return sY(r,sB,{mfaPendingCredential:n,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:i}}).then(function(e){return e.phoneResponseInfo.sessionInfo})}):sY(r,sM,{phoneNumber:s,recaptchaToken:i})).then(function(e){return"function"==typeof n.reset&&n.reset(),e},function(e){throw"function"==typeof n.reset&&n.reset(),e})}throw new k("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')})},rf(iq,{PROVIDER_ID:"phone"}),rf(iq,{PHONE_SIGN_IN_METHOD:"phone"}),iH.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},iH.prototype.T=function(){return this.h},iH.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var i$=null;function iX(e){var n="unauthorized-domain",r=void 0,i=nd(e);e=i.a,"chrome-extension"==(i=i.c)?r=tq("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==i||"https"==i?r=tq("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):n="operation-not-supported-in-this-environment",k.call(this,n,r)}function iY(e,n,r){k.call(this,e,r),(e=n||{}).Kb&&rh(this,"email",e.Kb),e.ea&&rh(this,"phoneNumber",e.ea),e.credential&&rh(this,"credential",e.credential),e.$b&&rh(this,"tenantId",e.$b)}function iQ(e){if(e.code){var n=e.code||"";0==n.indexOf(C)&&(n=n.substring(C.length));var r={credential:iK(e),$b:e.tenantId};if(e.email)r.Kb=e.email;else if(e.phoneNumber)r.ea=e.phoneNumber;else if(!r.credential)return new k(n,e.message||void 0);return new iY(n,r,e.message)}return null}function iJ(){}function i0(e){return e.c||(e.c=e.b())}function i1(){}function i2(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var n=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],r=0;r<n.length;r++){var i=n[r];try{return new ActiveXObject(i),e.f=i}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function i3(){}function i4(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=I(this.qc,this),this.a.onerror=I(this.Tb,this),this.a.onprogress=I(this.rc,this),this.a.ontimeout=I(this.vc,this)}function i5(e,n){e.readyState=n,e.onreadystatechange&&e.onreadystatechange()}function i6(e,n,r){this.reset(e,n,r,void 0,void 0)}x(iX,k),x(iY,k),iY.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var n=this.credential&&this.credential.w();return n&&tv(e,n),e},iY.prototype.toJSON=function(){return this.w()},iJ.prototype.c=null,x(i1,iJ),i1.prototype.a=function(){var e=i2(this);return e?new ActiveXObject(e):new XMLHttpRequest},i1.prototype.b=function(){var e={};return i2(this)&&(e[0]=!0,e[1]=!0),e},o0=new i1,x(i3,iJ),i3.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new i4;throw Error("Unsupported browser")},i3.prototype.b=function(){return{}},(i=i4.prototype).open=function(e,n,r){if(null!=r&&!r)throw Error("Only async requests are supported.");this.a.open(e,n)},i.send=function(e){if(e){if("string"==typeof e)this.a.send(e);else throw Error("Only string data is supported")}else this.a.send()},i.abort=function(){this.a.abort()},i.setRequestHeader=function(){},i.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},i.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,i5(this,4)},i.Tb=function(){this.status=500,this.response=this.responseText="",i5(this,4)},i.vc=function(){this.Tb()},i.rc=function(){this.status=200,i5(this,1)},i.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},i6.prototype.a=null;var i8=0;function i9(e){this.f=e,this.b=this.c=this.a=null}function i7(e,n){this.name=e,this.value=n}i6.prototype.reset=function(e,n,r,i,o){"number"==typeof o||i8++,i||_(),delete this.a},i7.prototype.toString=function(){return this.name};var ot=new i7("SEVERE",1e3),oe=new i7("WARNING",900),on=new i7("CONFIG",700),or=new i7("FINE",500);i9.prototype.log=function(e,n,r){if(e.value>=function e(n){return n.c?n.c:n.a?e(n.a):(j("Root logger has no level set."),null)}(this).value)for(g(n)&&(n=n()),e=new i6(e,String(n),this.f),r&&(e.a=r),r=this;r;)r=r.a};var oi={},oo=null;function os(e){if(oo||(oo=new i9(""),oi[""]=oo,oo.c=on),!(n=oi[e])){n=new i9(e);var n,r=e.lastIndexOf("."),i=e.substr(r+1);(r=os(e.substr(0,r))).b||(r.b={}),r.b[i]=n,n.a=r,oi[e]=n}return n}function oa(e,n){e&&e.log(or,n,void 0)}function ou(e){this.f=e}function oc(e){e5.call(this),this.u=e,this.h=void 0,this.readyState=ol,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=os("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}x(ou,iJ),ou.prototype.a=function(){return new oc(this.f)},ou.prototype.b=(oG={},function(){return oG}),x(oc,e5);var ol=0;function oh(e){e.c.read().then(e.pc.bind(e)).catch(e.Va.bind(e))}function of(e){e.readyState=4,e.g=null,e.c=null,e.m=null,od(e)}function od(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function op(e){e5.call(this),this.headers=new nr,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=om,this.u=this.S=!1}(i=oc.prototype).open=function(e,n){if(this.readyState!=ol)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=n,this.readyState=1,od(this)},i.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var n={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(n.body=e),this.u.fetch(new Request(this.f,n)).then(this.uc.bind(this),this.Va.bind(this))},i.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,of(this)),this.readyState=ol},i.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,od(this)),this.a&&(this.readyState=3,od(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==c.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,oh(this)):e.text().then(this.tc.bind(this),this.Va.bind(this)))))},i.pc=function(e){if(this.a){var n=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});n&&(this.response=this.responseText+=n),e.done?of(this):od(this),3==this.readyState&&oh(this)}},i.tc=function(e){this.a&&(this.response=this.responseText=e,of(this))},i.sc=function(e){this.a&&(this.response=e,of(this))},i.Va=function(e){var n=this.i;n&&n.log(oe,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&of(this)},i.setRequestHeader=function(e,n){this.l.append(e,n)},i.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(oe,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},i.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(oe,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var n=this.b.entries(),r=n.next();!r.done;)r=r.value,e.push(r[0]+": "+r[1]),r=n.next();return e.join("\r\n")},Object.defineProperty(oc.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),x(op,e5);var om="";op.prototype.b=os("goog.net.XhrIo");var og=/^https?$/i,ov=["POST","PUT"];function oy(e){return"content-type"==e.toLowerCase()}function ob(e,n){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=n,ow(e),oT(e)}function ow(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function oE(e){if(e.c&&void 0!==u){if(e.C[1]&&4==oS(e)&&2==o_(e))oa(e.b,ox(e,"Local request error detected and ignored"));else if(e.i&&4==oS(e))e7(e.Wb,0,e);else if(e.dispatchEvent("readystatechange"),4==oS(e)){oa(e.b,ox(e,"Request complete")),e.c=!1;try{var n,r,i=o_(e);t:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var o=!0;break t;default:o=!1}if(!(n=o)){if(r=0===i){var s=String(e.l).match(ns)[1]||null;if(!s&&c.self&&c.self.location){var a=c.self.location.protocol;s=a.substr(0,a.length-1)}r=!og.test(s?s.toLowerCase():"")}n=r}if(n)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var l=2<oS(e)?e.a.statusText:""}catch(n){oa(e.b,"Can not get status: "+n.message),l=""}e.h=l+" ["+o_(e)+"]",ow(e)}}finally{oT(e)}}}}function oT(e,n){if(e.a){oI(e);var r=e.a,i=e.C[0]?d:null;e.a=null,e.C=null,n||e.dispatchEvent("ready");try{r.onreadystatechange=i}catch(n){(e=e.b)&&e.log(ot,"Problem encountered resetting onreadystatechange: "+n.message,void 0)}}}function oI(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(c.clearTimeout(e.s),e.s=null)}function oS(e){return e.a?e.a.readyState:0}function o_(e){try{return 2<oS(e)?e.a.status:-1}catch(e){return -1}}function ox(e,n){return n+" ["+e.P+" "+e.l+" "+o_(e)+"]"}function oA(e){this.g=[],this.u=oV,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function ok(e,n,r){e.a=!0,e.c=r,e.f=!n,oP(e)}function oN(e){if(e.a){if(!e.v)throw new oR(e);e.v=!1}}function oC(e,n,r,i){e.g.push([n,r,i]),e.a&&oP(e)}function oD(e){return W(e.g,function(e){return g(e[1])})}function oP(e){if(e.h&&e.a&&oD(e)){var n=e.h,r=oM[n];r&&(c.clearTimeout(r.a),delete oM[n]),e.h=0}e.b&&(e.b.l--,delete e.b),n=e.c;for(var i=r=!1;e.g.length&&!e.i;){var o=e.g.shift(),s=o[0],a=o[1];if(o=o[2],s=e.f?a:s)try{var u=s.call(o||e.s,n);void 0!==u&&(e.f=e.f&&(u==n||u instanceof Error),e.c=n=u),(O(n)||"function"==typeof c.Promise&&n instanceof c.Promise)&&(i=!0,e.i=!0)}catch(i){n=i,e.f=!0,oD(e)||(r=!0)}}e.c=n,i&&(u=I(e.m,e,!0),i=I(e.m,e,!1),n instanceof oA?(oC(n,u,i),n.C=!0):n.then(u,i)),r&&(oM[(n=new oL(n)).a]=n,e.h=n.a)}function oR(){L.call(this)}function oO(){L.call(this)}function oL(e){this.a=c.setTimeout(I(this.c,this),0),this.b=e}(i=op.prototype).Ma=function(){void 0!==u&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",oa(this.b,ox(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},i.abort=function(){this.a&&this.c&&(oa(this.b,ox(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),oT(this))},i.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),oT(this,!0)),op.bb.Da.call(this)},i.Wb=function(){this.ya||(this.N||this.i||this.f?oE(this):this.Jc())},i.Jc=function(){oE(this)},i.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case om:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(ot,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return oa(this.b,"Can not get response: "+e.message),null}},oA.prototype.cancel=function(e){if(this.a)this.c instanceof oA&&this.c.cancel();else{if(this.b){var n=this.b;delete this.b,e?n.cancel(e):(n.l--,0>=n.l&&n.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new oO(this),oN(this),ok(this,!1,e))}},oA.prototype.m=function(e,n){this.i=!1,ok(this,e,n)},oA.prototype.then=function(e,n,r){var i,o,s=new eo(function(e,n){i=e,o=n});return oC(this,i,function(e){e instanceof oO?s.cancel():o(e)}),s.then(e,n,r)},oA.prototype.$goog_Thenable=!0,x(oR,L),oR.prototype.message="Deferred has already fired",oR.prototype.name="AlreadyCalledError",x(oO,L),oO.prototype.message="Deferred was canceled",oO.prototype.name="CanceledError",oL.prototype.c=function(){throw delete oM[this.a],this.b};var oM={};function oj(e){var n,r,i,o={},s=o.document||document,a=t_(e).toString(),u=t7(document,"SCRIPT"),l={Xb:u,Ma:void 0},d=new oA(l),p=null,m=null!=o.timeout?o.timeout:5e3;return 0<m&&(p=window.setTimeout(function(){oF(u,!0);var e=new oq(oB,"Timeout reached for loading script "+a);oN(d),ok(d,!1,e)},m),l.Ma=p),u.onload=u.onreadystatechange=function(){u.readyState&&"loaded"!=u.readyState&&"complete"!=u.readyState||(oF(u,o.xd||!1,p),oN(d),ok(d,!0,null))},u.onerror=function(){oF(u,!0,p);var e=new oq(oU,"Error while loading script "+a);oN(d),ok(d,!1,e)},tv(l=o.attributes||{},{type:"text/javascript",charset:"UTF-8"}),t8(u,l),r=u,i=e,ty(r,"HTMLScriptElement"),r.src=t_(i),(i=r.ownerDocument&&r.ownerDocument.defaultView)&&i!=c?i=f(i.document):(null===h&&(h=f(c.document)),i=h),i&&r.setAttribute("nonce",i),((n=(s||document).getElementsByTagName("HEAD"))&&0!=n.length?n[0]:s.documentElement).appendChild(u),d}function oV(){if(this&&this.Xb){var e=this.Xb;e&&"SCRIPT"==e.tagName&&oF(e,!0,this.Ma)}}function oF(e,n,r){null!=r&&c.clearTimeout(r),e.onload=d,e.onerror=d,e.onreadystatechange=d,n&&window.setTimeout(function(){e&&e.parentNode&&e.parentNode.removeChild(e)},0)}var oU=0,oB=1;function oq(e,n){var r="Jsloader error (code #"+e+")";n&&(r+=": "+n),L.call(this,r),this.code=e}function oz(e){this.f=e}function oK(e,n,r){if(this.c=e,e=n||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||o3,this.g=tm(e.secureTokenHeaders||o4),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||o5,this.a=tm(e.firebaseHeaders||o6),r&&(this.a["X-Client-Version"]=r,this.g["X-Client-Version"]=r),r="Node"==nZ(),!(r=c.XMLHttpRequest||r&&J.INTERNAL.node&&J.INTERNAL.node.XMLHttpRequest)&&!nW())throw new k("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,nW()?this.f=new ou(self):n$()?this.f=new oz(r):this.f=new i3,this.b=null}x(oq,L),x(oz,iJ),oz.prototype.a=function(){return new this.f},oz.prototype.b=function(){return{}};var oG,oH,oW,oZ,o$,oX,oY,oQ,oJ,o0,o1,o2="idToken",o3=new ri(3e4,6e4),o4={"Content-Type":"application/x-www-form-urlencoded"},o5=new ri(3e4,6e4),o6={"Content-Type":"application/json"};function o8(e,n){n?e.a["X-Firebase-Locale"]=n:delete e.a["X-Firebase-Locale"]}function o9(e,n){n&&(e.l=o7("https://securetoken.googleapis.com/v1/token",n),e.h=o7("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",n),e.i=o7("https://identitytoolkit.googleapis.com/v2/",n))}function o7(e,n){return e=nd(e),n=nd(n.url),e.f=e.a+e.f,nu(e,n.c),e.a=n.a,nc(e,n.g),e.toString()}function st(e,n){n?(e.a["X-Client-Version"]=n,e.g["X-Client-Version"]=n):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function se(e,n,r,i,o,s,a){var u;(!(u=nQ(u=n1())!=nY?null:(u=u.match(/\sChrome\/(\d+)/i))&&2==u.length?parseInt(u[1],10):null)||!(30>u))&&(!tH||!t4||9<t4)||nW()?e=I(e.u,e):(o1||(o1=new eo(function(e,n){var r,i;r=e,i=n,((window.gapi||{}).client||{}).request?r():(c[sr]=function(){((window.gapi||{}).client||{}).request?r():i(Error("CORS_UNSUPPORTED"))},oC(oj(tx(sn,{onload:sr})),null,function(){i(Error("CORS_UNSUPPORTED"))},void 0))})),e=I(e.s,e)),e(n,r,i,o,s,a)}oK.prototype.T=function(){return this.b},oK.prototype.u=function(e,n,r,i,o,s){if(nW()&&(void 0===c.fetch||void 0===c.Headers||void 0===c.Request))throw new k("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new op(this.f);if(s){a.g=Math.max(0,s);var u=setTimeout(function(){a.dispatchEvent("timeout")},s)}e6(a,"complete",function(){u&&clearTimeout(u);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(n){return oa(e.b,"Can not get responseText: "+n.message),""}}(this))||null}catch(n){e=null}n&&n(e)}),e8(a,"ready",function(){u&&clearTimeout(u),eN(this)}),e8(a,"timeout",function(){u&&clearTimeout(u),eN(this),n&&n(null)}),function(e,n,r,i,o){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+n);r=r?r.toUpperCase():"GET",e.l=n,e.h="",e.P=r,e.J=!1,e.c=!0,e.a=e.D?e.D.a():o0.a(),e.C=e.D?i0(e.D):i0(o0),e.a.onreadystatechange=I(e.Wb,e);try{oa(e.b,ox(e,"Opening Xhr")),e.N=!0,e.a.open(r,String(n),!0),e.N=!1}catch(n){oa(e.b,ox(e,"Error opening Xhr: "+n.message)),ob(e,n);return}n=i||"";var s,a=new nr(e.headers);o&&function(e,n){if(e.forEach&&"function"==typeof e.forEach)e.forEach(n,void 0);else if(m(e)||"string"==typeof e)K(e,n,void 0);else for(var r=nn(e),i=ne(e),o=i.length,s=0;s<o;s++)n.call(void 0,i[s],r&&r[s],e)}(o,function(e,n){a.set(n,e)}),o=function(e){t:{for(var n=oy,r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)if(o in i&&n.call(void 0,i[o],o,e)){n=o;break t}n=-1}return 0>n?null:"string"==typeof e?e.charAt(n):e[n]}(a.Y()),i=c.FormData&&n instanceof c.FormData,!Z(ov,r)||o||i||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(e,n){this.a.setRequestHeader(n,e)},e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{oI(e),0<e.g&&(e.u=(s=e.a,tH&&t3(9)&&"number"==typeof s.timeout&&void 0!==s.ontimeout),oa(e.b,ox(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=I(e.Ma,e)):e.s=e7(e.Ma,e.g,e)),oa(e.b,ox(e,"Sending request")),e.i=!0,e.a.send(n),e.i=!1}catch(n){oa(e.b,ox(e,"Send error: "+n.message)),ob(e,n)}}(a,e,r,i,o)};var sn=new tb(tT,"https://apis.google.com/js/client.js?onload=%{onload}"),sr="__fcb"+Math.floor(1e6*Math.random()).toString();function si(e,n,r,i,o,s,a){var u=nd(n+r);nh(u,"key",e.c),a&&nh(u,"cb",Date.now().toString());var c="GET"==i;if(c)for(var l in o)o.hasOwnProperty(l)&&nh(u,l,o[l]);return new eo(function(n,r){se(e,u.toString(),function(e){e?e.error?r(sJ(e,s||{})):n(e):r(new k("network-request-failed"))},i,c?void 0:nD(n7(o)),e.a,e.v.get())})}function so(e){if("string"!=typeof(e=e.email)||!nz.test(e))throw new k("invalid-email")}function ss(e){"email"in e&&so(e)}function sa(e){if(!e[o2]){if(e.mfaPendingCredential)throw new k("multi-factor-auth-required",null,tm(e));throw new k("internal-error")}}function su(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new k("internal-error")}else{if(!e.sessionInfo)throw new k("missing-verification-id");if(!e.code)throw new k("missing-verification-code")}}oK.prototype.s=function(e,n,r,i,o){var s=this;o1.then(function(){window.gapi.client.setApiKey(s.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:r,body:i,headers:o,authType:"none",callback:function(e){window.gapi.auth.setToken(a),n&&n(e)}})}).o(function(e){n&&n({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})})},oK.prototype.Ab=function(){return sY(this,sF,{})},oK.prototype.Cb=function(e,n){return sY(this,sj,{idToken:e,email:n})},oK.prototype.Db=function(e,n){return sY(this,sV,{idToken:e,password:n})};var sc={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function sl(e){if(!e.phoneVerificationInfo)throw new k("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new k("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new k("missing-verification-code")}function sh(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new k("internal-error")}function sf(e,n){return n.oauthIdToken&&n.providerId&&0==n.providerId.indexOf("oidc.")&&!n.pendingToken&&(e.sessionId?n.nonce=e.sessionId:e.postBody&&nA(e=new nI(e.postBody),"nonce")&&(n.nonce=e.get("nonce"))),n}function sd(e){var n=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",n=iQ(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",n=iQ(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",n=iQ(e)):e.errorMessage&&(n=sQ(e.errorMessage)),n)throw n;sa(e)}function sp(e,n){return n.returnIdpCredential=!0,sY(e,sq,n)}function sm(e,n){return n.returnIdpCredential=!0,sY(e,sK,n)}function sg(e,n){return n.returnIdpCredential=!0,n.autoCreate=!1,sY(e,sz,n)}function sv(e){if(!e.oobCode)throw new k("invalid-action-code")}(i=oK.prototype).Eb=function(e,n){var r={idToken:e},i=[];return td(sc,function(e,o){var s=n[o];null===s?i.push(e):o in n&&(r[o]=s)}),i.length&&(r.deleteAttribute=i),sY(this,sj,r)},i.wb=function(e,n){return tv(e={requestType:"PASSWORD_RESET",email:e},n),sY(this,sP,e)},i.xb=function(e,n){return tv(e={requestType:"EMAIL_SIGNIN",email:e},n),sY(this,sN,e)},i.vb=function(e,n){return tv(e={requestType:"VERIFY_EMAIL",idToken:e},n),sY(this,sC,e)},i.Fb=function(e,n,r){return tv(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:n},r),sY(this,sD,e)},i.gb=function(e){return sY(this,sW,e)},i.ob=function(e,n){return sY(this,sL,{oobCode:e,newPassword:n})},i.Sa=function(e){return sY(this,sb,{oobCode:e})},i.kb=function(e){return sY(this,sy,{oobCode:e})};var sy={endpoint:"setAccountInfo",A:sv,Z:"email",B:!0},sb={endpoint:"resetPassword",A:sv,G:function(e){var n=e.requestType;if(!n||!e.email&&"EMAIL_SIGNIN"!=n&&"VERIFY_AND_CHANGE_EMAIL"!=n)throw new k("internal-error")},B:!0},sw={endpoint:"signupNewUser",A:function(e){if(so(e),!e.password)throw new k("weak-password")},G:sa,V:!0,B:!0},sE={endpoint:"createAuthUri",B:!0},sT={endpoint:"deleteAccount",O:["idToken"]},sI={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new k("internal-error")}},sS={endpoint:"emailLinkSignin",O:["email","oobCode"],A:so,G:sa,V:!0,B:!0},s_={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:so,G:sa,V:!0},sx={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:sl,G:sa,B:!0,Na:!0},sA={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:sl,G:sa,B:!0,Na:!0},sk={endpoint:"getAccountInfo"},sN={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new k("internal-error");so(e)},Z:"email",B:!0},sC={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new k("internal-error")},Z:"email",B:!0},sD={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new k("internal-error")},Z:"email",B:!0},sP={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new k("internal-error");so(e)},Z:"email",B:!0},sR={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},sO={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new k("internal-error")}},sL={endpoint:"resetPassword",A:sv,Z:"email",B:!0},sM={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},sj={endpoint:"setAccountInfo",O:["idToken"],A:ss,V:!0},sV={endpoint:"setAccountInfo",O:["idToken"],A:function(e){if(ss(e),!e.password)throw new k("weak-password")},G:sa,V:!0},sF={endpoint:"signupNewUser",G:sa,V:!0,B:!0},sU={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new k("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new k("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},sB={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},sq={endpoint:"verifyAssertion",A:sh,Za:sf,G:sd,V:!0,B:!0},sz={endpoint:"verifyAssertion",A:sh,Za:sf,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new k("user-not-found");if(e.errorMessage)throw sQ(e.errorMessage);sa(e)},V:!0,B:!0},sK={endpoint:"verifyAssertion",A:function(e){if(sh(e),!e.idToken)throw new k("internal-error")},Za:sf,G:sd,V:!0},sG={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new k("invalid-custom-token")},G:sa,V:!0,B:!0},sH={endpoint:"verifyPassword",A:function(e){if(so(e),!e.password)throw new k("wrong-password")},G:sa,V:!0,B:!0},sW={endpoint:"verifyPhoneNumber",A:su,G:sa,B:!0},sZ={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new k("internal-error");su(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",iQ(e);sa(e)}},s$={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:su,G:sa,B:!0},sX={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[o2]^!!e.refreshToken)throw new k("internal-error")},B:!0,Na:!0};function sY(e,n,r){if(!function(e,n){if(!n||!n.length)return!0;if(!e)return!1;for(var r=0;r<n.length;r++){var i=e[n[r]];if(null==i||""===i)return!1}return!0}(r,n.O))return ed(new k("internal-error"));var i,o=!!n.Na,s=n.Vb||"POST";return ef(r).then(n.A).then(function(){return n.V&&(r.returnSecureToken=!0),n.B&&e.b&&void 0===r.tenantId&&(r.tenantId=e.b),o?si(e,e.i,n.endpoint,s,r,n.Ib,n.mb||!1):si(e,e.h,n.endpoint,s,r,n.Ib,n.mb||!1)}).then(function(e){return i=e,n.Za?n.Za(r,i):i}).then(n.G).then(function(){if(!n.Z)return i;if(!(n.Z in i))throw new k("internal-error");return i[n.Z]})}function sQ(e){return sJ({error:{errors:[{message:e}],code:400,message:e}})}function sJ(e,n){var r=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(r=i[r]?new k(i[r]):null)return r;for(var o in r=e.error&&e.error.message||"",tv(i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},n||{}),n=(n=r.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<n.length?n[1]:void 0,i)if(0===r.indexOf(o))return new k(i[o],n);return!n&&e&&(n=n9(e)),new k("internal-error",n)}function s0(e){var n;this.b=e,this.a=null,this.sb=(n=this,(s4||(s4=new eo(function(e,n){function r(){rr(),n2("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){rr(),n(Error("Network Error"))},timeout:s2.get()})}if(n2("gapi.iframes.Iframe"))e();else if(n2("gapi.load"))r();else{var i="__iframefcb"+Math.floor(1e6*Math.random()).toString();c[i]=function(){n2("gapi.load")?r():n(Error("Network Error"))},ef(oj(i=tx(s1,{onload:i}))).o(function(){n(Error("Network Error"))})}}).o(function(e){throw s4=null,e}))).then(function(){return new eo(function(e,r){n2("gapi.iframes.getContext")().open({where:document.body,url:n.b,messageHandlersFilter:n2("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(i){function o(){clearTimeout(s),e()}n.a=i,n.a.restyle({setHideOnLeave:!1});var s=setTimeout(function(){r(Error("Network Error"))},s3.get());i.ping(o).then(o,function(){r(Error("Network Error"))})})})}))}var s1=new tb(tT,"https://apis.google.com/js/api.js?onload=%{onload}"),s2=new ri(3e4,6e4),s3=new ri(5e3,15e3),s4=null;function s5(e,n,r,i){this.l=e,this.h=n,this.i=r,this.g=i,this.f=null,e=this.g?np((e=nd(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):np("https",this.l,null,"/__/auth/iframe"),this.a=e,nh(this.a,"apiKey",this.h),nh(this.a,"appName",this.i),this.b=null,this.c=[]}function s6(e,n,r,i,o,s){this.u=e,this.s=n,this.c=r,this.m=i,this.v=s,this.i=this.g=this.l=null,this.a=o,this.h=this.f=null}function s8(e){try{return J.app(e).auth().Ga()}catch(e){return[]}}function s9(e,n,r,i,o,s){this.s=e,this.g=n,this.b=r,this.f=s,this.c=i||null,this.i=o||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function s7(e){var n=nj();return sY(e,sR,{}).then(function(e){return e.authorizedDomains||[]}).then(function(e){t:{var r=nd(n),i=r.c;r=r.a;for(var o=0;o<e.length;o++){var s=e[o],a=r;if(a=0==s.indexOf("chrome-extension://")?nd(s).a==a&&"chrome-extension"==i:("http"==i||"https"==i)&&(nq.test(s)?a==s:RegExp("^(.+\\."+(s=s.split(".").join("\\."))+"|"+s+")$","i").test(a))){e=!0;break t}}e=!1}if(!e)throw new iX(nj())})}function at(e){return e.m||(e.m=nK().then(function(){if(!e.u){var n=e.c,r=e.i,i=s8(e.b),o=new s5(e.s,e.g,e.b,e.f);o.f=n,o.b=r,o.c=Q(i||[]),e.u=o.toString()}e.v=new s0(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,n){e.sb.then(function(){e.a.register("authEvent",n,n2("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(e.v,function(n){var r={};if(n&&n.authEvent){var i=!1;for(r=0,n=iW(n.authEvent);r<e.h.length;r++)i=e.h[r](n)||i;return(r={}).status=i?"ACK":"ERROR",ef(r)}return r.status="ERROR",ef(r)})}(e)})),e.m}function ae(e){return e.l||(e.C=e.c?n0(e.c,s8(e.b)):null,e.l=new oK(e.g,R(e.i),e.C),e.f&&o9(e.l,e.f)),e.l}function an(e,n,r,i,o,s,a,u,c,l,h,f){return(e=new s6(e,n,r,i,o,f)).l=s,e.g=a,e.i=u,e.b=tm(c||null),e.f=l,e.zb(h).toString()}function ar(e){if(this.a=e||J.INTERNAL.reactNative&&J.INTERNAL.reactNative.AsyncStorage,!this.a)throw new k("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function ai(e){this.b=e,this.a={},this.f=I(this.c,this)}s5.prototype.toString=function(){return this.f?nh(this.a,"v",this.f):nx(this.a.b,"v"),this.b?nh(this.a,"eid",this.b):nx(this.a.b,"eid"),this.c.length?nh(this.a,"fw",this.c.join(",")):nx(this.a.b,"fw"),this.a.toString()},s6.prototype.zb=function(e){return this.h=e,this},s6.prototype.toString=function(){if(this.v){var e=nd(this.v.url);e=np(e.c,e.a,e.g,"/emulator/auth/handler")}else e=np("https",this.u,null,"/__/auth/handler");if(nh(e,"apiKey",this.s),nh(e,"appName",this.c),nh(e,"authType",this.m),this.a.isOAuthProvider){var n=this.a;try{var r=J.app(this.c).auth().la()}catch(e){r=null}for(var i in n.pb=r,nh(e,"providerId",this.a.providerId),n=n7((r=this.a).Jb))n[i]=n[i].toString();i=r.Qc,n=tm(n);for(var o=0;o<i.length;o++){var s=i[o];s in n&&delete n[s]}r.qb&&r.pb&&!n[r.qb]&&(n[r.qb]=r.pb),tp(n)||nh(e,"customParameters",n9(n))}if("function"==typeof this.a.Rb&&(r=this.a.Rb()).length&&nh(e,"scopes",r.join(",")),this.l?nh(e,"redirectUrl",this.l):nx(e.b,"redirectUrl"),this.g?nh(e,"eventId",this.g):nx(e.b,"eventId"),this.i?nh(e,"v",this.i):nx(e.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!nf(e,a)&&nh(e,a,this.b[a]);return this.h?nh(e,"tid",this.h):nx(e.b,"tid"),this.f?nh(e,"eid",this.f):nx(e.b,"eid"),(a=s8(this.c)).length&&nh(e,"fw",a.join(",")),e.toString()},(i=s9.prototype).Pb=function(e,n,r){var i=new k("popup-closed-by-user"),o=new k("web-storage-unsupported"),s=this,a=!1;return this.ma().then(function(){var r;(r={type:"webStorageSupport"},at(s).then(function(){var e;return(e=s.v).sb.then(function(){return new eo(function(n){e.a.send(r.type,r,n,n2("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}).then(function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()})).then(function(r){r||(e&&nU(e),n(o),a=!0)})}).o(function(){}).then(function(){if(!a)return new eo(function(n){return function r(){nt(2e3).then(function(){if(e&&!e.closed)return r();n()})}()})}).then(function(){if(!a)return nt(r).then(function(){n(i)})})},i.Yb=function(){var e=n1();return!n8(e)&&!rn(e)},i.Ub=function(){return!1},i.Nb=function(e,n,r,i,o,s,a,u){if(!e)return ed(new k("popup-blocked"));if(a&&!n8())return this.ma().o(function(n){nU(e),o(n)}),i(),ef();this.a||(this.a=s7(ae(this)));var c=this;return this.a.then(function(){var n=c.ma().o(function(n){throw nU(e),o(n),n});return i(),n}).then(function(){iG(r),a||nV(an(c.s,c.g,c.b,n,r,null,s,c.c,void 0,c.i,u,c.f),e)}).o(function(e){throw"auth/network-request-failed"==e.code&&(c.a=null),e})},i.Ob=function(e,n,r,i){this.a||(this.a=s7(ae(this)));var o=this;return this.a.then(function(){iG(n),nV(an(o.s,o.g,o.b,e,n,nj(),r,o.c,void 0,o.i,i,o.f))}).o(function(e){throw"auth/network-request-failed"==e.code&&(o.a=null),e})},i.ma=function(){var e=this;return at(this).then(function(){return e.v.sb}).o(function(){throw e.a=null,new k("network-request-failed")})},i.ac=function(){return!0},i.Ea=function(e){this.h.push(e)},i.Ta=function(e){X(this.h,function(n){return n==e})},(i=ar.prototype).get=function(e){return ef(this.a.getItem(e)).then(function(e){return e&&rt(e)})},i.set=function(e,n){return ef(this.a.setItem(e,n9(n)))},i.U=function(e){return ef(this.a.removeItem(e))},i.ca=function(){},i.ia=function(){};var ao=[];function as(e,n,r){tp(e.a)&&e.b.addEventListener("message",e.f),void 0===e.a[n]&&(e.a[n]=[]),e.a[n].push(r)}function aa(e){this.a=e}function au(e){this.c=e,this.b=!1,this.a=[]}function ac(e,n,r,i){var o,s,a,u,c=r||{},l=null;if(e.b)return ed(Error("connection_unavailable"));var h=i?800:50,f="undefined"!=typeof MessageChannel?new MessageChannel:null;return new eo(function(r,i){f?(o=Math.floor(1e20*Math.random()).toString(),f.port1.start(),a=setTimeout(function(){i(Error("unsupported_event"))},h),l={messageChannel:f,onMessage:s=function(e){e.data.eventId===o&&("ack"===e.data.status?(clearTimeout(a),u=setTimeout(function(){i(Error("timeout"))},3e3)):"done"===e.data.status?(clearTimeout(u),void 0!==e.data.response?r(e.data.response):i(Error("unknown_error"))):(clearTimeout(a),clearTimeout(u),i(Error("invalid_response"))))}},e.a.push(l),f.port1.addEventListener("message",s),e.c.postMessage({eventType:n,eventId:o,data:c},[f.port2])):i(Error("connection_unavailable"))}).then(function(n){return al(e,l),n}).o(function(n){throw al(e,l),n})}function al(e,n){if(n){var r=n.messageChannel,i=n.onMessage;r&&(r.port1.removeEventListener("message",i),r.port1.close()),X(e.a,function(e){return e==n})}}function ah(){if(!ap())throw new k("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=c.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e,n=this;nW()&&self?(this.v=function(){var e=nW()?self:null;if(K(ao,function(r){r.b==e&&(n=r)}),!n){var n=new ai(e);ao.push(n)}return n}(),as(this.v,"keyChanged",function(e,r){return ab(n).then(function(e){return 0<e.length&&K(n.a,function(n){n(e)}),{keyProcessed:Z(e,r.key)}})}),as(this.v,"ping",function(){return ef(["keyChanged"])})):((e=c.navigator)&&e.serviceWorker?ef().then(function(){return e.serviceWorker.ready}).then(function(e){return e.active||null}).o(function(){return null}):ef(null)).then(function(e){(n.h=e)&&(n.g=new au(new aa(e)),ac(n.g,"ping",null,!0).then(function(e){e[0].fulfilled&&Z(e[0].value,"keyChanged")&&(n.s=!0)}).o(function(){}))})}function af(e){return e.i||(e.i=function e(n){return new eo(function(r,i){var o=n.m.open("firebaseLocalStorageDb",1);o.onerror=function(e){try{e.preventDefault()}catch(e){}i(Error(e.target.error))},o.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){i(e)}},o.onsuccess=function(o){(o=o.target.result).objectStoreNames.contains("firebaseLocalStorage")?r(o):new eo(function(e,r){var i=n.m.deleteDatabase("firebaseLocalStorageDb");i.onsuccess=function(){e()},i.onerror=function(e){r(Error(e.target.error))}}).then(function(){return e(n)}).then(function(e){r(e)}).o(function(e){i(e)})}})}(e)),e.i}function ad(e,n){var r=0;return new eo(function i(o,s){af(e).then(n).then(o).o(function(n){if(!(3<++r))return af(e).then(function(n){return n.close(),e.i=void 0,i(o,s)}).o(function(e){s(e)});s(n)})})}function ap(){try{return!!c.indexedDB}catch(e){return!1}}function am(e){return e.objectStore("firebaseLocalStorage")}function ag(e,n){return e.transaction(["firebaseLocalStorage"],n?"readwrite":"readonly")}function av(e){return new eo(function(n,r){e.onsuccess=function(e){e&&e.target?n(e.target.result):n()},e.onerror=function(e){r(e.target.error)}})}function ay(e,n){var r;return e.g&&e.h&&((r=c.navigator)&&r.serviceWorker&&r.serviceWorker.controller||null)===e.h?ac(e.g,"keyChanged",{key:n},e.s).then(function(){}).o(function(){}):ef()}function ab(e){return af(e).then(function(e){var n=am(ag(e,!1));return n.getAll?av(n.getAll()):new eo(function(e,r){var i=[],o=n.openCursor();o.onsuccess=function(n){(n=n.target.result)?(i.push(n.value),n.continue()):e(i)},o.onerror=function(e){r(e.target.error)}})}).then(function(n){var r={},i=[];if(0==e.b){for(i=0;i<n.length;i++)r[n[i].fbase_key]=n[i].value;i=function e(n,r){var i,o=[];for(i in n)i in r?typeof n[i]!=typeof r[i]?o.push(i):"object"==typeof n[i]&&null!=n[i]&&null!=r[i]?0<e(n[i],r[i]).length&&o.push(i):n[i]!==r[i]&&o.push(i):o.push(i);for(i in r)i in n||o.push(i);return o}(e.c,r),e.c=r}return i})}function aw(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function aE(e){var n=this,r=null;this.a=[],this.type="indexedDB",this.c=e,this.b=ef().then(function(){if(ap()){var e=re(),i="__sak"+e;return aN||(aN=new ah),(r=aN).set(i,e).then(function(){return r.get(i)}).then(function(n){if(n!==e)throw Error("indexedDB not supported!");return r.U(i)}).then(function(){return r}).o(function(){return n.c})}return n.c}).then(function(e){return n.type=e.type,e.ca(function(e){K(n.a,function(n){n(e)})}),e})}function aT(){this.a={},this.type="inMemory"}function aI(){if(!function(){var e="Node"==nZ();if(!(e=aS()||e&&J.INTERNAL.node&&J.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==nZ())throw new k("internal-error","The LocalStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=aS()||J.INTERNAL.node.localStorage,this.type="localStorage"}function aS(){try{var e=c.localStorage,n=re();return e&&(e.setItem(n,"1"),e.removeItem(n)),e}catch(e){return null}}function a_(){this.type="nullStorage"}function ax(){if(!function(){var e="Node"==nZ();if(!(e=aA()||e&&J.INTERNAL.node&&J.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==nZ())throw new k("internal-error","The SessionStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=aA()||J.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function aA(){try{var e=c.sessionStorage,n=re();return e&&(e.setItem(n,"1"),e.removeItem(n)),e}catch(e){return null}}function ak(){var e={};e.Browser=aD,e.Node=aP,e.ReactNative=aR,e.Worker=aO,this.a=e[nZ()]}ai.prototype.c=function(e){var n=e.data.eventType,r=e.data.eventId,i=this.a[n];if(i&&0<i.length){e.ports[0].postMessage({status:"ack",eventId:r,eventType:n,response:null});var o=[];K(i,function(n){o.push(ef().then(function(){return n(e.origin,e.data.data)}))}),em(o).then(function(i){var o=[];K(i,function(e){o.push({fulfilled:e.Qb,value:e.value,reason:e.reason?e.reason.message:void 0})}),K(o,function(e){for(var n in e)void 0===e[n]&&delete e[n]}),e.ports[0].postMessage({status:"done",eventId:r,eventType:n,response:o})})}},aa.prototype.postMessage=function(e,n){this.a.postMessage(e,n)},au.prototype.close=function(){for(;0<this.a.length;)al(this,this.a[0]);this.b=!0},(i=ah.prototype).set=function(e,n){var r=this,i=!1;return ad(this,function(n){return av((n=am(ag(n,!0))).get(e))}).then(function(o){return ad(r,function(s){if(s=am(ag(s,!0)),o)return o.value=n,av(s.put(o));r.b++,i=!0;var a={};return a.fbase_key=e,a.value=n,av(s.add(a))})}).then(function(){return r.c[e]=n,ay(r,e)}).oa(function(){i&&r.b--})},i.get=function(e){return ad(this,function(n){return av(am(ag(n,!1)).get(e))}).then(function(e){return e&&e.value})},i.U=function(e){var n=this,r=!1;return ad(this,function(i){return r=!0,n.b++,av(am(ag(i,!0)).delete(e))}).then(function(){return delete n.c[e],ay(n,e)}).oa(function(){r&&n.b--})},i.ca=function(e){var n;0==this.a.length&&(n=this,aw(n),function e(){n.f=setTimeout(function(){n.l=ab(n).then(function(e){0<e.length&&K(n.a,function(n){n(e)})}).then(function(){e()}).o(function(n){"STOP_EVENT"!=n.message&&e()})},800)}()),this.a.push(e)},i.ia=function(e){X(this.a,function(n){return n==e}),0==this.a.length&&aw(this)},(i=aE.prototype).get=function(e){return this.b.then(function(n){return n.get(e)})},i.set=function(e,n){return this.b.then(function(r){return r.set(e,n)})},i.U=function(e){return this.b.then(function(n){return n.U(e)})},i.ca=function(e){this.a.push(e)},i.ia=function(e){X(this.a,function(n){return n==e})},(i=aT.prototype).get=function(e){return ef(this.a[e])},i.set=function(e,n){return this.a[e]=n,ef()},i.U=function(e){return delete this.a[e],ef()},i.ca=function(){},i.ia=function(){},(i=aI.prototype).get=function(e){var n=this;return ef().then(function(){return rt(n.a.getItem(e))})},i.set=function(e,n){var r=this;return ef().then(function(){var i=n9(n);null===i?r.U(e):r.a.setItem(e,i)})},i.U=function(e){var n=this;return ef().then(function(){n.a.removeItem(e)})},i.ca=function(e){c.window&&eW(c.window,"storage",e)},i.ia=function(e){c.window&&eX(c.window,"storage",e)},(i=a_.prototype).get=function(){return ef(null)},i.set=function(){return ef()},i.U=function(){return ef()},i.ca=function(){},i.ia=function(){},(i=ax.prototype).get=function(e){var n=this;return ef().then(function(){return rt(n.a.getItem(e))})},i.set=function(e,n){var r=this;return ef().then(function(){var i=n9(n);null===i?r.U(e):r.a.setItem(e,i)})},i.U=function(e){var n=this;return ef().then(function(){n.a.removeItem(e)})},i.ca=function(){},i.ia=function(){};var aN,aC,aD={F:aI,cb:ax},aP={F:aI,cb:ax},aR={F:ar,cb:a_},aO={F:aI,cb:a_},aL={rd:"local",NONE:"none",td:"session"};function aM(){var e=!!(!rn(n1())&&nH()),n=n8(),r=n3();this.m=e,this.h=n,this.l=r,this.a={},aC||(aC=new ak),e=aC;try{this.g=!nM()&&ra()||!c.indexedDB?new e.a.F:new aE(nW()?new aT:new e.a.F)}catch(e){this.g=new aT,this.h=!0}try{this.i=new e.a.cb}catch(e){this.i=new aT}this.v=new aT,this.f=I(this.Zb,this),this.b={}}function aj(){return e||(e=new aM),e}function aV(e,n){switch(n){case"session":return e.i;case"none":return e.v;default:return e.g}}function aF(e,n){return"firebase:"+e.name+(n?":"+n:"")}function aU(e,n,r){return r=aF(n,r),"local"==n.F&&(e.b[r]=null),aV(e,n.F).U(r)}function aB(e){e.c&&(clearInterval(e.c),e.c=null)}function aq(e){this.a=e,this.b=aj()}(i=aM.prototype).get=function(e,n){return aV(this,e.F).get(aF(e,n))},i.set=function(e,n,r){var i=aF(e,r),o=this,s=aV(this,e.F);return s.set(i,n).then(function(){return s.get(i)}).then(function(n){"local"==e.F&&(o.b[i]=n)})},i.addListener=function(e,n,r){var i;e=aF(e,n),this.l&&(this.b[e]=c.localStorage.getItem(e)),tp(this.a)&&(aV(this,"local").ca(this.f),this.h||(nM()||!ra())&&c.indexedDB||!this.l||(i=this,aB(i),i.c=setInterval(function(){for(var e in i.a){var n=c.localStorage.getItem(e),r=i.b[e];n!=r&&(i.b[e]=n,n=new eL({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),i.Zb(n))}},1e3))),this.a[e]||(this.a[e]=[]),this.a[e].push(r)},i.removeListener=function(e,n,r){e=aF(e,n),this.a[e]&&(X(this.a[e],function(e){return e==r}),0==this.a[e].length&&delete this.a[e]),tp(this.a)&&(aV(this,"local").ia(this.f),aB(this))},i.Zb=function(e){if(e&&e.g){var n=e.a.key;if(null==n)for(var r in this.a){var i=this.b[r];void 0===i&&(i=null);var o=c.localStorage.getItem(r);o!==i&&(this.b[r]=o,this.nb(r))}else if(0==n.indexOf("firebase:")&&this.a[n]){if(void 0!==e.a.a?aV(this,"local").ia(this.f):aB(this),this.m){if(r=c.localStorage.getItem(n),(i=e.a.newValue)!==r)null!==i?c.localStorage.setItem(n,i):c.localStorage.removeItem(n);else if(this.b[n]===i&&void 0===e.a.a)return}var s=this;r=function(){(void 0!==e.a.a||s.b[n]!==c.localStorage.getItem(n))&&(s.b[n]=c.localStorage.getItem(n),s.nb(n))},tH&&t4&&10==t4&&c.localStorage.getItem(n)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(r,10):r()}}else K(e,I(this.nb,this))},i.nb=function(e){this.a[e]&&K(this.a[e],function(e){e()})};var az={name:"authEvent",F:"local"};function aK(){this.a=aj()}function aG(e,r){this.b=aH,this.f=c.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=r,this.l=c.Int32Array?new Int32Array(64):Array(64),void 0===n&&(n=c.Int32Array?new Int32Array(aJ):aJ),this.reset()}x(aG,function(){this.b=-1});for(var aH=64,aW=aH-1,aZ=[],a$=0;a$<aW;a$++)aZ[a$]=0;var aX=Y(128,aZ);function aY(e){for(var r=e.f,i=e.l,o=0,s=0;s<r.length;)i[o++]=r[s]<<24|r[s+1]<<16|r[s+2]<<8|r[s+3],s=4*o;for(r=16;64>r;r++){s=0|i[r-15],o=0|i[r-2];var a=(0|i[r-16])+((s>>>7|s<<25)^(s>>>18|s<<14)^s>>>3)|0,u=(0|i[r-7])+((o>>>17|o<<15)^(o>>>19|o<<13)^o>>>10)|0;i[r]=a+u|0}o=0|e.a[0],s=0|e.a[1];var c=0|e.a[2],l=0|e.a[3],h=0|e.a[4],f=0|e.a[5],d=0|e.a[6];for(r=0,a=0|e.a[7];64>r;r++){var p=((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+(o&s^o&c^s&c)|0;u=h&f^~h&d,u=(a=a+((h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))|0)+((u=u+(0|n[r])|0)+(0|i[r])|0)|0,a=d,d=f,f=h,h=l+u|0,l=c,c=s,s=o,o=u+p|0}e.a[0]=e.a[0]+o|0,e.a[1]=e.a[1]+s|0,e.a[2]=e.a[2]+c|0,e.a[3]=e.a[3]+l|0,e.a[4]=e.a[4]+h|0,e.a[5]=e.a[5]+f|0,e.a[6]=e.a[6]+d|0,e.a[7]=e.a[7]+a|0}function aQ(e,n,r){void 0===r&&(r=n.length);var i=0,o=e.c;if("string"==typeof n)for(;i<r;)e.f[o++]=n.charCodeAt(i++),o==e.b&&(aY(e),o=0);else if(m(n))for(;i<r;){var s=n[i++];if(!("number"==typeof s&&0<=s&&255>=s&&s==(0|s)))throw Error("message must be a byte array");e.f[o++]=s,o==e.b&&(aY(e),o=0)}else throw Error("message must be string or array");e.c=o,e.g+=r}aG.prototype.reset=function(){this.g=this.c=0,this.a=c.Int32Array?new Int32Array(this.h):Q(this.h)};var aJ=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function a0(){aG.call(this,8,a1)}x(a0,aG);var a1=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function a2(e,n,r,i,o,s){this.v=e,this.i=n,this.l=r,this.m=i||null,this.u=o||null,this.s=s,this.h=n+":"+r,this.C=new aK,this.g=new aq(this.h),this.f=null,this.b=[],this.a=this.c=null}function a3(e){return new k("invalid-cordova-configuration",e)}function a4(e,n){for(var r=0;r<e.b.length;r++)try{e.b[r](n)}catch(e){}}function a5(e){return e.f||(e.f=e.ma().then(function(){return new eo(function(n){e.Ea(function r(i){return n(i),e.Ta(r),!1}),function(e){function n(n){s=!0,a&&a.cancel(),a6(e).then(function(r){var i=o;if(r&&n&&n.url){var s=null;-1!=(i=il(n.url)).indexOf("/__/auth/callback")&&(s=(s="object"==typeof(s=rt(nf(s=nd(i),"firebaseError")||null))?N(s):null)?new iH(r.c,r.b,null,null,s,null,r.T()):new iH(r.c,r.b,i,r.f,null,null,r.T())),i=s||o}a4(e,i)})}var r,i,o=new iH("unknown",null,null,null,new k("no-auth-event")),s=!1,a=nt(500).then(function(){return a6(e).then(function(){s||a4(e,o)})}),u=c.handleOpenURL;c.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(n2("BuildInfo.packageName",c).toLowerCase()+"://")&&n({url:e}),"function"==typeof u)try{u(e)}catch(e){console.error(e)}},i$||(i$=new iZ),r=n,(i=i$).a.push(r),i.b||(i.b=function(e){for(var n=0;n<i.a.length;n++)i.a[n](e)},"function"==typeof(r=n2("universalLinks.subscribe",c))&&r(null,i.b))}(e)})})),e.f}function a6(e){var n,r=null;return(n=e.g).b.get(az,n.a).then(function(e){return iW(e)}).then(function(n){return r=n,aU((n=e.g).b,az,n.a)}).then(function(){return r})}function a8(e){this.a=e,this.b=aj()}(i=a2.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(nG(void 0)?nK().then(function(){return new eo(function(e,n){var r=c.document,i=setTimeout(function(){n(Error("Cordova framework is not ready."))},1e3);r.addEventListener("deviceready",function(){clearTimeout(i),e()},!1)})}):ed(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof n2("universalLinks.subscribe",c))throw a3("cordova-universal-links-plugin-fix is not installed");if(void 0===n2("BuildInfo.packageName",c))throw a3("cordova-plugin-buildinfo is not installed");if("function"!=typeof n2("cordova.plugins.browsertab.openUrl",c))throw a3("cordova-plugin-browsertab is not installed");if("function"!=typeof n2("cordova.InAppBrowser.open",c))throw a3("cordova-plugin-inappbrowser is not installed")},function(){throw new k("cordova-not-ready")})},i.Pb=function(e,n){return n(new k("operation-not-supported-in-this-environment")),ef()},i.Nb=function(){return ed(new k("operation-not-supported-in-this-environment"))},i.ac=function(){return!1},i.Yb=function(){return!0},i.Ub=function(){return!0},i.Ob=function(e,n,r,i){if(this.c)return ed(new k("redirect-operation-pending"));var o=this,s=c.document,a=null,u=null,l=null,h=null;return this.c=ef().then(function(){return iG(n),a5(o)}).then(function(){return function(e,n,r,i,o){var s=function(){for(var e=20,n=[];0<e;)n.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return n.join("")}(),a=new iH(n,i,null,s,new k("no-auth-event"),null,o),u=n2("BuildInfo.packageName",c);if("string"!=typeof u)throw new k("invalid-cordova-configuration");var l=n2("BuildInfo.displayName",c),h={};if(n1().toLowerCase().match(/iphone|ipad|ipod/))h.ibi=u;else{if(!n1().toLowerCase().match(/android/))return ed(new k("operation-not-supported-in-this-environment"));h.apn=u}l&&(h.appDisplayName=l),s=function(e){var n=new a0;aQ(n,e),e=[];var r=8*n.g;56>n.c?aQ(n,aX,56-n.c):aQ(n,aX,n.b-(n.c-56));for(var i=63;56<=i;i--)n.f[i]=255&r,r/=256;for(aY(n),i=r=0;i<n.i;i++)for(var o=24;0<=o;o-=8)e[r++]=n.a[i]>>o&255;return H(e,function(e){return 1<(e=e.toString(16)).length?e:"0"+e}).join("")}(s),h.sessionId=s;var f=an(e.v,e.i,e.l,n,r,null,i,e.m,h,e.u,o,e.s);return e.ma().then(function(){var n=e.h;return e.C.a.set(az,a.w(),n)}).then(function(){var n=n2("cordova.plugins.browsertab.isAvailable",c);if("function"!=typeof n)throw new k("invalid-cordova-configuration");var r=null;n(function(n){if(n){if("function"!=typeof(r=n2("cordova.plugins.browsertab.openUrl",c)))throw new k("invalid-cordova-configuration");r(f)}else{if("function"!=typeof(r=n2("cordova.InAppBrowser.open",c)))throw new k("invalid-cordova-configuration");n=n1(),e.a=r(f,n.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||n.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(o,e,n,r,i)}).then(function(){return new eo(function(e,n){u=function(){var n=n2("cordova.plugins.browsertab.close",c);return e(),"function"==typeof n&&n(),o.a&&"function"==typeof o.a.close&&(o.a.close(),o.a=null),!1},o.Ea(u),l=function(){a||(a=nt(2e3).then(function(){n(new k("redirect-cancelled-by-user"))}))},h=function(){ro()&&l()},s.addEventListener("resume",l,!1),n1().toLowerCase().match(/android/)||s.addEventListener("visibilitychange",h,!1)}).o(function(e){return a6(o).then(function(){throw e})})}).oa(function(){l&&s.removeEventListener("resume",l,!1),h&&s.removeEventListener("visibilitychange",h,!1),a&&a.cancel(),u&&o.Ta(u),o.c=null})},i.Ea=function(e){this.b.push(e),a5(this).o(function(n){"auth/invalid-cordova-configuration"===n.code&&e(n=new iH("unknown",null,null,null,new k("no-auth-event")))})},i.Ta=function(e){X(this.b,function(n){return n==e})};var a9={name:"pendingRedirect",F:"session"};function a7(e){return aU(e.b,a9,e.a)}function ut(e,n,r,i){this.i={},this.u=0,this.D=e,this.v=n,this.m=r,this.J=i,this.h=[],this.f=!1,this.l=I(this.s,this),this.b=new um,this.C=new uw,this.g=new a8(ud(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=ue(this.D,this.v,this.m,oH,this.J)}function ue(e,n,r,i,o){var s=J.SDK_VERSION||null;return nG()?new a2(e,n,r,s,i,o):new s9(e,n,r,s,i,o)}function un(e){e.f||(e.f=!0,e.a.Ea(e.l));var n=e.a;return e.a.ma().o(function(r){throw e.a==n&&e.reset(),r})}function ur(e){e.a.Yb()&&un(e).o(function(n){var r=new iH("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));uc(n)&&e.s(r)}),e.a.Ub()||ug(e.b)}function ui(e,n){var r;Z(e.h,n)||e.h.push(n),e.f||(r=e.g).b.get(a9,r.a).then(function(e){return"pending"==e}).then(function(n){n?a7(e.g).then(function(){un(e).o(function(n){var r=new iH("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));uc(n)&&e.s(r)})}):ur(e)}).o(function(){ur(e)})}function uo(e,n){X(e.h,function(e){return e==n})}ut.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=ue(this.D,this.v,this.m,null,this.J),this.i={}},ut.prototype.s=function(e){if(!e)throw new k("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var n=!1,r=0;r<this.h.length;r++){var i=this.h[r];if(i.Gb(e.c,e.b)){(n=this.c[e.c])&&(n.h(e,i),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),n=!0;break}}return ug(this.b),n};var us=new ri(2e3,1e4),ua=new ri(3e4,6e4);function uu(e,n,r,i,o,s,a){return e.a.Nb(n,r,i,function(){e.f||(e.f=!0,e.a.Ea(e.l))},function(){e.reset()},o,s,a)}function uc(e){return!!e&&"auth/cordova-not-ready"==e.code}function ul(e,n,r,i,o){var s;return(s=e.g).b.set(a9,"pending",s.a).then(function(){return e.a.Ob(n,r,i,o).o(function(n){if(uc(n))throw new k("operation-not-supported-in-this-environment");return a7(e.g).then(function(){throw n})}).then(function(){return e.a.ac()?new eo(function(){}):a7(e.g).then(function(){return e.ra()}).then(function(){}).o(function(){})})})}function uh(e,n,r,i,o){return e.a.Pb(i,function(e){n.na(r,null,e,o)},us.get())}ut.prototype.ra=function(){return this.b.ra()};var uf={};function ud(e,n,r){return e=e+":"+n,r&&(e=e+":"+r.url),e}function up(e,n,r,i){var o=ud(n,r,i);return uf[o]||(uf[o]=new ut(e,n,r,i)),uf[o]}function um(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function ug(e){e.g||(e.g=!0,ub(e,!1,null,null))}function uv(e){e.g&&!e.i&&ub(e,!1,null,null)}function uy(e,n){if(e.b=function(){return ef(n)},e.f.length)for(var r=0;r<e.f.length;r++)e.f[r](n)}function ub(e,n,r,i){n?i?function(e,n){if(e.b=function(){return ed(n)},e.c.length)for(var r=0;r<e.c.length;r++)e.c[r](n)}(e,i):uy(e,r):uy(e,{user:null}),e.f=[],e.c=[]}function uw(){}function uE(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(e){this.jb=e},enumerable:!1})}function uT(e,n){this.a=n,rh(this,"verificationId",e)}function uI(e,n,r,i){return new iq(e).gb(n,r).then(function(e){return new uT(e,i)})}function uS(e){var n=r5(e);if(!(n&&n.exp&&n.auth_time&&n.iat))throw new k("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");rf(this,{token:e,expirationTime:rs(1e3*n.exp),authTime:rs(1e3*n.auth_time),issuedAtTime:rs(1e3*n.iat),signInProvider:n.firebase&&n.firebase.sign_in_provider?n.firebase.sign_in_provider:null,signInSecondFactor:n.firebase&&n.firebase.sign_in_second_factor?n.firebase.sign_in_second_factor:null,claims:n})}function u_(e,n,r){var i=n&&n[uA];if(!i)throw new k("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=tm(n),this.g=r,this.c=new ih(null,i),this.b=[];var o=this;K(n[ux]||[],function(e){(e=rg(e))&&o.b.push(e)}),rh(this,"auth",this.a),rh(this,"session",this.c),rh(this,"hints",this.b)}um.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},um.prototype.h=function(e,n){if(e){this.reset(),this.g=!0;var r=e.c,i=e.b,o=e.a&&"auth/web-storage-unsupported"==e.a.code,s=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!o&&!s),"unknown"!=r||o||s?e.a?(ub(this,!0,null,e.a),ef()):n.Fa(r,i)?function(e,n,r){r=r.Fa(n.c,n.b);var i=n.g,o=n.f,s=n.i,a=n.T(),u=!!n.c.match(/Redirect$/);r(i,o,a,s).then(function(n){ub(e,u,n,null)}).o(function(n){ub(e,u,null,n)})}(this,e,n):ed(new k("invalid-auth-event")):(ub(this,!1,null,null),ef())}else ed(new k("invalid-auth-event"))},um.prototype.ra=function(){var e=this;return new eo(function(n,r){var i,o;e.b?e.b().then(n,r):(e.f.push(n),e.c.push(r),i=e,o=new k("timeout"),i.a&&i.a.cancel(),i.a=nt(ua.get()).then(function(){i.b||(i.g=!0,ub(i,!0,null,o))}))})},uw.prototype.h=function(e,n){if(e){var r=e.c,i=e.b;e.a?(n.na(e.c,null,e.a,e.b),ef()):n.Fa(r,i)?function(e,n){var r=e.b,i=e.c;n.Fa(i,r)(e.g,e.f,e.T(),e.i).then(function(e){n.na(i,e,null,r)}).o(function(e){n.na(i,null,e,r)})}(e,n):ed(new k("invalid-auth-event"))}else ed(new k("invalid-auth-event"))},uT.prototype.confirm=function(e){return e=iz(this.verificationId,e),this.a(e)};var ux="mfaInfo",uA="mfaPendingCredential";function uk(e,n,r,i){k.call(this,"multi-factor-auth-required",i,n),this.b=new u_(e,n,r),rh(this,"resolver",this.b)}function uN(e,n,r){if(e&&v(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new uk(n,e.serverResponse,r,e.message)}catch(e){}return null}function uC(){}function uD(e){rh(this,"factorId",e.fa),this.a=e}function uP(e){if(uD.call(this,e),this.a.fa!=iq.PROVIDER_ID)throw new k("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function uR(e,n){for(var r in eO.call(this,e),n)this[r]=n[r]}function uO(e,n){this.a=e,this.b=[],this.c=I(this.yc,this),eW(this.a,"userReloaded",this.c);var r=[];n&&n.multiFactor&&n.multiFactor.enrolledFactors&&K(n.multiFactor.enrolledFactors,function(e){var n=null,i={};if(e){e.uid&&(i[rb]=e.uid),e.displayName&&(i[rv]=e.displayName),e.enrollmentTime&&(i[ry]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(i[rw]=e.phoneNumber);try{n=new rE(i)}catch(e){}e=n}else e=null;e&&r.push(e)}),uL(this,r)}function uL(e,n){e.b=n,rh(e,"enrolledFactors",n)}function uM(e,n,r){if(this.h=e,this.i=n,this.g=r,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function uj(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function uV(e,n){void 0===n&&(n=e.b?(n=e.b).a-n.g:0),e.c=Date.now()+1e3*n}function uF(e,n){e.b=r4(n[o2]||""),e.a=n.refreshToken,uV(e,void 0!==(n=n.expiresIn)?Number(n):void 0)}function uU(e,n){this.a=e||null,this.b=n||null,rf(this,{lastSignInTime:rs(n||null),creationTime:rs(e||null)})}function uB(e,n,r,i,o,s){rf(this,{uid:e,displayName:i||null,photoURL:o||null,email:r||null,phoneNumber:s||null,providerId:n})}function uq(e,n,r){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var i,o=J.SDK_VERSION?n0(J.SDK_VERSION):null;this.a=new oK(this.l,R(oH),o),(this.u=e.emulatorConfig||null)&&o9(this.a,this.u),this.h=new uj(this.a),uY(this,n[o2]),uF(this.h,n),rh(this,"refreshToken",this.h.a),u0(this,r||{}),e5.call(this),this.P=!1,this.s&&n4()&&(this.b=up(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=(i=this,new uM(function(){return i.I(!0)},function(e){return!!e&&"auth/network-request-failed"==e.code},function(){var e=i.h.c-Date.now()-3e5;return 0<e?e:0})),this.ba=I(this.ib,this);var s=this;this.za=null,this.Pa=function(e){s.xa(e.h)},this.qa=null,this.Ba=function(e){uz(s,e.c)},this.$=null,this.aa=[],this.Oa=function(e){uH(s,e.f)},this.ja=null,this.S=new uO(this,r),rh(this,"multiFactor",this.S)}function uz(e,n){e.u=n,o9(e.a,n),e.b&&(n=e.b,e.b=up(e.s,e.l,e.m,e.u),e.P&&(uo(n,e),ui(e.b,e)))}function uK(e,n){e.qa&&eX(e.qa,"languageCodeChanged",e.Pa),(e.qa=n)&&eW(n,"languageCodeChanged",e.Pa)}function uG(e,n){e.$&&eX(e.$,"emulatorConfigChanged",e.Ba),(e.$=n)&&eW(n,"emulatorConfigChanged",e.Ba)}function uH(e,n){e.aa=n,st(e.a,J.SDK_VERSION?n0(J.SDK_VERSION,e.aa):null)}function uW(e,n){e.ja&&eX(e.ja,"frameworkChanged",e.Oa),(e.ja=n)&&eW(n,"frameworkChanged",e.Oa)}function uZ(e){try{return J.app(e.m).auth()}catch(n){throw new k("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function u$(e){e.J||e.D.b||(e.D.start(),eX(e,"tokenChanged",e.ba),eW(e,"tokenChanged",e.ba))}function uX(e){eX(e,"tokenChanged",e.ba),e.D.stop()}function uY(e,n){e.Aa=n,rh(e,"_lat",n)}function uQ(e){for(var n=[],r=0;r<e.W.length;r++)n.push(e.W[r](e));return em(n).then(function(){return e})}function uJ(e){e.b&&!e.P&&(e.P=!0,ui(e.b,e))}function u0(e,n){rf(e,{uid:n.uid,displayName:n.displayName||null,photoURL:n.photoURL||null,email:n.email||null,emailVerified:n.emailVerified||!1,phoneNumber:n.phoneNumber||null,isAnonymous:n.isAnonymous||!1,tenantId:n.tenantId||null,metadata:new uU(n.createdAt,n.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function u1(){}function u2(e){return ef().then(function(){if(e.J)throw new k("app-deleted")})}function u3(e){return H(e.providerData,function(e){return e.providerId})}function u4(e,n){n&&(u5(e,n.providerId),e.providerData.push(n))}function u5(e,n){X(e.providerData,function(e){return e.providerId==n})}function u6(e,n,r){("uid"!=n||r)&&e.hasOwnProperty(n)&&rh(e,n,r)}function u8(e,n){var r,i,o;e!=n&&(rf(e,{uid:n.uid,displayName:n.displayName,photoURL:n.photoURL,email:n.email,emailVerified:n.emailVerified,phoneNumber:n.phoneNumber,isAnonymous:n.isAnonymous,tenantId:n.tenantId,providerData:[]}),n.metadata?rh(e,"metadata",(r=n.metadata,new uU(r.a,r.b))):rh(e,"metadata",new uU),K(n.providerData,function(n){u4(e,n)}),i=e.h,o=n.h,i.b=o.b,i.a=o.a,i.c=o.c,rh(e,"refreshToken",e.h.a),uL(e.S,n.S.b))}function u9(e){return e.I().then(function(n){var r=e.isAnonymous;return sY(e.a,sk,{idToken:n}).then(I(e.Kc,e)).then(function(){return r||u6(e,"isAnonymous",!1),n})})}function u7(e,n){n[o2]&&e.Aa!=n[o2]&&(uF(e.h,n),e.dispatchEvent(new uR("tokenChanged")),uY(e,n[o2]),u6(e,"refreshToken",e.h.a))}function ct(e,n){return u9(e).then(function(){if(Z(u3(e),n))return uQ(e).then(function(){throw new k("provider-already-linked")})})}function ce(e,n,r){return rd({user:e,credential:iK(n),additionalUserInfo:n=it(n),operationType:r})}function cn(e,n){return u7(e,n),e.reload().then(function(){return e})}function cr(e,n,r,i,o){if(!n4())return ed(new k("operation-not-supported-in-this-environment"));if(e.i&&!o)return ed(e.i);var s=r7(r.providerId),a=re(e.uid+":::"),u=null;(!n8()||nH())&&e.s&&r.isOAuthProvider&&(u=an(e.s,e.l,e.m,n,r,null,a,J.SDK_VERSION||null,null,null,e.tenantId,e.u));var c=nB(u,s&&s.va,s&&s.ua);return i=i().then(function(){if(co(e),!o)return e.I().then(function(){})}).then(function(){return uu(e.b,c,n,r,a,!!u,e.tenantId)}).then(function(){return new eo(function(r,i){e.na(n,null,new k("cancelled-popup-request"),e.g||null),e.f=r,e.C=i,e.g=a,e.c=uh(e.b,e,n,c,a)})}).then(function(e){return c&&nU(c),e?rd(e):null}).o(function(e){throw c&&nU(c),e}),cs(e,i,o)}function ci(e,n,r,i,o){if(!n4())return ed(new k("operation-not-supported-in-this-environment"));if(e.i&&!o)return ed(e.i);var s=null,a=re(e.uid+":::");return i=i().then(function(){if(co(e),!o)return e.I().then(function(){})}).then(function(){return e.ga=a,uQ(e)}).then(function(n){return e.ha&&(n=(n=e.ha).b.set(cc,e.w(),n.a)),n}).then(function(){return ul(e.b,n,r,a,e.tenantId)}).o(function(n){if(s=n,e.ha)return cl(e.ha);throw s}).then(function(){if(s)throw s}),cs(e,i,o)}function co(e){if(!e.b||!e.P){if(e.b&&!e.P)throw new k("internal-error");throw new k("auth-domain-config-required")}}function cs(e,n,r){var i,o=(i=e).i&&!r?(n.cancel(),ed(i.i)):n.o(function(e){throw e&&("auth/user-disabled"==e.code||"auth/user-token-expired"==e.code)&&(i.i||i.dispatchEvent(new uR("userInvalidated")),i.i=e),e});return e.N.push(o),o.oa(function(){$(e.N,o)}),o.o(function(n){var r=null;throw n&&"auth/multi-factor-auth-required"===n.code&&(r=uN(n.w(),uZ(e),I(e.jc,e))),r||n})}function ca(e){if(!e.apiKey)return null;var n={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},r={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;r[o2]=e.stsTokenManager.accessToken,r.refreshToken=e.stsTokenManager.refreshToken||null;var i=e.stsTokenManager.expirationTime;i&&(r.expiresIn=(i-Date.now())/1e3);var o=new uq(n,r,e);return e.providerData&&K(e.providerData,function(e){e&&u4(o,rd(e))}),e.redirectEventId&&(o.ga=e.redirectEventId),o}function cu(e){this.a=e,this.b=aj()}u_.prototype.Rc=function(e){var n=this;return e.tb(this.a.a,this.c).then(function(e){var r=tm(n.f);return delete r[ux],delete r[uA],tv(r,e),n.g(r)})},x(uk,k),uC.prototype.tb=function(e,n,r){var i,o;return n.type==id?(i=this,n.Ha().then(function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),tv(n,{phoneVerificationInfo:iB(i.a)}),sY(e,sx,n)})):(o=this,n.Ha().then(function(n){return tv(n={mfaPendingCredential:n},{phoneVerificationInfo:iB(o.a)}),sY(e,sA,n)}))},x(uD,uC),x(uP,uD),x(uR,eO),(i=uO.prototype).yc=function(e){var n,r;uL(this,(n=e.hd,r=[],K(n.mfaInfo||[],function(e){(e=rg(e))&&r.push(e)}),r))},i.Sb=function(){return this.a.I().then(function(e){return new ih(e,null)})},i.fc=function(e,n){var r=this,i=this.a.a;return this.Sb().then(function(r){return e.tb(i,r,n)}).then(function(e){return u7(r.a,e),r.a.reload()})},i.bd=function(e){var n=this,r="string"==typeof e?e:e.uid,i=this.a.a;return this.a.I().then(function(e){return sY(i,sX,{idToken:e,mfaEnrollmentId:r})}).then(function(e){var i=G(n.b,function(e){return e.uid!=r});return uL(n,i),u7(n.a,e),n.a.reload().o(function(e){if("auth/user-token-expired"!=e.code)throw e})})},i.w=function(){return{multiFactor:{enrolledFactors:H(this.b,function(e){return e.w()})}}},uM.prototype.start=function(){this.a=this.c,function e(n,r){var i,o;n.stop(),n.b=nt((i=n,(o=r)?(i.a=i.c,i.g()):(o=i.a,i.a*=2,i.a>i.f&&(i.a=i.f),o))).then(function(){var e,n;return e=c.document,n=null,ro()||!e?ef():new eo(function(r){n=function(){ro()&&(e.removeEventListener("visibilitychange",n,!1),r())},e.addEventListener("visibilitychange",n,!1)}).o(function(r){throw e.removeEventListener("visibilitychange",n,!1),r})}).then(function(){return n.h()}).then(function(){e(n,!0)}).o(function(r){n.i(r)&&e(n,!1)})}(this,!0)},uM.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},uj.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},uj.prototype.getToken=function(e){var n,r,i;return e=!!e,this.b&&!this.a?ed(new k("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?(n=this,r={grant_type:"refresh_token",refresh_token:this.a},(i=n.f,new eo(function(e,n){"refresh_token"==r.grant_type&&r.refresh_token||"authorization_code"==r.grant_type&&r.code?se(i,i.l+"?key="+encodeURIComponent(i.c),function(r){r?r.error?n(sJ(r)):r.access_token&&r.refresh_token?e(r):n(new k("internal-error")):n(new k("network-request-failed"))},"POST",n_(r).toString(),i.g,i.m.get()):n(new k("internal-error"))})).then(function(e){return n.b=r4(e.access_token),n.a=e.refresh_token,uV(n,e.expires_in),{accessToken:n.b.toString(),refreshToken:n.a}}).o(function(e){throw"auth/user-token-expired"==e.code&&(n.a=null),e})):ef(null):ef({accessToken:this.b.toString(),refreshToken:this.a})},uU.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},x(uq,e5),uq.prototype.xa=function(e){this.za=e,o8(this.a,e)},uq.prototype.la=function(){return this.za},uq.prototype.Ga=function(){return Q(this.aa)},uq.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},rh(uq.prototype,"providerId","firebase"),(i=uq.prototype).reload=function(){var e=this;return cs(this,u2(this).then(function(){return u9(e).then(function(){return uQ(e)}).then(u1)}))},i.oc=function(e){return this.I(e).then(function(e){return new uS(e)})},i.I=function(e){var n=this;return cs(this,u2(this).then(function(){return n.h.getToken(e)}).then(function(e){if(!e)throw new k("internal-error");return e.accessToken!=n.Aa&&(uY(n,e.accessToken),n.dispatchEvent(new uR("tokenChanged"))),u6(n,"refreshToken",e.refreshToken),e.accessToken}))},i.Kc=function(e){if(!(e=e.users)||!e.length)throw new k("internal-error");u0(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var n,r=(n=(n=e).providerUserInfo)&&n.length?H(n,function(e){return new uB(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)}):[],i=0;i<r.length;i++)u4(this,r[i]);u6(this,"isAnonymous",!(this.email&&e.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new uR("userReloaded",{hd:e}))},i.Lc=function(e){return rc("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(e)},i.ub=function(e){var n=this,r=null;return cs(this,e.c(this.a,this.uid).then(function(e){return u7(n,e),r=ce(n,e,"reauthenticate"),n.i=null,n.reload()}).then(function(){return r}),!0)},i.Cc=function(e){return rc("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(e)},i.rb=function(e){var n=this,r=null;return cs(this,ct(this,e.providerId).then(function(){return n.I()}).then(function(r){return e.b(n.a,r)}).then(function(e){return r=ce(n,e,"link"),cn(n,e)}).then(function(){return r}))},i.Dc=function(e,n){var r=this;return cs(this,ct(this,"phone").then(function(){return uI(uZ(r),e,n,I(r.rb,r))}))},i.Mc=function(e,n){var r=this;return cs(this,ef().then(function(){return uI(uZ(r),e,n,I(r.ub,r))}),!0)},i.Cb=function(e){var n=this;return cs(this,this.I().then(function(r){return n.a.Cb(r,e)}).then(function(e){return u7(n,e),n.reload()}))},i.ed=function(e){var n=this;return cs(this,this.I().then(function(r){return e.b(n.a,r)}).then(function(e){return u7(n,e),n.reload()}))},i.Db=function(e){var n=this;return cs(this,this.I().then(function(r){return n.a.Db(r,e)}).then(function(e){return u7(n,e),n.reload()}))},i.Eb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return u2(this);var n=this;return cs(this,this.I().then(function(r){return n.a.Eb(r,{displayName:e.displayName,photoUrl:e.photoURL})}).then(function(e){return u7(n,e),u6(n,"displayName",e.displayName||null),u6(n,"photoURL",e.photoUrl||null),K(n.providerData,function(e){"password"===e.providerId&&(rh(e,"displayName",n.displayName),rh(e,"photoURL",n.photoURL))}),uQ(n)}).then(u1))},i.cd=function(e){var n=this;return cs(this,u9(this).then(function(r){return Z(u3(n),e)?sY(n.a,sI,{idToken:r,deleteProvider:[e]}).then(function(e){var r={};return K(e.providerUserInfo||[],function(e){r[e.providerId]=!0}),K(u3(n),function(e){r[e]||u5(n,e)}),r[iq.PROVIDER_ID]||rh(n,"phoneNumber",null),uQ(n)}):uQ(n).then(function(){throw new k("no-such-provider")})}))},i.delete=function(){var e=this;return cs(this,this.I().then(function(n){return sY(e.a,sT,{idToken:n})}).then(function(){e.dispatchEvent(new uR("userDeleted"))})).then(function(){for(var n=0;n<e.N.length;n++)e.N[n].cancel("app-deleted");uK(e,null),uG(e,null),uW(e,null),e.N=[],e.J=!0,uX(e),rh(e,"refreshToken",null),e.b&&uo(e.b,e)})},i.Gb=function(e,n){return"linkViaPopup"==e&&(this.g||null)==n&&!!this.f||"reauthViaPopup"==e&&(this.g||null)==n&&!!this.f||"linkViaRedirect"==e&&(this.ga||null)==n||"reauthViaRedirect"==e&&(this.ga||null)==n},i.na=function(e,n,r,i){"linkViaPopup"!=e&&"reauthViaPopup"!=e||i!=(this.g||null)||(r&&this.C?this.C(r):n&&!r&&this.f&&this.f(n),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},i.Fa=function(e,n){return"linkViaPopup"==e&&n==(this.g||null)?I(this.Lb,this):"reauthViaPopup"==e&&n==(this.g||null)?I(this.Mb,this):"linkViaRedirect"==e&&(this.ga||null)==n?I(this.Lb,this):"reauthViaRedirect"==e&&(this.ga||null)==n?I(this.Mb,this):null},i.Ec=function(e){var n=this;return cr(this,"linkViaPopup",e,function(){return ct(n,e.providerId).then(function(){return uQ(n)})},!1)},i.Nc=function(e){return cr(this,"reauthViaPopup",e,function(){return ef()},!0)},i.Fc=function(e){var n=this;return ci(this,"linkViaRedirect",e,function(){return ct(n,e.providerId)},!1)},i.Oc=function(e){return ci(this,"reauthViaRedirect",e,function(){return ef()},!0)},i.Lb=function(e,n,r,i){var o=this;this.c&&(this.c.cancel(),this.c=null);var s=null;return cs(this,this.I().then(function(r){return sm(o.a,{requestUri:e,postBody:i,sessionId:n,idToken:r})}).then(function(e){return s=ce(o,e,"link"),cn(o,e)}).then(function(){return s}))},i.Mb=function(e,n,r,i){var o=this;this.c&&(this.c.cancel(),this.c=null);var s=null;return cs(this,ef().then(function(){return ig(sg(o.a,{requestUri:e,sessionId:n,postBody:i,tenantId:r}),o.uid)}).then(function(e){return s=ce(o,e,"reauthenticate"),u7(o,e),o.i=null,o.reload()}).then(function(){return s}),!0)},i.vb=function(e){var n=this,r=null;return cs(this,this.I().then(function(n){return r=n,void 0===e||tp(e)?{}:r1(new rG(e))}).then(function(e){return n.a.vb(r,e)}).then(function(e){if(n.email!=e)return n.reload()}).then(function(){}))},i.Fb=function(e,n){var r=this,i=null;return cs(this,this.I().then(function(e){return i=e,void 0===n||tp(n)?{}:r1(new rG(n))}).then(function(n){return r.a.Fb(i,e,n)}).then(function(e){if(r.email!=e)return r.reload()}).then(function(){}))},i.jc=function(e){var n=null,r=this;return cs(this,e=ig(ef(e),r.uid).then(function(e){return n=ce(r,e,"reauthenticate"),u7(r,e),r.i=null,r.reload()}).then(function(){return n}),!0)},i.toJSON=function(){return this.w()},i.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&tv(e,this.metadata.w()),K(this.providerData,function(n){e.providerData.push(function(e){var n,r={};for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return r}(n))}),tv(e,this.S.w()),e};var cc={name:"redirectUser",F:"session"};function cl(e){return aU(e.b,cc,e.a)}function ch(e){var n,r,i,o,s,a,u,l;this.a=e,this.b=aj(),this.c=null,this.f=(n=this,a=cp("local"),u=cp("session"),l=cp("none"),(r=n.b,o=aF(a,i=n.a),s=aV(r,a.F),r.get(a,i).then(function(e){var n=null;try{n=rt(c.localStorage.getItem(o))}catch(e){}if(n&&!e)return c.localStorage.removeItem(o),r.set(a,n,i);n&&e&&"localStorage"!=s.type&&c.localStorage.removeItem(o)})).then(function(){return n.b.get(u,n.a)}).then(function(e){return e?u:n.b.get(l,n.a).then(function(e){return e?l:n.b.get(a,n.a).then(function(e){return e?a:n.b.get(cd,n.a).then(function(e){return e?cp(e):a})})})}).then(function(e){return n.c=e,cf(n,e.F)}).o(function(){n.c||(n.c=a)})),this.b.addListener(cp("local"),this.a,I(this.g,this))}function cf(e,n){var r,i=[];for(r in aL)aL[r]!==n&&i.push(aU(e.b,cp(aL[r]),e.a));return i.push(aU(e.b,cd,e.a)),new eo(function(e,n){var r=i.length,o=[];if(r)for(var s=function(n,i){r--,o[n]=i,0==r&&e(o)},a=function(e){n(e)},u=0;u<i.length;u++)ep(i[u],S(s,u),a);else e(o)})}ch.prototype.g=function(){var e=this,n=cp("local");cy(this,function(){return ef().then(function(){return e.c&&"local"!=e.c.F?e.b.get(n,e.a):null}).then(function(r){if(r)return cf(e,"local").then(function(){e.c=n})})})};var cd={name:"persistence",F:"session"};function cp(e){return{name:"authUser",F:e}}function cm(e,n){return cy(e,function(){return e.b.set(e.c,n.w(),e.a)})}function cg(e){return cy(e,function(){return aU(e.b,e.c,e.a)})}function cv(e,n,r){return cy(e,function(){return e.b.get(e.c,e.a).then(function(e){return e&&n&&(e.authDomain=n),e&&r&&(e.emulatorConfig=r),ca(e||{})})})}function cy(e,n){return e.f=e.f.then(n,n),e.f}function cb(e){var n,r,i,o,s,a,u,c,l,h,f,d;if(this.l=!1,rh(this,"settings",new uE),rh(this,"app",e),cA(this).options&&cA(this).options.apiKey)e=J.SDK_VERSION?n0(J.SDK_VERSION):null,this.a=new oK(cA(this).options&&cA(this).options.apiKey,R(oH),e);else throw new k("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=J.INTERNAL.createSubscribe(I(this.zc,this)),this.W=void 0,this.ib=J.INTERNAL.createSubscribe(I(this.Ac,this)),c_(this,null),this.i=new ch(cA(this).options.apiKey+":"+cA(this).name),this.D=new cu(cA(this).options.apiKey+":"+cA(this).name),this.$=cD(this,(n=this,a=cA(n).options.authDomain,u=(s=(i=(r=n).D,o=cA(r).options.authDomain,i.b.get(cc,i.a).then(function(e){return e&&o&&(e.authDomain=o),ca(e||{})})).then(function(e){return(r.m=e)&&(e.ha=r.D),cl(r.D)}),cD(r,s)).then(function(){return cv(n.i,a,n.R)}).then(function(e){return e?(e.ha=n.D,n.m&&(n.m.ga||null)==(e.ga||null)?e:e.reload().then(function(){return cm(n.i,e).then(function(){return e})}).o(function(r){return"auth/network-request-failed"==r.code?e:cg(n.i)})):null}).then(function(e){c_(n,e||null)}),cD(n,u))),this.h=cD(this,(c=this,c.$.then(function(){return cS(c)}).o(function(){}).then(function(){if(!c.l)return c.ja()}).o(function(){}).then(function(){if(!c.l){c.ba=!0;var e=c.i;e.b.addListener(cp("local"),e.a,c.ja)}}))),this.ba=!1,this.ja=I(this.Zc,this),this.Ba=I(this.da,this),this.qa=I(this.mc,this),this.za=I(this.wc,this),this.Aa=I(this.xc,this),this.b=null,l=this,h=cA(l).options.authDomain,f=cA(l).options.apiKey,h&&n4()&&(l.Oa=l.$.then(function(){if(!l.l){if(l.b=up(h,f,cA(l).name,l.R),ui(l.b,l),ck(l)&&uJ(ck(l)),l.m){uJ(l.m);var e=l.m;e.xa(l.la()),uK(e,l),uH(e=l.m,l.J),uW(e,l),uz(e=l.m,l.R),uG(e,l),l.m=null}return l.b}})),this.INTERNAL={},this.INTERNAL.delete=I(this.delete,this),this.INTERNAL.logFramework=I(this.Gc,this),this.u=0,e5.call(this),d=this,Object.defineProperty(d,"lc",{get:function(){return this.la()},set:function(e){this.xa(e)},enumerable:!1}),d.aa=null,Object.defineProperty(d,"ti",{get:function(){return this.T()},set:function(e){this.zb(e)},enumerable:!1}),d.S=null,Object.defineProperty(d,"emulatorConfig",{get:function(){if(this.R){var e=nd(this.R.url);e=rd({protocol:e.c,host:e.a,port:e.g,options:rd({disableWarnings:this.R.ec})})}else e=null;return e},enumerable:!1}),this.J=[],this.R=null}function cw(e){eO.call(this,"languageCodeChanged"),this.h=e}function cE(e){eO.call(this,"emulatorConfigChanged"),this.c=e}function cT(e){eO.call(this,"frameworkChanged"),this.f=e}function cI(e){return e.Oa||ed(new k("auth-domain-config-required"))}function cS(e){if(!n4())return ed(new k("operation-not-supported-in-this-environment"));var n=cI(e).then(function(){return e.b.ra()}).then(function(e){return e?rd(e):null});return cD(e,n)}function c_(e,n){var r,i;ck(e)&&(r=ck(e),i=e.Ba,X(r.W,function(e){return e==i}),eX(ck(e),"tokenChanged",e.qa),eX(ck(e),"userDeleted",e.za),eX(ck(e),"userInvalidated",e.Aa),uX(ck(e))),n&&(n.W.push(e.Ba),eW(n,"tokenChanged",e.qa),eW(n,"userDeleted",e.za),eW(n,"userInvalidated",e.Aa),0<e.u&&u$(n)),rh(e,"currentUser",n),n&&(n.xa(e.la()),uK(n,e),uH(n,e.J),uW(n,e),uz(n,e.R),uG(n,e))}function cx(e,n){var r=null,i=null;return cD(e,n.then(function(n){var o;return r=iK(n),i=it(n),(o={}).apiKey=cA(e).options.apiKey,o.authDomain=cA(e).options.authDomain,o.appName=cA(e).name,e.R&&(o.emulatorConfig=e.R),e.$.then(function(){var r,i,s;return r=e.D,i=e.Ga(),s=new uq(o,n),r&&(s.ha=r),i&&uH(s,i),s.reload().then(function(){return s})}).then(function(n){return ck(e)&&n.uid==ck(e).uid?(u8(ck(e),n),e.da(n)):(c_(e,n),uJ(n),e.da(n))}).then(function(){cC(e)})},function(n){var r=null;throw n&&"auth/multi-factor-auth-required"===n.code&&(r=uN(n.w(),e,I(e.kc,e))),r||n}).then(function(){return rd({user:ck(e),credential:r,additionalUserInfo:i,operationType:"signIn"})}))}function cA(e){return e.app}function ck(e){return e.currentUser}function cN(e){return ck(e)&&ck(e)._lat||null}function cC(e){if(e.ba){for(var n=0;n<e.s.length;n++)e.s[n]&&e.s[n](cN(e));if(e.W!==e.getUid()&&e.N.length)for(e.W=e.getUid(),n=0;n<e.N.length;n++)e.N[n]&&e.N[n](cN(e))}}function cD(e,n){return e.P.push(n),n.oa(function(){$(e.P,n)}),n}function cP(){}function cR(){this.a={},this.b=1e12}ch.prototype.yb=function(e){var n=null,r=this;return function(e){var n=new k("invalid-persistence-type"),r=new k("unsupported-persistence-type");t:{for(i in aL)if(aL[i]==e){var i=!0;break t}i=!1}if(!i||"string"!=typeof e)throw n;switch(nZ()){case"ReactNative":if("session"===e)throw r;break;case"Node":if("none"!==e)throw r;break;case"Worker":if("session"===e||!ap()&&"none"!==e)throw r;break;default:if(!n3()&&"none"!==e)throw r}}(e),cy(this,function(){return e!=r.c.F?r.b.get(r.c,r.a).then(function(i){return n=i,cf(r,e)}).then(function(){if(r.c=cp(e),n)return r.b.set(r.c,n,r.a)}):ef()})},x(cb,e5),x(cw,eO),x(cE,eO),x(cT,eO),(i=cb.prototype).yb=function(e){return cD(this,e=this.i.yb(e))},i.xa=function(e){this.aa===e||this.l||(this.aa=e,o8(this.a,this.aa),this.dispatchEvent(new cw(this.la())))},i.la=function(){return this.aa},i.fd=function(){var e=c.navigator;this.xa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},i.gd=function(e,n){if(!this.R){var r;if(!/^https?:\/\//.test(e))throw new k("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");r=n=!!n&&!!n.disableWarnings,"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),c.document&&!r&&nK().then(function(){var e=c.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#b50000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),c.document.body.appendChild(e)}),this.R={url:e,ec:n},this.settings.jb=!0,o9(this.a,this.R),this.dispatchEvent(new cE(this.R))}},i.Gc=function(e){this.J.push(e),st(this.a,J.SDK_VERSION?n0(J.SDK_VERSION,this.J):null),this.dispatchEvent(new cT(this.J))},i.Ga=function(){return Q(this.J)},i.zb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},i.T=function(){return this.S},i.toJSON=function(){return{apiKey:cA(this).options.apiKey,authDomain:cA(this).options.authDomain,appName:cA(this).name,currentUser:ck(this)&&ck(this).w()}},i.Gb=function(e,n){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==n&&!!this.f;default:return!1}},i.na=function(e,n,r,i){"signInViaPopup"==e&&this.g==i&&(r&&this.C?this.C(r):n&&!r&&this.f&&this.f(n),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},i.Fa=function(e,n){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==n&&this.f?I(this.ic,this):null},i.ic=function(e,n,r,i){var o=this,s={requestUri:e,postBody:i,sessionId:n,tenantId:r};return this.c&&(this.c.cancel(),this.c=null),o.$.then(function(){return cx(o,sp(o.a,s))})},i.Xc=function(e){if(!n4())return ed(new k("operation-not-supported-in-this-environment"));var n=this,r=r7(e.providerId),i=re(),o=null;(!n8()||nH())&&cA(this).options.authDomain&&e.isOAuthProvider&&(o=an(cA(this).options.authDomain,cA(this).options.apiKey,cA(this).name,"signInViaPopup",e,null,i,J.SDK_VERSION||null,null,null,this.T(),this.R));var s=nB(o,r&&r.va,r&&r.ua);return cD(this,r=cI(this).then(function(r){return uu(r,s,"signInViaPopup",e,i,!!o,n.T())}).then(function(){return new eo(function(e,r){n.na("signInViaPopup",null,new k("cancelled-popup-request"),n.g),n.f=e,n.C=r,n.g=i,n.c=uh(n.b,n,"signInViaPopup",s,i)})}).then(function(e){return s&&nU(s),e?rd(e):null}).o(function(e){throw s&&nU(s),e}))},i.Yc=function(e){if(!n4())return ed(new k("operation-not-supported-in-this-environment"));var n=this;return cD(this,cI(this).then(function(){var e;return cy(e=n.i,function(){return e.b.set(cd,e.c.F,e.a)})}).then(function(){return ul(n.b,"signInViaRedirect",e,void 0,n.T())}))},i.ra=function(){var e=this;return cS(this).then(function(n){return e.b&&uv(e.b.b),n}).o(function(n){throw e.b&&uv(e.b.b),n})},i.dd=function(e){if(!e)return ed(new k("null-user"));if(this.S!=e.tenantId)return ed(new k("tenant-id-mismatch"));var n,r,i,o,s,a=this,u={};u.apiKey=cA(this).options.apiKey,u.authDomain=cA(this).options.authDomain,u.appName=cA(this).name;var c=(n=u,r=a.D,i=a.Ga(),o=e.h,(s={})[o2]=o.b&&o.b.toString(),s.refreshToken=o.a,n=new uq(n||{apiKey:e.l,authDomain:e.s,appName:e.m},s),r&&(n.ha=r),i&&uH(n,i),u8(n,e),n);return cD(this,this.h.then(function(){if(cA(a).options.apiKey!=e.l)return c.reload()}).then(function(){return ck(a)&&e.uid==ck(a).uid?(u8(ck(a),e),a.da(e)):(c_(a,c),uJ(c),a.da(c))}).then(function(){cC(a)}))},i.Bb=function(){var e=this;return cD(this,this.h.then(function(){return(e.b&&uv(e.b.b),ck(e))?(c_(e,null),cg(e.i).then(function(){cC(e)})):ef()}))},i.Zc=function(){var e=this;return cv(this.i,cA(this).options.authDomain).then(function(n){if(!e.l){var r;if(r=ck(e)&&n){r=ck(e).uid;var i=n.uid;r=null!=r&&""!==r&&null!=i&&""!==i&&r==i}if(r)return u8(ck(e),n),ck(e).I();(ck(e)||n)&&(c_(e,n),n&&(uJ(n),n.ha=e.D),e.b&&ui(e.b,e),cC(e))}})},i.da=function(e){return cm(this.i,e)},i.mc=function(){cC(this),this.da(ck(this))},i.wc=function(){this.Bb()},i.xc=function(){this.Bb()},i.kc=function(e){var n=this;return this.h.then(function(){return cx(n,ef(e))})},i.zc=function(e){var n=this;this.addAuthTokenListener(function(){e.next(ck(n))})},i.Ac=function(e){var n,r,i=this;n=this,r=function(){e.next(ck(i))},n.N.push(r),cD(n,n.h.then(function(){!n.l&&Z(n.N,r)&&n.W!==n.getUid()&&(n.W=n.getUid(),r(cN(n)))}))},i.Ic=function(e,n,r){var i=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof e?e(ck(i)):"function"==typeof e.next&&e.next(ck(i))}),this.Pa(e,n,r)},i.Hc=function(e,n,r){var i=this;return this.ba&&Promise.resolve().then(function(){i.W=i.getUid(),"function"==typeof e?e(ck(i)):"function"==typeof e.next&&e.next(ck(i))}),this.ib(e,n,r)},i.nc=function(e){var n=this;return cD(this,this.h.then(function(){return ck(n)?ck(n).I(e).then(function(e){return{accessToken:e}}):null}))},i.Tc=function(e){var n=this;return this.h.then(function(){return cx(n,sY(n.a,sG,{token:e}))}).then(function(e){var r=e.user;return u6(r,"isAnonymous",!1),n.da(r),e})},i.Uc=function(e,n){var r=this;return this.h.then(function(){return cx(r,sY(r.a,sH,{email:e,password:n}))})},i.dc=function(e,n){var r=this;return this.h.then(function(){return cx(r,sY(r.a,sw,{email:e,password:n}))})},i.ab=function(e){var n=this;return this.h.then(function(){return cx(n,e.ka(n.a))})},i.Sc=function(e){return rc("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(e)},i.Ab=function(){var e=this;return this.h.then(function(){var n=ck(e);if(n&&n.isAnonymous){var r=rd({providerId:null,isNewUser:!1});return rd({user:n,credential:null,additionalUserInfo:r,operationType:"signIn"})}return cx(e,e.a.Ab()).then(function(n){var r=n.user;return u6(r,"isAnonymous",!0),e.da(r),n})})},i.getUid=function(){return ck(this)&&ck(this).uid||null},i.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&ck(this)&&u$(ck(this))},i.Pc=function(e){var n=this;K(this.s,function(r){r==e&&n.u--}),0>this.u&&(this.u=0),0==this.u&&ck(this)&&uX(ck(this)),this.removeAuthTokenListener(e)},i.addAuthTokenListener=function(e){var n=this;this.s.push(e),cD(this,this.h.then(function(){n.l||Z(n.s,e)&&e(cN(n))}))},i.removeAuthTokenListener=function(e){X(this.s,function(n){return n==e})},i.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i).b.removeListener(cp("local"),e.a,this.ja),this.b&&(uo(this.b,this),uv(this.b.b)),Promise.resolve()},i.hc=function(e){return cD(this,sY(this.a,sE,{identifier:e,continueUri:n5()?nj():"http://localhost"}).then(function(e){return e.signinMethods||[]}))},i.Bc=function(e){return!!iV(e)},i.xb=function(e,n){var r=this;return cD(this,ef().then(function(){var e=new rG(n);if(!e.c)throw new k("argument-error",rZ+" must be true when sending sign in link to email");return r1(e)}).then(function(n){return r.a.xb(e,n)}).then(function(){}))},i.jd=function(e){return this.Sa(e).then(function(e){return e.data.email})},i.ob=function(e,n){return cD(this,this.a.ob(e,n).then(function(){}))},i.Sa=function(e){return cD(this,this.a.Sa(e).then(function(e){return new rT(e)}))},i.kb=function(e){return cD(this,this.a.kb(e).then(function(){}))},i.wb=function(e,n){var r=this;return cD(this,ef().then(function(){return void 0===n||tp(n)?{}:r1(new rG(n))}).then(function(n){return r.a.wb(e,n)}).then(function(){}))},i.Wc=function(e,n){return cD(this,uI(this,e,n,I(this.ab,this)))},i.Vc=function(e,n){var r=this;return cD(this,ef().then(function(){var i=n||nj(),o=ij(e,i);if(!(i=iV(i)))throw new k("argument-error","Invalid email link!");if(i.tenantId!==r.T())throw new k("tenant-id-mismatch");return r.ab(o)}))},cP.prototype.render=function(){},cP.prototype.reset=function(){},cP.prototype.getResponse=function(){},cP.prototype.execute=function(){};var cO=null;function cL(e,n){return(n=cM(n))&&e.a[n]||null}function cM(e){return(e=void 0===e?1e12:e)?e.toString():null}function cj(e,n){this.g=!1,this.c=n,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=t6(e);var r=this;this.i=function(){r.execute()},this.h?this.execute():eW(this.f,"click",this.i)}function cV(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function cF(){}function cU(){}cR.prototype.render=function(e,n){return this.a[this.b.toString()]=new cj(e,n),this.b++},cR.prototype.reset=function(e){var n=cL(this,e);e=cM(e),n&&e&&(n.delete(),delete this.a[e])},cR.prototype.getResponse=function(e){return(e=cL(this,e))?e.getResponse():null},cR.prototype.execute=function(e){(e=cL(this,e))&&e.execute()},cj.prototype.getResponse=function(){return cV(this),this.b},cj.prototype.execute=function(){cV(this);var e=this;this.a||(this.a=setTimeout(function(){e.b=function(){for(var e=50,n=[];0<e;)n.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return n.join("")}();var n=e.c.callback,r=e.c["expired-callback"];if(n)try{n(e.b)}catch(e){}e.a=setTimeout(function(){if(e.a=null,e.b=null,r)try{r()}catch(e){}e.h&&e.execute()},6e4)},500))},cj.prototype.delete=function(){cV(this),this.g=!0,clearTimeout(this.a),this.a=null,eX(this.f,"click",this.i)},rh(cF,"FACTOR_ID","phone"),cU.prototype.g=function(){return cO||(cO=new cR),ef(cO)},cU.prototype.c=function(){};var cB=null;function cq(){this.b=c.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var cz=new tb(tT,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),cK=new ri(3e4,6e4);cq.prototype.g=function(e){var n=this;return new eo(function(r,i){var o=setTimeout(function(){i(new k("network-request-failed"))},cK.get());c.grecaptcha&&(e===n.f||n.b)?(clearTimeout(o),r(c.grecaptcha)):(c[n.a]=function(){if(c.grecaptcha){n.f=e;var s=c.grecaptcha.render;c.grecaptcha.render=function(e,r){return e=s(e,r),n.b++,e},clearTimeout(o),r(c.grecaptcha)}else clearTimeout(o),i(new k("internal-error"));delete c[n.a]},ef(oj(tx(cz,{onload:n.a,hl:e||""}))).o(function(){clearTimeout(o),i(new k("internal-error","Unable to load external reCAPTCHA dependencies!"))}))})},cq.prototype.c=function(){this.b--};var cG=null;function cH(e,n,r,i,o,s,a){if(rh(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=n,this.g=null,a?(cB||(cB=new cU),a=cB):(cG||(cG=new cq),a=cG),this.m=a,this.a=r||{theme:"light",type:"image"},this.h=[],this.a[c$])throw new k("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[cX],!c.document)throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!t6(n)||!this.i&&t6(n).hasChildNodes())throw new k("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new oK(e,s||null,o||null),this.u=i||function(){return null};var u=this;this.l=[];var l=this.a[cW];this.a[cW]=function(e){if(cY(u,e),"function"==typeof l)l(e);else if("string"==typeof l){var n=n2(l,c);"function"==typeof n&&n(e)}};var h=this.a[cZ];this.a[cZ]=function(){if(cY(u,null),"function"==typeof h)h();else if("string"==typeof h){var e=n2(h,c);"function"==typeof e&&e()}}}var cW="callback",cZ="expired-callback",c$="sitekey",cX="size";function cY(e,n){for(var r=0;r<e.l.length;r++)try{e.l[r](n)}catch(e){}}function cQ(e,n){return e.h.push(n),n.oa(function(){$(e.h,n)}),n}function cJ(e){if(e.J)throw new k("internal-error","RecaptchaVerifier instance has been destroyed.")}function c0(e,n,r){var i=!1;try{this.b=r||J.app()}catch(e){throw new k("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)r=this.b.options.apiKey;else throw new k("invalid-api-key");var o=this,s=null;try{s=this.b.auth().Ga()}catch(e){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(e){}s=J.SDK_VERSION?n0(J.SDK_VERSION,s):null,cH.call(this,r,e,n,function(){try{var e=o.b.auth().la()}catch(n){e=null}return e},s,R(oH),i)}function c1(e,n,r,i){t:{r=Array.prototype.slice.call(r);for(var o=0,s=!1,a=0;a<n.length;a++)if(n[a].optional)s=!0;else{if(s)throw new k("internal-error","Argument validator encountered a required argument after an optional argument.");o++}if(s=n.length,r.length<o||s<r.length)i="Expected "+(o==s?1==o?"1 argument":o+" arguments":o+"-"+s+" arguments")+" but got "+r.length+".";else{for(o=0;o<r.length;o++)if(s=n[o].optional&&void 0===r[o],!n[o].M(r[o])&&!s){if(n=n[o],0>o||o>=c2.length)throw new k("internal-error","Argument validator received an unsupported number of arguments.");r=c2[o],i=(i?"":r+" argument ")+(n.name?'"'+n.name+'" ':"")+"must be "+n.K+".";break t}i=null}}if(i)throw new k("argument-error",e+" failed: "+i)}(i=cH.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=cQ(this,ef().then(function(){if(n5()&&!nW())return nK();throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return e.m.g(e.u())}).then(function(n){return e.g=n,sY(e.s,sO,{})}).then(function(n){e.a[c$]=n.recaptchaSiteKey}).o(function(n){throw e.f=null,n}))},i.render=function(){cJ(this);var e=this;return cQ(this,this.Ia().then(function(){if(null===e.c){var n=e.v;if(!e.i){var r=t6(n);n=function(e,n,r){var i=arguments,o=document,s=String(i[0]),a=i[1];if(!t5&&a&&(a.name||a.type)){if(s=["<",s],a.name&&s.push(' name="',tz(a.name),'"'),a.type){s.push(' type="',tz(a.type),'"');var u={};tv(u,a),delete u.type,a=u}s.push(">"),s=s.join("")}return s=t7(o,s),a&&("string"==typeof a?s.className=a:Array.isArray(a)?s.className=a.join(" "):t8(s,a)),2<i.length&&function(e,n,r){function i(r){r&&n.appendChild("string"==typeof r?e.createTextNode(r):r)}for(var o=2;o<r.length;o++){var s=r[o];if(!m(s)||v(s)&&0<s.nodeType)i(s);else{t:{if(s&&"number"==typeof s.length){if(v(s)){var a="function"==typeof s.item||"string"==typeof s.item;break t}if(g(s)){a="function"==typeof s.item;break t}}a=!1}K(a?Q(s):s,i)}}}(o,s,i),s}("DIV"),r.appendChild(n)}e.c=e.g.render(n,e.a)}return e.c}))},i.verify=function(){cJ(this);var e=this;return cQ(this,this.render().then(function(n){return new eo(function(r){var i=e.g.getResponse(n);if(i)r(i);else{var o=function(n){n&&(X(e.l,function(e){return e==o}),r(n))};e.l.push(o),e.i&&e.g.execute(e.c)}})}))},i.reset=function(){cJ(this),null!==this.c&&this.g.reset(this.c)},i.clear=function(){cJ(this),this.J=!0,this.m.c();for(var e,n=0;n<this.h.length;n++)this.h[n].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i)for(n=t6(this.v);e=n.firstChild;)n.removeChild(e)},x(c0,cH);var c2="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function c3(e,n){return{name:e||"",K:"a valid string",optional:!!n,M:function(e){return"string"==typeof e}}}function c4(e,n){return{name:e||"",K:"a boolean",optional:!!n,M:function(e){return"boolean"==typeof e}}}function c5(e,n){return{name:e||"",K:"a valid object",optional:!!n,M:v}}function c6(e,n){return{name:e||"",K:"a function",optional:!!n,M:function(e){return"function"==typeof e}}}function c8(e,n){return{name:e||"",K:"null",optional:!!n,M:function(e){return null===e}}}function c9(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(n){if(!n)return!1;var r=!e||n.providerId===e;return!(!n.ka||!r)}}}function c7(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}}}function lt(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}}function le(e,n){return v(e)&&"string"==typeof e.type&&e.type===n&&"function"==typeof e.Ha}function ln(e){return v(e)&&"string"==typeof e.uid}function lr(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}}function li(e,n,r,i){return{name:r||"",K:e.K+" or "+n.K,optional:!!i,M:function(r){return e.M(r)||n.M(r)}}}function lo(e,n){for(var r in n){var i=n[r].name;e[i]=lu(i,e[r],n[r].j)}}function ls(e,n){for(var r in n){var i=n[r].name;i!==r&&Object.defineProperty(e,i,{get:S(function(e){return this[e]},r),set:S(function(e,n,r,i){c1(e,[r],[i],!0),this[n]=i},i,r,n[r].lb),enumerable:!0})}}function la(e,n,r,i){e[n]=lu(n,r,i)}function lu(e,n,r){function i(){var e=Array.prototype.slice.call(arguments);return c1(a,r,e),n.apply(this,e)}if(!r)return n;var o,s,a=(o=(o=e).split("."))[o.length-1];for(s in n)i[s]=n[s];for(s in n.prototype)i.prototype[s]=n.prototype[s];return i}lo(cb.prototype,{kb:{name:"applyActionCode",j:[c3("code")]},Sa:{name:"checkActionCode",j:[c3("code")]},ob:{name:"confirmPasswordReset",j:[c3("code"),c3("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[c3("email"),c3("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[c3("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[c3("emailLink")]},Hc:{name:"onAuthStateChanged",j:[li(c5(),c6(),"nextOrObserver"),c6("opt_error",!0),c6("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[li(c5(),c6(),"nextOrObserver"),c6("opt_error",!0),c6("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[c3("email"),li(c5("opt_actionCodeSettings",!0),c8(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[c3("email"),c5("actionCodeSettings")]},yb:{name:"setPersistence",j:[c3("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[c9()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[c9()]},Tc:{name:"signInWithCustomToken",j:[c3("token")]},Uc:{name:"signInWithEmailAndPassword",j:[c3("email"),c3("password")]},Vc:{name:"signInWithEmailLink",j:[c3("email"),c3("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[c3("phoneNumber"),lr()]},Xc:{name:"signInWithPopup",j:[lt()]},Yc:{name:"signInWithRedirect",j:[lt()]},dd:{name:"updateCurrentUser",j:[li({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof uq)}},c8(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[c3(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[c3("url"),c5("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[c3("code")]}}),ls(cb.prototype,{lc:{name:"languageCode",lb:li(c3(),c8(),"languageCode")},ti:{name:"tenantId",lb:li(c3(),c8(),"tenantId")}}),cb.Persistence=aL,cb.Persistence.LOCAL="local",cb.Persistence.SESSION="session",cb.Persistence.NONE="none",lo(uq.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[c4("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[c4("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[c9()]},rb:{name:"linkWithCredential",j:[c9()]},Dc:{name:"linkWithPhoneNumber",j:[c3("phoneNumber"),lr()]},Ec:{name:"linkWithPopup",j:[lt()]},Fc:{name:"linkWithRedirect",j:[lt()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[c9()]},ub:{name:"reauthenticateWithCredential",j:[c9()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[c3("phoneNumber"),lr()]},Nc:{name:"reauthenticateWithPopup",j:[lt()]},Oc:{name:"reauthenticateWithRedirect",j:[lt()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[li(c5("opt_actionCodeSettings",!0),c8(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[c3(null,!0)]},cd:{name:"unlink",j:[c3("provider")]},Cb:{name:"updateEmail",j:[c3("email")]},Db:{name:"updatePassword",j:[c3("password")]},ed:{name:"updatePhoneNumber",j:[c9("phone")]},Eb:{name:"updateProfile",j:[c5("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[c3("email"),li(c5("opt_actionCodeSettings",!0),c8(null,!0),"opt_actionCodeSettings",!0)]}}),lo(cR.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),lo(cP.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),lo(eo.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),ls(uE.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:c4("appVerificationDisabledForTesting")}}),lo(uT.prototype,{confirm:{name:"confirm",j:[c3("verificationCode")]}}),la(im,"fromJSON",function(e){e="string"==typeof e?JSON.parse(e):e;for(var n,r=[iT,iL,iU,ib],i=0;i<r.length;i++)if(n=r[i](e))return n;return null},[li(c3(),c5(),"json")]),la(iM,"credential",function(e,n){return new iO(e,n)},[c3("email"),c3("password")]),lo(iO.prototype,{w:{name:"toJSON",j:[c3(null,!0)]}}),lo(ix.prototype,{Ca:{name:"addScope",j:[c3("scope")]},Ka:{name:"setCustomParameters",j:[c5("customOAuthParameters")]}}),la(ix,"credential",iA,[li(c3(),c5(),"token")]),la(iM,"credentialWithLink",ij,[c3("email"),c3("emailLink")]),lo(ik.prototype,{Ca:{name:"addScope",j:[c3("scope")]},Ka:{name:"setCustomParameters",j:[c5("customOAuthParameters")]}}),la(ik,"credential",iN,[li(c3(),c5(),"token")]),lo(iC.prototype,{Ca:{name:"addScope",j:[c3("scope")]},Ka:{name:"setCustomParameters",j:[c5("customOAuthParameters")]}}),la(iC,"credential",iD,[li(c3(),li(c5(),c8()),"idToken"),li(c3(),c8(),"accessToken",!0)]),lo(iP.prototype,{Ka:{name:"setCustomParameters",j:[c5("customOAuthParameters")]}}),la(iP,"credential",iR,[li(c3(),c5(),"token"),c3("secret",!0)]),lo(i_.prototype,{Ca:{name:"addScope",j:[c3("scope")]},credential:{name:"credential",j:[li(c3(),li(c5(),c8()),"optionsOrIdToken"),li(c3(),c8(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[c5("customOAuthParameters")]}}),lo(iw.prototype,{w:{name:"toJSON",j:[c3(null,!0)]}}),lo(iv.prototype,{w:{name:"toJSON",j:[c3(null,!0)]}}),la(iq,"credential",iz,[c3("verificationId"),c3("verificationCode")]),lo(iq.prototype,{gb:{name:"verifyPhoneNumber",j:[li(c3(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?le(e.session,id)&&"string"==typeof e.phoneNumber:e.session&&e.multiFactorHint?le(e.session,ip)&&ln(e.multiFactorHint):e.session&&e.multiFactorUid?le(e.session,ip)&&"string"==typeof e.multiFactorUid:!!e.phoneNumber&&"string"==typeof e.phoneNumber)}},"phoneInfoOptions"),lr()]}}),lo(iF.prototype,{w:{name:"toJSON",j:[c3(null,!0)]}}),lo(k.prototype,{toJSON:{name:"toJSON",j:[c3(null,!0)]}}),lo(iY.prototype,{toJSON:{name:"toJSON",j:[c3(null,!0)]}}),lo(iX.prototype,{toJSON:{name:"toJSON",j:[c3(null,!0)]}}),lo(uk.prototype,{toJSON:{name:"toJSON",j:[c3(null,!0)]}}),lo(u_.prototype,{Rc:{name:"resolveSignIn",j:[c7()]}}),lo(uO.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[c7(),c3("displayName",!0)]},bd:{name:"unenroll",j:[li({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:ln},c3(),"multiFactorInfoIdentifier")]}}),lo(c0.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),la(rM,"parseLink",rK,[c3("link")]),la(cF,"assertion",function(e){return new uP(e)},[c9("phone")]),function(){if(void 0!==J&&J.INTERNAL&&J.INTERNAL.registerComponent){var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:rS,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:rI,VERIFY_AND_CHANGE_EMAIL:r_,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:cb,AuthCredential:im,Error:k};la(e,"EmailAuthProvider",iM,[]),la(e,"FacebookAuthProvider",ix,[]),la(e,"GithubAuthProvider",ik,[]),la(e,"GoogleAuthProvider",iC,[]),la(e,"TwitterAuthProvider",iP,[]),la(e,"OAuthProvider",i_,[c3("providerId")]),la(e,"SAMLAuthProvider",iS,[c3("providerId")]),la(e,"PhoneAuthProvider",iq,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof cb)}}]),la(e,"RecaptchaVerifier",c0,[li(c3(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),c5("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof J.app.App)}}]),la(e,"ActionCodeURL",rM,[]),la(e,"PhoneMultiFactorGenerator",cF,[]),J.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return e=e.getProvider("app").getImmediate(),new cb(e)},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(e){e.getProvider("auth-internal").initialize()}}),J.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:I((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:I(e.nc,e),addAuthTokenListener:I(e.cc,e),removeAuthTokenListener:I(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),J.registerVersion("@firebase/auth","0.16.8"),J.INTERNAL.extendNamespace({User:uq})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),J.apps.length||J.initializeApp({apiKey:"AIzaSyCVqtEbcvYU8v_yRxbSgUHCV1b1o9XLXyE",authDomain:"ninja-f2649.firebaseapp.com",projectId:"ninja-f2649",storageBucket:"ninja-f2649.appspot.com",messagingSenderId:"343013900334",appId:"1:343013900334:web:92f1c414e69db789859fbf"});let hI=J.firestore();J.auth();let hS=J.firestore.Timestamp,h_={document:null,isPending:!1,error:null,success:null},hx=(e,n)=>{switch(n.type){case"IS_PENDING":return{isPending:!0,document:null,success:!1,error:null};case"ADDED_DOCUMENT":return{isPending:!1,document:n.payload,success:!0,error:null};case"DELETED_DOCUMENT":return{isPending:!1,document:null,success:!0,error:null};case"ERROR":return{isPending:!1,document:null,success:!1,error:n.payload};default:return e}},hA=e=>{let[n,r]=(0,i.useReducer)(hx,h_),[o,s]=(0,i.useState)(!1),a=hI.collection(e),u=e=>{o||r(e)},c=async e=>{r({type:"IS_PENDING"});try{let r=hS.fromDate(new Date),i=await a.add({...e,createdAt:r});u({type:"ADDED_DOCUMENT",payload:i}),console.log(n.success)}catch(e){u({type:"ERROR",payload:e.message}),console.log(e.message)}},l=async e=>{r({type:"IS_PENDING"});try{await a.doc(e).delete(),u({type:"DELETED_DOCUMENT"})}catch(e){u({type:"ERROR",payload:"could not delete"})}};return(0,i.useEffect)(()=>()=>s(!0),[]),{addDocument:c,deleteDocument:l,response:n}}},227:function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getDomainLocale=function(e,n,r,i){return!1},("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),e.exports=n.default)},9749:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(6495).Z,o=r(2648).Z,s=r(1598).Z,a=r(7273).Z,u=s(r(7294)),c=o(r(3121)),l=r(2675),h=r(139),f=r(8730);r(7238);var d=o(r(9824));let p={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1};function m(e){return void 0!==e.default}function g(e){return"number"==typeof e||void 0===e?e:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function v(e,n,r,o,s,a,u){if(!e||e["data-loaded-src"]===n)return;e["data-loaded-src"]=n;let c="decode"in e?e.decode():Promise.resolve();c.catch(()=>{}).then(()=>{if(e.parentNode){if("blur"===r&&a(!0),null==o?void 0:o.current){let n=new Event("load");Object.defineProperty(n,"target",{writable:!1,value:e});let r=!1,s=!1;o.current(i({},n,{nativeEvent:n,currentTarget:e,target:e,isDefaultPrevented:()=>r,isPropagationStopped:()=>s,persist:()=>{},preventDefault:()=>{r=!0,n.preventDefault()},stopPropagation:()=>{s=!0,n.stopPropagation()}}))}(null==s?void 0:s.current)&&s.current(e)}})}let y=u.forwardRef((e,n)=>{var{imgAttributes:r,heightInt:o,widthInt:s,qualityInt:c,className:l,imgStyle:h,blurStyle:f,isLazy:d,fill:p,placeholder:m,loading:g,srcString:y,config:b,unoptimized:w,loader:E,onLoadRef:T,onLoadingCompleteRef:I,setBlurComplete:S,setShowAltText:_,onLoad:x,onError:A}=e,k=a(e,["imgAttributes","heightInt","widthInt","qualityInt","className","imgStyle","blurStyle","isLazy","fill","placeholder","loading","srcString","config","unoptimized","loader","onLoadRef","onLoadingCompleteRef","setBlurComplete","setShowAltText","onLoad","onError"]);return g=d?"lazy":g,u.default.createElement(u.default.Fragment,null,u.default.createElement("img",Object.assign({},k,r,{width:s,height:o,decoding:"async","data-nimg":p?"fill":"1",className:l,loading:g,style:i({},h,f),ref:u.useCallback(e=>{n&&("function"==typeof n?n(e):"object"==typeof n&&(n.current=e)),e&&(A&&(e.src=e.src),e.complete&&v(e,y,m,T,I,S,w))},[y,m,T,I,S,A,w,n]),onLoad:e=>{let n=e.currentTarget;v(n,y,m,T,I,S,w)},onError:e=>{_(!0),"blur"===m&&S(!0),A&&A(e)}})))}),b=u.forwardRef((e,n)=>{let r,o;var s,{src:v,sizes:b,unoptimized:w=!1,priority:E=!1,loading:T,className:I,quality:S,width:_,height:x,fill:A,style:k,onLoad:N,onLoadingComplete:C,placeholder:D="empty",blurDataURL:P,layout:R,objectFit:O,objectPosition:L,lazyBoundary:M,lazyRoot:j}=e,V=a(e,["src","sizes","unoptimized","priority","loading","className","quality","width","height","fill","style","onLoad","onLoadingComplete","placeholder","blurDataURL","layout","objectFit","objectPosition","lazyBoundary","lazyRoot"]);let F=u.useContext(f.ImageConfigContext),U=u.useMemo(()=>{let e=p||F||h.imageConfigDefault,n=[...e.deviceSizes,...e.imageSizes].sort((e,n)=>e-n),r=e.deviceSizes.sort((e,n)=>e-n);return i({},e,{allSizes:n,deviceSizes:r})},[F]),B=V,q=B.loader||d.default;delete B.loader;let z="__next_img_default"in q;if(z){if("custom"===U.loader)throw Error('Image with src "'.concat(v,'" is missing "loader" prop.')+"\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader")}else{let e=q;q=n=>{let{config:r}=n,i=a(n,["config"]);return e(i)}}if(R){"fill"===R&&(A=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[R];e&&(k=i({},k,e));let n={responsive:"100vw",fill:"100vw"}[R];n&&!b&&(b=n)}let K="",G=g(_),H=g(x);if("object"==typeof(s=v)&&(m(s)||void 0!==s.src)){let e=m(v)?v.default:v;if(!e.src)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ".concat(JSON.stringify(e)));if(!e.height||!e.width)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ".concat(JSON.stringify(e)));if(r=e.blurWidth,o=e.blurHeight,P=P||e.blurDataURL,K=e.src,!A){if(G||H){if(G&&!H){let n=G/e.width;H=Math.round(e.height*n)}else if(!G&&H){let n=H/e.height;G=Math.round(e.width*n)}}else G=e.width,H=e.height}}let W=!E&&("lazy"===T||void 0===T);((v="string"==typeof v?v:K).startsWith("data:")||v.startsWith("blob:"))&&(w=!0,W=!1),U.unoptimized&&(w=!0),z&&v.endsWith(".svg")&&!U.dangerouslyAllowSVG&&(w=!0);let[Z,$]=u.useState(!1),[X,Y]=u.useState(!1),Q=g(S),J=Object.assign(A?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:O,objectPosition:L}:{},X?{}:{color:"transparent"},k),tt="blur"===D&&P&&!Z?{backgroundSize:J.objectFit||"cover",backgroundPosition:J.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:'url("data:image/svg+xml;charset=utf-8,'.concat(l.getImageBlurSvg({widthInt:G,heightInt:H,blurWidth:r,blurHeight:o,blurDataURL:P}),'")')}:{},te=function(e){let{config:n,src:r,unoptimized:i,width:o,quality:s,sizes:a,loader:u}=e;if(i)return{src:r,srcSet:void 0,sizes:void 0};let{widths:c,kind:l}=function(e,n,r){let{deviceSizes:i,allSizes:o}=e;if(r){let e=/(^|\s)(1?\d?\d)vw/g,n=[];for(let i;i=e.exec(r);i)n.push(parseInt(i[2]));if(n.length){let e=.01*Math.min(...n);return{widths:o.filter(n=>n>=i[0]*e),kind:"w"}}return{widths:o,kind:"w"}}if("number"!=typeof n)return{widths:i,kind:"w"};let s=[...new Set([n,2*n].map(e=>o.find(n=>n>=e)||o[o.length-1]))];return{widths:s,kind:"x"}}(n,o,a),h=c.length-1;return{sizes:a||"w"!==l?a:"100vw",srcSet:c.map((e,i)=>"".concat(u({config:n,src:r,quality:s,width:e})," ").concat("w"===l?e:i+1).concat(l)).join(", "),src:u({config:n,src:r,quality:s,width:c[h]})}}({config:U,src:v,unoptimized:w,width:G,quality:Q,sizes:b,loader:q}),tn=v,tr={imageSrcSet:te.srcSet,imageSizes:te.sizes,crossOrigin:B.crossOrigin},ti=u.useRef(N);u.useEffect(()=>{ti.current=N},[N]);let to=u.useRef(C);u.useEffect(()=>{to.current=C},[C]);let ts=i({isLazy:W,imgAttributes:te,heightInt:H,widthInt:G,qualityInt:Q,className:I,imgStyle:J,blurStyle:tt,loading:T,config:U,fill:A,unoptimized:w,placeholder:D,loader:q,srcString:tn,onLoadRef:ti,onLoadingCompleteRef:to,setBlurComplete:$,setShowAltText:Y},B);return u.default.createElement(u.default.Fragment,null,u.default.createElement(y,Object.assign({},ts,{ref:n})),E?u.default.createElement(c.default,null,u.default.createElement("link",Object.assign({key:"__nimg-"+te.src+te.srcSet+te.sizes,rel:"preload",as:"image",href:te.srcSet?void 0:te.src},tr))):null)});n.default=b,("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),e.exports=n.default)},1551:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(2648).Z,o=r(7273).Z,s=i(r(7294)),a=r(1003),u=r(7795),c=r(4465),l=r(2692),h=r(8245),f=r(9246),d=r(227),p=r(3468);let m=new Set;function g(e,n,r,i){if(a.isLocalURL(n)){if(!i.bypassPrefetchedCheck){let o=void 0!==i.locale?i.locale:"locale"in e?e.locale:void 0,s=n+"%"+r+"%"+o;if(m.has(s))return;m.add(s)}Promise.resolve(e.prefetch(n,r,i)).catch(e=>{})}}function v(e){return"string"==typeof e?e:u.formatUrl(e)}let y=s.default.forwardRef(function(e,n){let r,i;let{href:u,as:m,children:y,prefetch:b,passHref:w,replace:E,shallow:T,scroll:I,locale:S,onClick:_,onMouseEnter:x,onTouchStart:A,legacyBehavior:k=!1}=e,N=o(e,["href","as","children","prefetch","passHref","replace","shallow","scroll","locale","onClick","onMouseEnter","onTouchStart","legacyBehavior"]);r=y,k&&("string"==typeof r||"number"==typeof r)&&(r=s.default.createElement("a",null,r));let C=!1!==b,D=s.default.useContext(l.RouterContext),P=s.default.useContext(h.AppRouterContext),R=null!=D?D:P,O=!D,{href:L,as:M}=s.default.useMemo(()=>{if(!D){let e=v(u);return{href:e,as:m?v(m):e}}let[e,n]=a.resolveHref(D,u,!0);return{href:e,as:m?a.resolveHref(D,m):n||e}},[D,u,m]),j=s.default.useRef(L),V=s.default.useRef(M);k&&(i=s.default.Children.only(r));let F=k?i&&"object"==typeof i&&i.ref:n,[U,B,q]=f.useIntersection({rootMargin:"200px"}),z=s.default.useCallback(e=>{(V.current!==M||j.current!==L)&&(q(),V.current=M,j.current=L),U(e),F&&("function"==typeof F?F(e):"object"==typeof F&&(F.current=e))},[M,F,L,q,U]);s.default.useEffect(()=>{R&&B&&C&&g(R,L,M,{locale:S})},[M,L,B,S,C,null==D?void 0:D.locale,R]);let K={ref:z,onClick(e){k||"function"!=typeof _||_(e),k&&i.props&&"function"==typeof i.props.onClick&&i.props.onClick(e),R&&!e.defaultPrevented&&function(e,n,r,i,o,u,c,l,h,f){let{nodeName:d}=e.currentTarget,p="A"===d.toUpperCase();if(p&&(function(e){let{target:n}=e.currentTarget;return n&&"_self"!==n||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||!a.isLocalURL(r)))return;e.preventDefault();let m=()=>{"beforePopState"in n?n[o?"replace":"push"](r,i,{shallow:u,locale:l,scroll:c}):n[o?"replace":"push"](i||r,{forceOptimisticNavigation:!f})};h?s.default.startTransition(m):m()}(e,R,L,M,E,T,I,S,O,C)},onMouseEnter(e){k||"function"!=typeof x||x(e),k&&i.props&&"function"==typeof i.props.onMouseEnter&&i.props.onMouseEnter(e),R&&(C||!O)&&g(R,L,M,{locale:S,priority:!0,bypassPrefetchedCheck:!0})},onTouchStart(e){k||"function"!=typeof A||A(e),k&&i.props&&"function"==typeof i.props.onTouchStart&&i.props.onTouchStart(e),R&&(C||!O)&&g(R,L,M,{locale:S,priority:!0,bypassPrefetchedCheck:!0})}};if(!k||w||"a"===i.type&&!("href"in i.props)){let e=void 0!==S?S:null==D?void 0:D.locale,n=(null==D?void 0:D.isLocaleDomain)&&d.getDomainLocale(M,e,null==D?void 0:D.locales,null==D?void 0:D.domainLocales);K.href=n||p.addBasePath(c.addLocale(M,e,null==D?void 0:D.defaultLocale))}return k?s.default.cloneElement(i,K):s.default.createElement("a",Object.assign({},N,K),r)});n.default=y,("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),e.exports=n.default)},9246:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.useIntersection=function(e){let{rootRef:n,rootMargin:r,disabled:c}=e,l=c||!s,[h,f]=i.useState(!1),d=i.useRef(null),p=i.useCallback(e=>{d.current=e},[]);i.useEffect(()=>{if(s){if(l||h)return;let e=d.current;if(e&&e.tagName){let i=function(e,n,r){let{id:i,observer:o,elements:s}=function(e){let n;let r={root:e.root||null,margin:e.rootMargin||""},i=u.find(e=>e.root===r.root&&e.margin===r.margin);if(i&&(n=a.get(i)))return n;let o=new Map,s=new IntersectionObserver(e=>{e.forEach(e=>{let n=o.get(e.target),r=e.isIntersecting||e.intersectionRatio>0;n&&r&&n(r)})},e);return n={id:r,observer:s,elements:o},u.push(r),a.set(r,n),n}(r);return s.set(e,n),o.observe(e),function(){if(s.delete(e),o.unobserve(e),0===s.size){o.disconnect(),a.delete(i);let e=u.findIndex(e=>e.root===i.root&&e.margin===i.margin);e>-1&&u.splice(e,1)}}}(e,e=>e&&f(e),{root:null==n?void 0:n.current,rootMargin:r});return i}}else if(!h){let e=o.requestIdleCallback(()=>f(!0));return()=>o.cancelIdleCallback(e)}},[l,r,n,h,d.current]);let m=i.useCallback(()=>{f(!1)},[]);return[p,h,m]};var i=r(7294),o=r(4686);let s="function"==typeof IntersectionObserver,a=new Map,u=[];("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),e.exports=n.default)},2675:function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getImageBlurSvg=function(e){let{widthInt:n,heightInt:r,blurWidth:i,blurHeight:o,blurDataURL:s}=e,a=i||n,u=o||r,c=s.startsWith("data:image/jpeg")?"%3CfeComponentTransfer%3E%3CfeFuncA type='discrete' tableValues='1 1'/%3E%3C/feComponentTransfer%3E%":"";return a&&u?"%3Csvg xmlns='http%3A//www.w3.org/2000/svg' viewBox='0 0 ".concat(a," ").concat(u,"'%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='").concat(i&&o?"1":"20","'/%3E").concat(c,"%3C/filter%3E%3Cimage preserveAspectRatio='none' filter='url(%23b)' x='0' y='0' height='100%25' width='100%25' href='").concat(s,"'/%3E%3C/svg%3E"):"%3Csvg xmlns='http%3A//www.w3.org/2000/svg'%3E%3Cimage style='filter:blur(20px)' x='0' y='0' height='100%25' width='100%25' href='".concat(s,"'/%3E%3C/svg%3E")}},9824:function(e,n){"use strict";function r(e){let{config:n,src:r,width:i,quality:o}=e;return"".concat(n.path,"?url=").concat(encodeURIComponent(r),"&w=").concat(i,"&q=").concat(o||75)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r.__next_img_default=!0,n.default=r},205:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return tc}});var i=r(5893),o=r(3794),s=r.n(o),a=r(7294),u=r(7268),c=r(655),l=r(6111),h=r(3379),f=r(1664),d=r.n(f);let p=()=>{let[e,n]=(0,a.useState)(""),{addDocument:r,response:o}=(0,u.C)("emailForPromotions"),f=i=>{i.preventDefault(),r({email:e}),n("")};return(0,i.jsxs)("div",{className:s().footer,children:[(0,i.jsxs)("div",{className:s().footer_ninjas,children:[(0,i.jsx)("img",{src:"/ninjas_logo.png",style:{width:"40px",height:"auto"},alt:"logo"}),(0,i.jsx)("p",{style:{paddingLeft:"6px",color:"#51CA58",fontWeight:"450",fontSize:"1.618em"},children:"Canna."})]}),(0,i.jsxs)("div",{className:s().footer_links,children:[(0,i.jsxs)("div",{className:s().footer_links_wrap,children:[(0,i.jsxs)("div",{className:s().footer_sections,children:[(0,i.jsx)("p",{style:{color:"#D3CEC4",paddingBottom:"10px",fontSize:"14px"},children:"sections"}),(0,i.jsx)(d(),{href:"/about",children:(0,i.jsx)("p",{className:s().footer_p,children:"About"})}),(0,i.jsx)(d(),{href:"/services",children:(0,i.jsx)("p",{className:s().footer_p,children:"Services"})}),(0,i.jsx)(d(),{href:"/price",children:(0,i.jsx)("p",{className:s().footer_p,children:"Pricing"})}),(0,i.jsx)(d(),{href:"https://demo.01ninjas.com",children:(0,i.jsxs)("button",{className:s().footer_demo,children:["Demo ",(0,i.jsx)(c.Z,{})]})})]}),(0,i.jsxs)("div",{className:s().footer_resources,children:[(0,i.jsx)("p",{style:{color:"#D3CEC4",paddingBottom:"10px",fontSize:"14px"},children:"resources"}),(0,i.jsx)(d(),{href:"/services/brand",children:(0,i.jsx)("p",{className:s().footer_p,children:"Branding"})}),(0,i.jsx)(d(),{href:"/services/ecommerce",children:(0,i.jsx)("p",{className:s().footer_p,children:"Ecommerce"})}),(0,i.jsx)(d(),{href:"/services/custom",children:(0,i.jsx)("p",{className:s().footer_p,children:"Custom"})}),(0,i.jsx)(d(),{href:"/services/cms",children:(0,i.jsx)("p",{className:s().footer_p,children:"CMS"})}),(0,i.jsx)(d(),{href:"/services/support",children:(0,i.jsx)("p",{className:s().footer_p,children:"Support"})}),(0,i.jsx)(d(),{href:"/services/support",children:(0,i.jsx)("p",{className:s().footer_p,children:"Analytics"})})]})]}),(0,i.jsxs)("div",{className:s().footer_contact,children:[(0,i.jsx)("p",{style:{color:"#D3CEC4",paddingBottom:"10px",fontSize:"14px"},children:"contact"}),(0,i.jsx)("p",{style:{color:"#fff"},className:s().footer_p,children:"+1(201)328-7539"}),(0,i.jsx)("p",{className:s().footer_p,children:"canna@01ninjas.com"}),(0,i.jsx)("div",{children:(0,i.jsx)(d(),{href:"/becomeapartner",children:(0,i.jsxs)("button",{className:s().footer_demo,children:["Join us ",(0,i.jsx)(l.Z,{style:{paddingLeft:"6px",color:"#27241D"}})]})})})]})]}),(0,i.jsxs)("div",{className:s().footer_form,children:[(0,i.jsx)("p",{style:{fontSize:"1.618em",paddingBottom:"20px"},children:"Join our newsletter"}),(0,i.jsx)("p",{style:{fontSize:"16px",paddingBottom:"10px",width:"100%"},children:"Sign up to receive special deals and promotions!"}),(0,i.jsxs)("form",{onSubmit:f,children:[(0,i.jsx)("div",{children:(0,i.jsxs)("label",{style:{display:"flex",flexDirection:"column"},children:[(0,i.jsx)("span",{style:{paddingBottom:"10px",fontSize:"14px",fontWeight:"500",textAlign:"left"},children:"Email:"}),(0,i.jsx)("input",{type:"text",required:!0,onChange:e=>n(e.target.value),value:e})]})}),(0,i.jsx)("div",{style:{float:"right"},children:(0,i.jsxs)("button",{style:{marginTop:"12px"},className:s().footer_demo,children:["Submit ",(0,i.jsx)(h.Z,{style:{paddingLeft:"6px"}})]})})]})]})]})};var m=r(8394),g=r.n(m),v=r(7462),y=r(3366);let b=["getTrigger","target"];function w(e,n){let{disableHysteresis:r=!1,threshold:i=100,target:o}=n,s=e.current;return o&&(e.current=void 0!==o.pageYOffset?o.pageYOffset:o.scrollTop),(!!r||void 0===s||!(e.current<s))&&e.current>i}let E="undefined"!=typeof window?window:null;function T(e,n){return(T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}var I=r(3935),S={disabled:!1},_=a.createContext(null),x="unmounted",A="exited",k="entering",N="entered",C="exiting",D=function(e){function n(n,r){i=e.call(this,n,r)||this;var i,o,s=r&&!r.isMounting?n.enter:n.appear;return i.appearStatus=null,n.in?s?(o=A,i.appearStatus=k):o=N:o=n.unmountOnExit||n.mountOnEnter?x:A,i.state={status:o},i.nextCallback=null,i}(r=n).prototype=Object.create(e.prototype),r.prototype.constructor=r,T(r,e),n.getDerivedStateFromProps=function(e,n){return e.in&&n.status===x?{status:A}:null};var r,i=n.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var n=null;if(e!==this.props){var r=this.state.status;this.props.in?r!==k&&r!==N&&(n=k):(r===k||r===N)&&(n=C)}this.updateStatus(!1,n)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,n,r,i=this.props.timeout;return e=n=r=i,null!=i&&"number"!=typeof i&&(e=i.exit,n=i.enter,r=void 0!==i.appear?i.appear:n),{exit:e,enter:n,appear:r}},i.updateStatus=function(e,n){if(void 0===e&&(e=!1),null!==n){if(this.cancelNextCallback(),n===k){if(this.props.unmountOnExit||this.props.mountOnEnter){var r=this.props.nodeRef?this.props.nodeRef.current:I.findDOMNode(this);r&&r.scrollTop}this.performEnter(e)}else this.performExit()}else this.props.unmountOnExit&&this.state.status===A&&this.setState({status:x})},i.performEnter=function(e){var n=this,r=this.props.enter,i=this.context?this.context.isMounting:e,o=this.props.nodeRef?[i]:[I.findDOMNode(this),i],s=o[0],a=o[1],u=this.getTimeouts(),c=i?u.appear:u.enter;if(!e&&!r||S.disabled){this.safeSetState({status:N},function(){n.props.onEntered(s)});return}this.props.onEnter(s,a),this.safeSetState({status:k},function(){n.props.onEntering(s,a),n.onTransitionEnd(c,function(){n.safeSetState({status:N},function(){n.props.onEntered(s,a)})})})},i.performExit=function(){var e=this,n=this.props.exit,r=this.getTimeouts(),i=this.props.nodeRef?void 0:I.findDOMNode(this);if(!n||S.disabled){this.safeSetState({status:A},function(){e.props.onExited(i)});return}this.props.onExit(i),this.safeSetState({status:C},function(){e.props.onExiting(i),e.onTransitionEnd(r.exit,function(){e.safeSetState({status:A},function(){e.props.onExited(i)})})})},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,n){n=this.setNextCallback(n),this.setState(e,n)},i.setNextCallback=function(e){var n=this,r=!0;return this.nextCallback=function(i){r&&(r=!1,n.nextCallback=null,e(i))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},i.onTransitionEnd=function(e,n){this.setNextCallback(n);var r=this.props.nodeRef?this.props.nodeRef.current:I.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(!r||i){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],s=o[0],a=o[1];this.props.addEndListener(s,a)}null!=e&&setTimeout(this.nextCallback,e)},i.render=function(){var e=this.state.status;if(e===x)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,(0,y.Z)(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return a.createElement(_.Provider,{value:null},"function"==typeof r?r(e,i):a.cloneElement(a.Children.only(r),i))},n}(a.Component);function P(){}D.contextType=_,D.propTypes={},D.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:P,onEntering:P,onEntered:P,onExit:P,onExiting:P,onExited:P},D.UNMOUNTED=x,D.EXITED=A,D.ENTERING=k,D.ENTERED=N,D.EXITING=C;var R=r(9296),O=r(8031),L=r(2734);let M=e=>e.scrollTop;function j(e,n){var r,i;let{timeout:o,easing:s,style:a={}}=e;return{duration:null!=(r=a.transitionDuration)?r:"number"==typeof o?o:o[n.mode]||0,easing:null!=(i=a.transitionTimingFunction)?i:"object"==typeof s?s[n.mode]:s,delay:a.transitionDelay}}var V=r(6488);let F=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function U(e,n,r){let i="function"==typeof r?r():r,o=function(e,n,r){let i;let o=n.getBoundingClientRect(),s=r&&r.getBoundingClientRect(),a=(0,V.Z)(n);if(n.fakeTransform)i=n.fakeTransform;else{let e=a.getComputedStyle(n);i=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("transform")}let u=0,c=0;if(i&&"none"!==i&&"string"==typeof i){let e=i.split("(")[1].split(")")[0].split(",");u=parseInt(e[4],10),c=parseInt(e[5],10)}return"left"===e?s?`translateX(${s.right+u-o.left}px)`:`translateX(${a.innerWidth+u-o.left}px)`:"right"===e?s?`translateX(-${o.right-s.left-u}px)`:`translateX(-${o.left+o.width-u}px)`:"up"===e?s?`translateY(${s.bottom+c-o.top}px)`:`translateY(${a.innerHeight+c-o.top}px)`:s?`translateY(-${o.top-s.top+o.height-c}px)`:`translateY(-${o.top+o.height-c}px)`}(e,n,i);o&&(n.style.webkitTransform=o,n.style.transform=o)}let B=a.forwardRef(function(e,n){let r=(0,L.Z)(),o={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:u,appear:c=!0,children:l,container:h,direction:f="down",easing:d=o,in:p,onEnter:m,onEntered:g,onEntering:b,onExit:w,onExited:E,onExiting:T,style:I,timeout:S=s,TransitionComponent:_=D}=e,x=(0,y.Z)(e,F),A=a.useRef(null),k=(0,O.Z)(l.ref,A,n),N=e=>n=>{e&&(void 0===n?e(A.current):e(A.current,n))},C=N((e,n)=>{U(f,e,h),M(e),m&&m(e,n)}),P=N((e,n)=>{let i=j({timeout:S,style:I,easing:d},{mode:"enter"});e.style.webkitTransition=r.transitions.create("-webkit-transform",(0,v.Z)({},i)),e.style.transition=r.transitions.create("transform",(0,v.Z)({},i)),e.style.webkitTransform="none",e.style.transform="none",b&&b(e,n)}),B=N(g),q=N(T),z=N(e=>{let n=j({timeout:S,style:I,easing:d},{mode:"exit"});e.style.webkitTransition=r.transitions.create("-webkit-transform",n),e.style.transition=r.transitions.create("transform",n),U(f,e,h),w&&w(e)}),K=N(e=>{e.style.webkitTransition="",e.style.transition="",E&&E(e)}),G=e=>{u&&u(A.current,e)},H=a.useCallback(()=>{A.current&&U(f,A.current,h)},[f,h]);return a.useEffect(()=>{if(p||"down"===f||"right"===f)return;let e=(0,R.Z)(()=>{A.current&&U(f,A.current,h)}),n=(0,V.Z)(A.current);return n.addEventListener("resize",e),()=>{e.clear(),n.removeEventListener("resize",e)}},[f,p,h]),a.useEffect(()=>{p||H()},[p,H]),(0,i.jsx)(_,(0,v.Z)({nodeRef:A,onEnter:C,onEntered:B,onEntering:P,onExit:z,onExited:K,onExiting:q,addEndListener:G,appear:c,in:p,timeout:S},x,{children:(e,n)=>a.cloneElement(l,(0,v.Z)({ref:k,style:(0,v.Z)({visibility:"exited"!==e||p?void 0:"hidden"},I,l.props.style)},n))}))});var q=r(326),z=r(404),K=r(8868);function G(){let e=(0,a.useRef)(!1);return(0,K.L)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var H=r(240),W=r(6681);class Z extends a.Component{getSnapshotBeforeUpdate(e){let n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=n.offsetHeight||0,e.width=n.offsetWidth||0,e.top=n.offsetTop,e.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function $({children:e,isPresent:n}){let r=(0,a.useId)(),i=(0,a.useRef)(null),o=(0,a.useRef)({width:0,height:0,top:0,left:0});return(0,a.useInsertionEffect)(()=>{let{width:e,height:s,top:a,left:u}=o.current;if(n||!i.current||!e||!s)return;i.current.dataset.motionPopId=r;let c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[n]),a.createElement(Z,{isPresent:n,childRef:i,sizeRef:o},a.cloneElement(e,{ref:i}))}let X=({children:e,initial:n,isPresent:r,onExitComplete:i,custom:o,presenceAffectsLayout:s,mode:u})=>{let c=(0,W.h)(Y),l=(0,a.useId)(),h=(0,a.useMemo)(()=>({id:l,initial:n,isPresent:r,custom:o,onExitComplete:e=>{for(let n of(c.set(e,!0),c.values()))if(!n)return;i&&i()},register:e=>(c.set(e,!1),()=>c.delete(e))}),s?void 0:[r]);return(0,a.useMemo)(()=>{c.forEach((e,n)=>c.set(n,!1))},[r]),a.useEffect(()=>{r||c.size||!i||i()},[r]),"popLayout"===u&&(e=a.createElement($,{isPresent:r},e)),a.createElement(H.O.Provider,{value:h},e)};function Y(){return new Map}var Q=r(5364),J=r(5487);let tt=e=>e.key||"",te=({children:e,custom:n,initial:r=!0,onExitComplete:i,exitBeforeEnter:o,presenceAffectsLayout:s=!0,mode:u="sync"})=>{var c;(0,J.k)(!o,"Replace exitBeforeEnter with mode='wait'");let[l]=function(){let e=G(),[n,r]=(0,a.useState)(0),i=(0,a.useCallback)(()=>{e.current&&r(n+1)},[n]),o=(0,a.useCallback)(()=>z.Z_.postRender(i),[i]);return[o,n]}(),h=(0,a.useContext)(Q.p).forceRender;h&&(l=h);let f=G(),d=function(e){let n=[];return a.Children.forEach(e,e=>{(0,a.isValidElement)(e)&&n.push(e)}),n}(e),p=d,m=new Set,g=(0,a.useRef)(p),v=(0,a.useRef)(new Map).current,y=(0,a.useRef)(!0);if((0,K.L)(()=>{y.current=!1,function(e,n){e.forEach(e=>{let r=tt(e);n.set(r,e)})}(d,v),g.current=p}),c=()=>{y.current=!0,v.clear(),m.clear()},(0,a.useEffect)(()=>()=>c(),[]),y.current)return a.createElement(a.Fragment,null,p.map(e=>a.createElement(X,{key:tt(e),isPresent:!0,initial:!!r&&void 0,presenceAffectsLayout:s,mode:u},e)));p=[...p];let b=g.current.map(tt),w=d.map(tt),E=b.length;for(let e=0;e<E;e++){let n=b[e];-1===w.indexOf(n)&&m.add(n)}return"wait"===u&&m.size&&(p=[]),m.forEach(e=>{if(-1!==w.indexOf(e))return;let r=v.get(e);if(!r)return;let o=b.indexOf(e),c=()=>{v.delete(e),m.delete(e);let n=g.current.findIndex(n=>n.key===e);if(g.current.splice(n,1),!m.size){if(g.current=d,!1===f.current)return;l(),i&&i()}};p.splice(o,0,a.createElement(X,{key:tt(r),isPresent:!1,onExitComplete:c,custom:n,presenceAffectsLayout:s,mode:u},r))}),p=p.map(e=>{let n=e.key;return m.has(n)?e:a.createElement(X,{key:tt(e),isPresent:!0,presenceAffectsLayout:s,mode:u},e)}),a.createElement(a.Fragment,null,m.size?p:p.map(e=>(0,a.cloneElement)(e)))};var tn=r(545),tr=r(594),ti=r(5675),to=r.n(ti);function ts(e){let{children:n}=e,r=function(e={}){let{getTrigger:n=w,target:r=E}=e,i=(0,y.Z)(e,b),o=a.useRef(),[s,u]=a.useState(()=>n(o,i));return a.useEffect(()=>{let e=()=>{u(n(o,(0,v.Z)({target:r},i)))};return e(),r.addEventListener("scroll",e,{passive:!0}),()=>{r.removeEventListener("scroll",e,{passive:!0})}},[r,n,JSON.stringify(i)]),s}();return(0,i.jsx)(B,{appear:!1,direction:"down",in:!r,children:n})}let ta=e=>{let[n,r]=(0,a.useState)(""),o=()=>{r(window.scrollY)};(0,a.useEffect)(()=>(window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)));let[s,u]=(0,a.useState)(0),[c,f]=(0,a.useState)(0);(0,a.useEffect)(()=>{let e=n/600;e<1&&(u(e),f(1*e))},[n]);let[p,m]=(0,a.useState)(!1),v=()=>{m(!p)};return(0,i.jsx)("div",{className:g().navhover,children:(0,i.jsx)(ts,{children:(0,i.jsx)("nav",{style:{background:"#E8E6E1",boxShadow:"rgb(79 76 69/ ".concat(c,")  0px  10px 20px")},className:g().navbar,children:(0,i.jsxs)("div",{className:g().content,children:[(0,i.jsxs)("div",{className:g().logo,children:[(0,i.jsx)(d(),{href:"/",children:(0,i.jsx)(to(),{src:"/ninjas_logo.svg",style:{width:"40px",height:"40px"},alt:"logo",width:40,height:40})}),(0,i.jsx)("p",{style:{fontWeight:"550",paddingLeft:"9px",color:"#51CA58",fontSize:"1.618em"},children:"Canna."})]}),(0,i.jsxs)("div",{className:g().link,children:[(0,i.jsx)("div",{className:g().singlelink,children:(0,i.jsx)(d(),{href:"/about",children:"About"})}),(0,i.jsx)("div",{className:g().singlelink,children:(0,i.jsx)(d(),{href:"/services",children:"Services"})}),(0,i.jsx)("div",{className:g().singlelink,children:(0,i.jsx)(d(),{href:"/price",children:"Pricing"})}),(0,i.jsx)("div",{className:g().singlelink,children:(0,i.jsx)(d(),{href:"/about",children:"Demo"})})]}),(0,i.jsx)("div",{onClick:v,className:g().nav_menu,children:(0,i.jsx)("button",{className:g().nav_menu_btn,children:(0,i.jsx)(q.Z,{style:{fontSize:"28px",color:"#27241D"}})})}),(0,i.jsx)(te,{children:p&&(0,i.jsx)(tn.E.div,{initial:{x:500},transition:{duration:.5,type:"tween",delay:.3},animate:{x:0},exit:{x:500},className:g().mobile_links,children:(0,i.jsxs)("div",{className:g().mobile_links_wrap,children:[(0,i.jsx)("div",{style:{marginTop:"20px"},children:(0,i.jsx)("button",{className:g().nav_close,onClick:v,children:(0,i.jsx)(tr.Z,{style:{color:"#1D1A13",fontSize:"28px"}})})}),(0,i.jsx)("div",{onClick:v,className:g().mobile_singlelink,children:(0,i.jsxs)(d(),{href:"/about",children:["About",(0,i.jsx)(h.Z,{style:{fontSize:"16px",marginLeft:"6px"}})]})}),(0,i.jsx)("div",{onClick:v,className:g().mobile_singlelink,children:(0,i.jsxs)(d(),{href:"/services",children:["Services",(0,i.jsx)(h.Z,{style:{fontSize:"16px",marginLeft:"6px"}})]})}),(0,i.jsx)("div",{onClick:v,className:g().mobile_singlelink,children:(0,i.jsxs)(d(),{href:"/price",children:["Pricing",(0,i.jsx)(h.Z,{style:{fontSize:"16px",marginLeft:"6px"}})]})}),(0,i.jsx)("div",{onClick:v,className:g().mobile_singlelink,children:(0,i.jsxs)(d(),{href:"/about",children:["Demo",(0,i.jsx)(h.Z,{style:{fontSize:"16px",marginLeft:"6px"}})]})}),(0,i.jsx)("div",{children:(0,i.jsx)("button",{onClick:v,className:g().btn_mobile,children:(0,i.jsxs)(d(),{style:{fontWeight:"550",display:"flex",alignItems:"center"},href:"/becomeapartner",children:["Join Us ",(0,i.jsx)(l.Z,{style:{marginLeft:"4px",color:"#27241D"}})]})})})]})})}),(0,i.jsx)("button",{className:g().btn,children:(0,i.jsxs)(d(),{style:{fontWeight:"550",display:"flex",alignItems:"center"},href:"/becomeapartner",children:["Join Us ",(0,i.jsx)(l.Z,{style:{marginLeft:"4px",color:"#27241D"}})]})})]})})})})},tu=e=>{let{children:n}=e;return(0,i.jsxs)("div",{className:"content",children:[(0,i.jsx)(ta,{}),n,(0,i.jsx)(p,{})]})};function tc(e){let{Component:n,pageProps:r}=e;return(0,i.jsx)(tu,{children:(0,i.jsx)(n,{...r})})}r(4744)},4744:function(){},3794:function(e){e.exports={footer:"Footer_footer__Tl1eP",footer_form:"Footer_footer_form__u_LH5",footer_ninjas:"Footer_footer_ninjas__CFjL_",footer_sections:"Footer_footer_sections__X79lU",footer_p:"Footer_footer_p__WxezD",footer_links:"Footer_footer_links__GLQFa",footer_resources:"Footer_footer_resources__kGpgN",footer_contact:"Footer_footer_contact__WAM6M",footer_demo:"Footer_footer_demo__KOihP",footer_links_wrap:"Footer_footer_links_wrap__ppBlH"}},8394:function(e){e.exports={navbar:"Navbar_navbar__66x_3",mobile_singlelink:"Navbar_mobile_singlelink__WDg96",mobile_links:"Navbar_mobile_links__NTYy0",content:"Navbar_content__l_T14",logo:"Navbar_logo__E_Sw_",link:"Navbar_link__b0OQz",singlelink:"Navbar_singlelink__HPi8g",btn:"Navbar_btn__2_IOi",navhover:"Navbar_navhover___wYGp",nav_menu:"Navbar_nav_menu__8Bu1D",nav_menu_btn:"Navbar_nav_menu_btn__C927t",btn_mobile:"Navbar_btn_mobile__FkVFR",mobile_links_wrap:"Navbar_mobile_links_wrap__R_eHt",nav_close:"Navbar_nav_close__kjy9m"}},5675:function(e,n,r){e.exports=r(9749)},1664:function(e,n,r){e.exports=r(1551)},4155:function(e){var n,r,i,o=e.exports={};function s(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(r){try{return n.call(null,e,0)}catch(r){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(e){n=s}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c=[],l=!1,h=-1;function f(){l&&i&&(l=!1,i.length?c=i.concat(c):h=-1,c.length&&d())}function d(){if(!l){var e=u(f);l=!0;for(var n=c.length;n;){for(i=c,c=[];++h<n;)i&&i[h].run();h=-1,n=c.length}i=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(n){try{return r.call(null,e)}catch(n){return r.call(this,e)}}}(e)}}function p(e,n){this.fun=e,this.array=n}function m(){}o.nextTick=function(e){var n=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r];c.push(new p(e,n)),1!==c.length||l||u(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw Error("process.chdir is not supported")},o.umask=function(){return 0}},4836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},7462:function(e,n,r){"use strict";function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}r.d(n,{Z:function(){return i}})},3366:function(e,n,r){"use strict";function i(e,n){if(null==e)return{};var r,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)r=s[i],n.indexOf(r)>=0||(o[r]=e[r]);return o}r.d(n,{Z:function(){return i}})},5364:function(e,n,r){"use strict";r.d(n,{p:function(){return o}});var i=r(7294);let o=(0,i.createContext)({})},240:function(e,n,r){"use strict";r.d(n,{O:function(){return o}});var i=r(7294);let o=(0,i.createContext)(null)},7367:function(e,n,r){"use strict";r.d(n,{w:function(){return i}});let i={delta:0,timestamp:0}},404:function(e,n,r){"use strict";r.d(n,{qY:function(){return p},iW:function(){return m},Z_:function(){return d}});let i=1/60*1e3,o="undefined"!=typeof performance?()=>performance.now():()=>Date.now(),s="undefined"!=typeof window?e=>window.requestAnimationFrame(e):e=>setTimeout(()=>e(o()),i);var a=r(7367);let u=!0,c=!1,l=!1,h=["read","update","preRender","render","postRender"],f=h.reduce((e,n)=>(e[n]=function(e){let n=[],r=[],i=0,o=!1,s=!1,a=new WeakSet,u={schedule:(e,s=!1,u=!1)=>{let c=u&&o,l=c?n:r;return s&&a.add(e),-1===l.indexOf(e)&&(l.push(e),c&&o&&(i=n.length)),e},cancel:e=>{let n=r.indexOf(e);-1!==n&&r.splice(n,1),a.delete(e)},process:c=>{if(o){s=!0;return}if(o=!0,[n,r]=[r,n],r.length=0,i=n.length)for(let r=0;r<i;r++){let i=n[r];i(c),a.has(i)&&(u.schedule(i),e())}o=!1,s&&(s=!1,u.process(c))}};return u}(()=>c=!0),e),{}),d=h.reduce((e,n)=>{let r=f[n];return e[n]=(e,n=!1,i=!1)=>(c||y(),r.schedule(e,n,i)),e},{}),p=h.reduce((e,n)=>(e[n]=f[n].cancel,e),{}),m=h.reduce((e,n)=>(e[n]=()=>f[n].process(a.w),e),{}),g=e=>f[e].process(a.w),v=e=>{c=!1,a.w.delta=u?i:Math.max(Math.min(e-a.w.timestamp,40),1),a.w.timestamp=e,l=!0,h.forEach(g),l=!1,c&&(u=!1,s(v))},y=()=>{c=!0,u=!0,l||s(v)}},545:function(e,n,r){"use strict";r.d(n,{E:function(){return iL}});var i,o=r(7294);let s=(0,o.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),a=(0,o.createContext)({});var u=r(240),c=r(8868);let l=(0,o.createContext)({strict:!1});function h(e){return"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function f(e){return"string"==typeof e||Array.isArray(e)}function d(e){return"object"==typeof e&&"function"==typeof e.start}let p=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],m=["initial",...p];function g(e){return d(e.animate)||m.some(n=>f(e[n]))}function v(e){return Boolean(g(e)||e.variants)}function y(e){return Array.isArray(e)?e.join(" "):e}let b={animation:["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},w={};for(let e in b)w[e]={isEnabled:n=>b[e].some(e=>!!n[e])};var E=r(1741),T=r(6681);let I={hasAnimatedSinceResize:!0,hasEverUpdated:!1},S=1;var _=r(5364);let x=(0,o.createContext)({}),A=Symbol.for("motionComponentSymbol"),k=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function N(e){if("string"!=typeof e||e.includes("-"));else if(k.indexOf(e)>-1||/[A-Z]/.test(e))return!0;return!1}let C={},D=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],P=new Set(D);function R(e,{layout:n,layoutId:r}){return P.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!C[e]||"opacity"===e)}let O=e=>Boolean(e&&e.getVelocity),L={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},M=D.length,j=e=>n=>"string"==typeof n&&n.startsWith(e),V=j("--"),F=j("var(--"),U=(e,n)=>n&&"number"==typeof e?n.transform(e):e,B=(e,n,r)=>Math.min(Math.max(r,e),n),q={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},z={...q,transform:e=>B(0,1,e)},K={...q,default:1},G=e=>Math.round(1e5*e)/1e5,H=/(-)?([\d]*\.?[\d])+/g,W=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Z=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function $(e){return"string"==typeof e}let X=e=>({test:n=>$(n)&&n.endsWith(e)&&1===n.split(" ").length,parse:parseFloat,transform:n=>`${n}${e}`}),Y=X("deg"),Q=X("%"),J=X("px"),tt=X("vh"),te=X("vw"),tn={...Q,parse:e=>Q.parse(e)/100,transform:e=>Q.transform(100*e)},tr={...q,transform:Math.round},ti={borderWidth:J,borderTopWidth:J,borderRightWidth:J,borderBottomWidth:J,borderLeftWidth:J,borderRadius:J,radius:J,borderTopLeftRadius:J,borderTopRightRadius:J,borderBottomRightRadius:J,borderBottomLeftRadius:J,width:J,maxWidth:J,height:J,maxHeight:J,size:J,top:J,right:J,bottom:J,left:J,padding:J,paddingTop:J,paddingRight:J,paddingBottom:J,paddingLeft:J,margin:J,marginTop:J,marginRight:J,marginBottom:J,marginLeft:J,rotate:Y,rotateX:Y,rotateY:Y,rotateZ:Y,scale:K,scaleX:K,scaleY:K,scaleZ:K,skew:Y,skewX:Y,skewY:Y,distance:J,translateX:J,translateY:J,translateZ:J,x:J,y:J,z:J,perspective:J,transformPerspective:J,opacity:z,originX:tn,originY:tn,originZ:J,zIndex:tr,fillOpacity:z,strokeOpacity:z,numOctaves:tr};function to(e,n,r,i){let{style:o,vars:s,transform:a,transformOrigin:u}=e,c=!1,l=!1,h=!0;for(let e in n){let r=n[e];if(V(e)){s[e]=r;continue}let i=ti[e],f=U(r,i);if(P.has(e)){if(c=!0,a[e]=f,!h)continue;r!==(i.default||0)&&(h=!1)}else e.startsWith("origin")?(l=!0,u[e]=f):o[e]=f}if(!n.transform&&(c||i?o.transform=function(e,{enableHardwareAcceleration:n=!0,allowTransformNone:r=!0},i,o){let s="";for(let n=0;n<M;n++){let r=D[n];if(void 0!==e[r]){let n=L[r]||r;s+=`${n}(${e[r]}) `}}return n&&!e.z&&(s+="translateZ(0)"),s=s.trim(),o?s=o(e,i?"":s):r&&i&&(s="none"),s}(e.transform,r,h,i):o.transform&&(o.transform="none")),l){let{originX:e="50%",originY:n="50%",originZ:r=0}=u;o.transformOrigin=`${e} ${n} ${r}`}}let ts=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ta(e,n,r){for(let i in n)O(n[i])||R(i,r)||(e[i]=n[i])}function tu(e,n,r){let i={},s=function(e,n,r){let i=e.style||{},s={};return ta(s,i,e),Object.assign(s,function({transformTemplate:e},n,r){return(0,o.useMemo)(()=>{let i=ts();return to(i,n,{enableHardwareAcceleration:!r},e),Object.assign({},i.vars,i.style)},[n])}(e,n,r)),e.transformValues?e.transformValues(s):s}(e,n,r);return e.drag&&!1!==e.dragListener&&(i.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=!0===e.drag?"none":`pan-${"x"===e.drag?"y":"x"}`),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(i.tabIndex=0),i.style=s,i}let tc=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function tl(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||tc.has(e)}let th=e=>!tl(e);try{(i=require("@emotion/is-prop-valid").default)&&(th=e=>e.startsWith("on")?!tl(e):i(e))}catch(e){}function tf(e,n,r){return"string"==typeof e?e:J.transform(n+r*e)}let td={offset:"stroke-dashoffset",array:"stroke-dasharray"},tp={offset:"strokeDashoffset",array:"strokeDasharray"};function tm(e,{attrX:n,attrY:r,originX:i,originY:o,pathLength:s,pathSpacing:a=1,pathOffset:u=0,...c},l,h,f){if(to(e,c,l,f),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:d,style:p,dimensions:m}=e;d.transform&&(m&&(p.transform=d.transform),delete d.transform),m&&(void 0!==i||void 0!==o||p.transform)&&(p.transformOrigin=function(e,n,r){let i=tf(n,e.x,e.width),o=tf(r,e.y,e.height);return`${i} ${o}`}(m,void 0!==i?i:.5,void 0!==o?o:.5)),void 0!==n&&(d.x=n),void 0!==r&&(d.y=r),void 0!==s&&function(e,n,r=1,i=0,o=!0){e.pathLength=1;let s=o?td:tp;e[s.offset]=J.transform(-i);let a=J.transform(n),u=J.transform(r);e[s.array]=`${a} ${u}`}(d,s,a,u,!1)}let tg=()=>({...ts(),attrs:{}}),tv=e=>"string"==typeof e&&"svg"===e.toLowerCase();function ty(e,n,r,i){let s=(0,o.useMemo)(()=>{let r=tg();return tm(r,n,{enableHardwareAcceleration:!1},tv(i),e.transformTemplate),{...r.attrs,style:{...r.style}}},[n]);if(e.style){let n={};ta(n,e.style,e),s.style={...n,...s.style}}return s}let tb=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function tw(e,{style:n,vars:r},i,o){for(let s in Object.assign(e.style,n,o&&o.getProjectionStyles(i)),r)e.style.setProperty(s,r[s])}let tE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function tT(e,n,r,i){for(let r in tw(e,n,void 0,i),n.attrs)e.setAttribute(tE.has(r)?r:tb(r),n.attrs[r])}function tI(e,n){let{style:r}=e,i={};for(let o in r)(O(r[o])||n.style&&O(n.style[o])||R(o,e))&&(i[o]=r[o]);return i}function tS(e,n){let r=tI(e,n);for(let i in e)if(O(e[i])||O(n[i])){let n="x"===i||"y"===i?"attr"+i.toUpperCase():i;r[n]=e[i]}return r}function t_(e,n,r,i={},o={}){return"function"==typeof n&&(n=n(void 0!==r?r:e.custom,i,o)),"string"==typeof n&&(n=e.variants&&e.variants[n]),"function"==typeof n&&(n=n(void 0!==r?r:e.custom,i,o)),n}let tx=e=>Array.isArray(e),tA=e=>Boolean(e&&"object"==typeof e&&e.mix&&e.toValue),tk=e=>tx(e)?e[e.length-1]||0:e;function tN(e){let n=O(e)?e.get():e;return tA(n)?n.toValue():n}let tC=e=>(n,r)=>{let i=(0,o.useContext)(a),s=(0,o.useContext)(u.O),c=()=>(function({scrapeMotionValuesFromProps:e,createRenderState:n,onMount:r},i,o,s){let a={latestValues:function(e,n,r,i){let o={},s=i(e,{});for(let e in s)o[e]=tN(s[e]);let{initial:a,animate:u}=e,c=g(e),l=v(e);n&&l&&!c&&!1!==e.inherit&&(void 0===a&&(a=n.initial),void 0===u&&(u=n.animate));let h=!!r&&!1===r.initial;h=h||!1===a;let f=h?u:a;if(f&&"boolean"!=typeof f&&!d(f)){let n=Array.isArray(f)?f:[f];n.forEach(n=>{let r=t_(e,n);if(!r)return;let{transitionEnd:i,transition:s,...a}=r;for(let e in a){let n=a[e];if(Array.isArray(n)){let e=h?n.length-1:0;n=n[e]}null!==n&&(o[e]=n)}for(let e in i)o[e]=i[e]})}return o}(i,o,s,e),renderState:n()};return r&&(a.mount=e=>r(i,e,a)),a})(e,n,i,s);return r?c():(0,T.h)(c)},tD={useVisualState:tC({scrapeMotionValuesFromProps:tS,createRenderState:tg,onMount:(e,n,{renderState:r,latestValues:i})=>{try{r.dimensions="function"==typeof n.getBBox?n.getBBox():n.getBoundingClientRect()}catch(e){r.dimensions={x:0,y:0,width:0,height:0}}tm(r,i,{enableHardwareAcceleration:!1},tv(n.tagName),e.transformTemplate),tT(n,r)}})},tP={useVisualState:tC({scrapeMotionValuesFromProps:tI,createRenderState:ts})};function tR(e,n,r,i={passive:!0}){return e.addEventListener(n,r,i),()=>e.removeEventListener(n,r)}let tO=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary;function tL(e,n="page"){return{point:{x:e[n+"X"],y:e[n+"Y"]}}}let tM=e=>n=>tO(n)&&e(n,tL(n));function tj(e,n,r,i){return tR(e,n,tM(r),i)}let tV=(e,n)=>r=>n(e(r)),tF=(...e)=>e.reduce(tV);function tU(e){let n=null;return()=>{let r=()=>{n=null};return null===n&&(n=e,r)}}let tB=tU("dragHorizontal"),tq=tU("dragVertical");function tz(e){let n=!1;if("y"===e)n=tq();else if("x"===e)n=tB();else{let e=tB(),r=tq();e&&r?n=()=>{e(),r()}:(e&&e(),r&&r())}return n}function tK(){let e=tz(!0);return!e||(e(),!1)}class tG{constructor(e){this.isMounted=!1,this.node=e}update(){}}function tH(e,n){let r="onHover"+(n?"Start":"End"),i=(i,o)=>{if("touch"===i.type||tK())return;let s=e.getProps();e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n),s[r]&&s[r](i,o)};return tj(e.current,"pointer"+(n?"enter":"leave"),i,{passive:!e.getProps()[r]})}let tW=(e,n)=>!!n&&(e===n||tW(e,n.parentElement));var tZ=r(1662);function t$(e,n){if(!n)return;let r=new PointerEvent("pointer"+e);n(r,tL(r))}let tX=new WeakMap,tY=new WeakMap,tQ=e=>{let n=tX.get(e.target);n&&n(e)},tJ=e=>{e.forEach(tQ)},t0={some:0,all:1};function t1(e,n){if(!Array.isArray(n))return!1;let r=n.length;if(r!==e.length)return!1;for(let i=0;i<r;i++)if(n[i]!==e[i])return!1;return!0}let t2=e=>/^\-?\d*\.?\d+$/.test(e),t3=e=>/^0[^.\s]+$/.test(e);var t4=r(7367),t5=r(404);function t6(e,n){-1===e.indexOf(n)&&e.push(n)}function t8(e,n){let r=e.indexOf(n);r>-1&&e.splice(r,1)}class t9{constructor(){this.subscriptions=[]}add(e){return t6(this.subscriptions,e),()=>t8(this.subscriptions,e)}notify(e,n,r){let i=this.subscriptions.length;if(i){if(1===i)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){let i=this.subscriptions[o];i&&i(e,n,r)}}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function t7(e,n){return n?e*(1e3/n):0}let et=e=>!isNaN(parseFloat(e));class ee{constructor(e,n={}){this.version="10.0.1",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(e,n=!0)=>{this.prev=this.current,this.current=e;let{delta:r,timestamp:i}=t4.w;this.lastUpdated!==i&&(this.timeDelta=r,this.lastUpdated=i,t5.Z_.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),n&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>t5.Z_.postRender(this.velocityCheck),this.velocityCheck=({timestamp:e})=>{e!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=et(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new t9);let r=this.events[e].add(n);return"change"===e?()=>{r(),t5.Z_.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(let e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){n&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,n)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?t7(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n)||null,this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){this.animation=null}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function en(e,n){return new ee(e,n)}let er=(e,n)=>r=>Boolean($(r)&&Z.test(r)&&r.startsWith(e)||n&&Object.prototype.hasOwnProperty.call(r,n)),ei=(e,n,r)=>i=>{if(!$(i))return i;let[o,s,a,u]=i.match(H);return{[e]:parseFloat(o),[n]:parseFloat(s),[r]:parseFloat(a),alpha:void 0!==u?parseFloat(u):1}},eo=e=>B(0,255,e),es={...q,transform:e=>Math.round(eo(e))},ea={test:er("rgb","red"),parse:ei("red","green","blue"),transform:({red:e,green:n,blue:r,alpha:i=1})=>"rgba("+es.transform(e)+", "+es.transform(n)+", "+es.transform(r)+", "+G(z.transform(i))+")"},eu={test:er("#"),parse:function(e){let n="",r="",i="",o="";return e.length>5?(n=e.substring(1,3),r=e.substring(3,5),i=e.substring(5,7),o=e.substring(7,9)):(n=e.substring(1,2),r=e.substring(2,3),i=e.substring(3,4),o=e.substring(4,5),n+=n,r+=r,i+=i,o+=o),{red:parseInt(n,16),green:parseInt(r,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}},transform:ea.transform},ec={test:er("hsl","hue"),parse:ei("hue","saturation","lightness"),transform:({hue:e,saturation:n,lightness:r,alpha:i=1})=>"hsla("+Math.round(e)+", "+Q.transform(G(n))+", "+Q.transform(G(r))+", "+G(z.transform(i))+")"},el={test:e=>ea.test(e)||eu.test(e)||ec.test(e),parse:e=>ea.test(e)?ea.parse(e):ec.test(e)?ec.parse(e):eu.parse(e),transform:e=>$(e)?e:e.hasOwnProperty("red")?ea.transform(e):ec.transform(e)},eh="${c}",ef="${n}";function ed(e){"number"==typeof e&&(e=`${e}`);let n=[],r=0,i=0,o=e.match(W);o&&(r=o.length,e=e.replace(W,eh),n.push(...o.map(el.parse)));let s=e.match(H);return s&&(i=s.length,e=e.replace(H,ef),n.push(...s.map(q.parse))),{values:n,numColors:r,numNumbers:i,tokenised:e}}function ep(e){return ed(e).values}function em(e){let{values:n,numColors:r,tokenised:i}=ed(e),o=n.length;return e=>{let n=i;for(let i=0;i<o;i++)n=n.replace(i<r?eh:ef,i<r?el.transform(e[i]):G(e[i]));return n}}let eg=e=>"number"==typeof e?0:e,ev={test:function(e){var n,r;return isNaN(e)&&$(e)&&((null===(n=e.match(H))||void 0===n?void 0:n.length)||0)+((null===(r=e.match(W))||void 0===r?void 0:r.length)||0)>0},parse:ep,createTransformer:em,getAnimatableNone:function(e){let n=ep(e),r=em(e);return r(n.map(eg))}},ey=new Set(["brightness","contrast","saturate","opacity"]);function eb(e){let[n,r]=e.slice(0,-1).split("(");if("drop-shadow"===n)return e;let[i]=r.match(H)||[];if(!i)return e;let o=r.replace(i,""),s=ey.has(n)?1:0;return i!==r&&(s*=100),n+"("+s+o+")"}let ew=/([a-z-]*)\(.*?\)/g,eE={...ev,getAnimatableNone:e=>{let n=e.match(ew);return n?n.map(eb).join(" "):e}},eT={...ti,color:el,backgroundColor:el,outlineColor:el,fill:el,stroke:el,borderColor:el,borderTopColor:el,borderRightColor:el,borderBottomColor:el,borderLeftColor:el,filter:eE,WebkitFilter:eE},eI=e=>eT[e];function eS(e,n){let r=eI(e);return r!==eE&&(r=ev),r.getAnimatableNone?r.getAnimatableNone(n):void 0}let e_=e=>n=>n.test(e),ex=[q,J,Q,Y,te,tt,{test:e=>"auto"===e,parse:e=>e}],eA=e=>ex.find(e_(e)),ek=[...ex,el,ev],eN=e=>ek.find(e_(e));function eC(e,n,r){let i=e.getProps();return t_(i,n,void 0!==r?r:i.custom,function(e){let n={};return e.values.forEach((e,r)=>n[r]=e.get()),n}(e),function(e){let n={};return e.values.forEach((e,r)=>n[r]=e.getVelocity()),n}(e))}function eD(e){return Boolean(O(e)&&e.add)}let eP="data-"+tb("framerAppearId");var eR=r(5487);let eO=e=>1e3*e,eL={current:!1},eM=e=>n=>n<=.5?e(2*n)/2:(2-e(2*(1-n)))/2,ej=e=>n=>1-e(1-n),eV=e=>e*e,eF=ej(eV),eU=eM(eV),eB=(e,n,r)=>-r*e+r*n+e;function eq(e,n,r){return(r<0&&(r+=1),r>1&&(r-=1),r<1/6)?e+(n-e)*6*r:r<.5?n:r<2/3?e+(n-e)*(2/3-r)*6:e}let ez=(e,n,r)=>{let i=e*e;return Math.sqrt(Math.max(0,r*(n*n-i)+i))},eK=[eu,ea,ec],eG=e=>eK.find(n=>n.test(e));function eH(e){let n=eG(e);(0,eR.k)(Boolean(n),`'${e}' is not an animatable color. Use the equivalent color code instead.`);let r=n.parse(e);return n===ec&&(r=function({hue:e,saturation:n,lightness:r,alpha:i}){e/=360,r/=100;let o=0,s=0,a=0;if(n/=100){let i=r<.5?r*(1+n):r+n-r*n,u=2*r-i;o=eq(u,i,e+1/3),s=eq(u,i,e),a=eq(u,i,e-1/3)}else o=s=a=r;return{red:Math.round(255*o),green:Math.round(255*s),blue:Math.round(255*a),alpha:i}}(r)),r}let eW=(e,n)=>{let r=eH(e),i=eH(n),o={...r};return e=>(o.red=ez(r.red,i.red,e),o.green=ez(r.green,i.green,e),o.blue=ez(r.blue,i.blue,e),o.alpha=eB(r.alpha,i.alpha,e),ea.transform(o))};function eZ(e,n){return"number"==typeof e?r=>eB(e,n,r):el.test(e)?eW(e,n):eY(e,n)}let e$=(e,n)=>{let r=[...e],i=r.length,o=e.map((e,r)=>eZ(e,n[r]));return e=>{for(let n=0;n<i;n++)r[n]=o[n](e);return r}},eX=(e,n)=>{let r={...e,...n},i={};for(let o in r)void 0!==e[o]&&void 0!==n[o]&&(i[o]=eZ(e[o],n[o]));return e=>{for(let n in i)r[n]=i[n](e);return r}},eY=(e,n)=>{let r=ev.createTransformer(n),i=ed(e),o=ed(n),s=i.numColors===o.numColors&&i.numNumbers>=o.numNumbers;return s?tF(e$(i.values,o.values),r):((0,eR.K)(!0,`Complex values '${e}' and '${n}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),r=>`${r>0?n:e}`)},eQ=(e,n,r)=>{let i=n-e;return 0===i?1:(r-e)/i},eJ=(e,n)=>r=>eB(e,n,r);function e0(e,n,{clamp:r=!0,ease:i,mixer:o}={}){let s=e.length;(0,eR.k)(s===n.length,"Both input and output ranges must be the same length"),(0,eR.k)(!i||!Array.isArray(i)||i.length===s-1,"Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values."),e[0]>e[s-1]&&(e=[...e].reverse(),n=[...n].reverse());let a=function(e,n,r){let i=[],o=r||function(e){if("number"==typeof e);else if("string"==typeof e)return el.test(e)?eW:eY;else if(Array.isArray(e))return e$;else if("object"==typeof e)return eX;return eJ}(e[0]),s=e.length-1;for(let r=0;r<s;r++){let s=o(e[r],e[r+1]);if(n){let e=Array.isArray(n)?n[r]:n;s=tF(e,s)}i.push(s)}return i}(n,i,o),u=a.length,c=n=>{let r=0;if(u>1)for(;r<e.length-2&&!(n<e[r+1]);r++);let i=eQ(e[r],e[r+1],n);return a[r](i)};return r?n=>c(B(e[0],e[s-1],n)):c}let e1=(e,n,r)=>(((1-3*r+3*n)*e+(3*r-6*n))*e+3*n)*e;function e2(e,n,r,i){if(e===n&&r===i)return tZ.Z;let o=n=>(function(e,n,r,i,o){let s,a;let u=0;do(s=e1(a=n+(r-n)/2,i,o)-e)>0?r=a:n=a;while(Math.abs(s)>1e-7&&++u<12);return a})(n,0,1,e,r);return e=>0===e||1===e?e:e1(o(e),n,i)}let e3=e=>1-Math.sin(Math.acos(e)),e4=ej(e3),e5=eM(e4),e6=e2(.33,1.53,.69,.99),e8=ej(e6),e9=eM(e8),e7=e=>(e*=2)<1?.5*e8(e):.5*(2-Math.pow(2,-10*(e-1))),nt={linear:tZ.Z,easeIn:eV,easeInOut:eU,easeOut:eF,circIn:e3,circInOut:e5,circOut:e4,backIn:e8,backInOut:e9,backOut:e6,anticipate:e7},ne=e=>{if(Array.isArray(e)){(0,eR.k)(4===e.length,"Cubic bezier arrays must contain four numerical values.");let[n,r,i,o]=e;return e2(n,r,i,o)}return"string"==typeof e?((0,eR.k)(void 0!==nt[e],`Invalid easing type '${e}'`),nt[e]):e},nn=e=>Array.isArray(e)&&"number"!=typeof e[0];function nr({keyframes:e,ease:n=eU,times:r,duration:i=300}){e=[...e];let o=nn(n)?n.map(ne):ne(n),s={done:!1,value:e[0]},a=(r&&r.length===e.length?r:function(e){let n=[0];return function(e,n){let r=e[e.length-1];for(let i=1;i<=n;i++){let o=eQ(0,n,i);e.push(eB(r,1,o))}}(n,e.length-1),n}(e)).map(e=>e*i);function u(){var n;return e0(a,e,{ease:Array.isArray(o)?o:(n=e).map(()=>o||eU).splice(0,n.length-1)})}let c=u();return{next:e=>(s.value=c(e),s.done=e>=i,s),flipTarget:()=>{e.reverse(),c=u()}}}function ni(e,n){return e*Math.sqrt(1-n*n)}let no=["duration","bounce"],ns=["stiffness","damping","mass"];function na(e,n){return n.some(n=>void 0!==e[n])}function nu({keyframes:e,restDelta:n,restSpeed:r,...i}){let o=e[0],s=e[e.length-1],a={done:!1,value:o},{stiffness:u,damping:c,mass:l,velocity:h,duration:f,isResolvedFromDuration:d}=function(e){let n={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!na(e,ns)&&na(e,no)){let r=function({duration:e=800,bounce:n=.25,velocity:r=0,mass:i=1}){let o,s;(0,eR.K)(e<=1e4,"Spring duration must be 10 seconds or less");let a=1-n;a=B(.05,1,a),e=B(.01,10,e/1e3),a<1?(o=n=>{let i=n*a,o=i*e,s=ni(n,a);return .001-(i-r)/s*Math.exp(-o)},s=n=>{let i=n*a,s=i*e,u=Math.pow(a,2)*Math.pow(n,2)*e,c=ni(Math.pow(n,2),a),l=-o(n)+.001>0?-1:1;return l*((s*r+r-u)*Math.exp(-s))/c}):(o=n=>{let i=Math.exp(-n*e),o=(n-r)*e+1;return -.001+i*o},s=n=>{let i=Math.exp(-n*e),o=(r-n)*(e*e);return i*o});let u=5/e,c=function(e,n,r){let i=r;for(let r=1;r<12;r++)i-=e(i)/n(i);return i}(o,s,u);if(e*=1e3,isNaN(c))return{stiffness:100,damping:10,duration:e};{let n=Math.pow(c,2)*i;return{stiffness:n,damping:2*a*Math.sqrt(i*n),duration:e}}}(e);(n={...n,...r,velocity:0,mass:1}).isResolvedFromDuration=!0}return n}(i),p=nc,m=h?-(h/1e3):0,g=c/(2*Math.sqrt(u*l));function v(){let e=s-o,i=Math.sqrt(u/l)/1e3,a=5>Math.abs(e);if(r||(r=a?.01:2),n||(n=a?.005:.5),g<1){let n=ni(i,g);p=r=>s-Math.exp(-g*i*r)*((m+g*i*e)/n*Math.sin(n*r)+e*Math.cos(n*r))}else if(1===g)p=n=>s-Math.exp(-i*n)*(e+(m+i*e)*n);else{let n=i*Math.sqrt(g*g-1);p=r=>{let o=Math.min(n*r,300);return s-Math.exp(-g*i*r)*((m+g*i*e)*Math.sinh(o)+n*e*Math.cosh(o))/n}}}return v(),{next:e=>{let i=p(e);if(d)a.done=e>=f;else{let o=m;if(0!==e){if(g<1){let n=Math.max(0,e-5);o=t7(i-p(n),e-n)}else o=0}let u=Math.abs(o)<=r,c=Math.abs(s-i)<=n;a.done=u&&c}return a.value=a.done?s:i,a},flipTarget:()=>{m=-m,[o,s]=[s,o],v()}}}nu.needsInterpolation=(e,n)=>"string"==typeof e||"string"==typeof n;let nc=e=>0,nl={decay:function({keyframes:e=[0],velocity:n=0,power:r=.8,timeConstant:i=350,restDelta:o=.5,modifyTarget:s}){let a=e[0],u={done:!1,value:a},c=r*n,l=a+c,h=void 0===s?l:s(l);return h!==l&&(c=h-a),{next:e=>{let n=-c*Math.exp(-e/i);return u.done=!(n>o||n<-o),u.value=u.done?h:h+n,u},flipTarget:()=>{}}},keyframes:nr,tween:nr,spring:nu};function nh(e,n,r=0){return e-n-r}let nf=e=>{let n=({delta:n})=>e(n);return{start:()=>t5.Z_.update(n,!0),stop:()=>t5.qY.update(n)}};function nd({duration:e,driver:n=nf,elapsed:r=0,repeat:i=0,repeatType:o="loop",repeatDelay:s=0,keyframes:a,autoplay:u=!0,onPlay:c,onStop:l,onComplete:h,onRepeat:f,onUpdate:d,type:p="keyframes",...m}){let g,v;let y=r,b=0,w=e,E=!1,T=!0,I=nl[a.length>2?"keyframes":p]||nr,S=a[0],_=a[a.length-1],x={done:!1,value:S},{needsInterpolation:A}=I;A&&A(S,_)&&(v=e0([0,100],[S,_],{clamp:!1}),a=[0,100]);let k=I({...m,duration:e,keyframes:a});function N(e){if(T||(e=-e),r+=e,E||(x=k.next(Math.max(0,r)),v&&(x.value=v(x.value)),E=T?x.done:r<=0),d&&d(x.value),E){if(0===b&&(w=void 0!==w?w:r),b<i){var n,a;n=r,a=w,(T?n>=a+s:n<=-s)&&(b++,"reverse"===o?r=function(e,n=0,r=0,i=!0){return i?nh(n+-e,n,r):n-(e-n)+r}(r,w,s,T=b%2==0):(r=nh(r,w,s),"mirror"===o&&k.flipTarget()),E=!1,f&&f())}else g&&g.stop(),h&&h()}}return u&&(c&&c(),(g=n(N)).start()),{stop:()=>{l&&l(),g&&g.stop()},set currentTime(t){r=y,N(t)},sample:(n,i=!1)=>{if(r=y,i)return N(n),x;let o=e&&"number"==typeof e?Math.max(.5*e,50):50,s=0;for(N(0);s<=n;){let e=n-s;N(Math.min(e,o)),s+=o}return x}}}let np=([e,n,r,i])=>`cubic-bezier(${e}, ${n}, ${r}, ${i})`,nm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:np([0,.65,.55,1]),circOut:np([.55,0,1,.45]),backIn:np([.31,.01,.66,-.59]),backOut:np([.33,1.53,.69,.99])},ng={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},nv={},ny={};for(let e in ng)ny[e]=()=>(void 0===nv[e]&&(nv[e]=ng[e]()),nv[e]);let nb=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),nw=(e,n)=>{var r;return"spring"===n.type||"backgroundColor"===e||!(!(r=n.ease)||Array.isArray(r)||"string"==typeof r&&nm[r])};function nE(e,n){let r=performance.now(),i=({timestamp:o})=>{let s=o-r;s>=n&&(t5.qY.read(i),e(s-n))};return t5.Z_.read(i,!0),()=>t5.qY.read(i)}let nT={type:"spring",stiffness:500,damping:25,restSpeed:10},nI=e=>({type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}),nS={type:"keyframes",duration:.8},n_={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nx=(e,{keyframes:n})=>n.length>2?nS:P.has(e)?e.startsWith("scale")?nI(n[1]):nT:n_,nA=(e,n)=>"zIndex"!==e&&!!("number"==typeof n||Array.isArray(n)||"string"==typeof n&&ev.test(n)&&!n.startsWith("url("));function nk(e){return 0===e||"string"==typeof e&&0===parseFloat(e)&&-1===e.indexOf(" ")}function nN(e){return"number"==typeof e?0:eS("",e)}function nC(e,n){return e[n]||e.default||e}let nD=(e,n,r,i={})=>o=>{let s=nC(i,e)||{},a=s.delay||i.delay||0,{elapsed:u=0}=i;u-=eO(a);let c=function(e,n,r,i){let o=nA(n,r),s=void 0!==i.from?i.from:e.get();return("none"===s&&o&&"string"==typeof r?s=eS(n,r):nk(s)&&"string"==typeof r?s=nN(r):!Array.isArray(r)&&nk(r)&&"string"==typeof s&&(r=nN(s)),Array.isArray(r))?(null===r[0]&&(r[0]=s),r):[s,r]}(n,e,r,s),l=c[0],h=c[c.length-1],f=nA(e,l),d=nA(e,h);(0,eR.K)(f===d,`You are trying to animate ${e} from "${l}" to "${h}". ${l} is not an animatable value - to enable this animation set ${l} to a value animatable to ${h} via the \`style\` property.`);let p={keyframes:c,velocity:n.getVelocity(),...s,elapsed:u,onUpdate:e=>{n.set(e),s.onUpdate&&s.onUpdate(e)},onComplete:()=>{o(),s.onComplete&&s.onComplete()}};if(!f||!d||eL.current||!1===s.type)return function({keyframes:e,elapsed:n,onUpdate:r,onComplete:i}){let o=()=>{r&&r(e[e.length-1]),i&&i()};return n?{stop:nE(o,-n)}:o()}(p);if("inertia"===s.type)return function({keyframes:e,velocity:n=0,min:r,max:i,power:o=.8,timeConstant:s=750,bounceStiffness:a=500,bounceDamping:u=10,restDelta:c=1,modifyTarget:l,driver:h,onUpdate:f,onComplete:d,onStop:p}){let m;let g=e[0];function v(e){return void 0!==r&&e<r||void 0!==i&&e>i}function y(e){return void 0===r?i:void 0===i?r:Math.abs(r-e)<Math.abs(i-e)?r:i}function b(e){m&&m.stop(),m=nd({keyframes:[0,1],velocity:0,...e,driver:h,onUpdate:n=>{f&&f(n),e.onUpdate&&e.onUpdate(n)},onComplete:d,onStop:p})}function w(e){b({type:"spring",stiffness:a,damping:u,restDelta:c,...e})}if(v(g))w({velocity:n,keyframes:[g,y(g)]});else{let e,i,a=o*n+g;void 0!==l&&(a=l(a));let u=y(a),h=u===r?-1:1,f=r=>{e=i,i=r,n=t7(r-e,t4.w.delta),(1===h&&r>u||-1===h&&r<u)&&w({keyframes:[r,u],velocity:n})};b({type:"decay",keyframes:[g,0],velocity:n,timeConstant:s,power:o,restDelta:c,modifyTarget:l,onUpdate:v(a)?f:void 0})}return{stop:()=>m&&m.stop()}}(p);if(!function({when:e,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:o,repeat:s,repeatType:a,repeatDelay:u,from:c,elapsed:l,...h}){return!!Object.keys(h).length}(s)&&(p={...p,...nx(e,p)}),p.duration&&(p.duration=eO(p.duration)),p.repeatDelay&&(p.repeatDelay=eO(p.repeatDelay)),n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate){let r=function(e,n,{onUpdate:r,onComplete:i,...o}){let s=ny.waapi()&&nb.has(n)&&!o.repeatDelay&&"mirror"!==o.repeatType&&0!==o.damping;if(!s)return!1;let{keyframes:a,duration:u=300,elapsed:c=0,ease:l}=o;if(nw(n,o)){let e=nd({...o,repeat:0,elapsed:0}),n={done:!1,value:a[0]},r=[],i=0;for(;!n.done&&i<2e4;)r.push((n=e.sample(i,!0)).value),i+=10;a=r,u=i-10,l="linear"}let h=function(e,n,r,{delay:i=0,duration:o,repeat:s=0,repeatType:a="loop",ease:u,times:c}={}){return e.animate({[n]:r,offset:c},{delay:i,duration:o,easing:function(e){if(e)return Array.isArray(e)?np(e):nm[e]}(u),fill:"both",iterations:s+1,direction:"reverse"===a?"alternate":"normal"})}(e.owner.current,n,a,{...o,delay:-c,duration:u,ease:l});return h.onfinish=()=>{e.set(function(e,{repeat:n,repeatType:r="loop"}){let i=n&&"loop"!==r&&n%2==1?0:e.length-1;return e[i]}(a,o)),t5.Z_.update(()=>h.cancel()),i&&i()},{get currentTime(){return h.currentTime||0},set currentTime(t){h.currentTime=t},stop:()=>{let{currentTime:n}=h;if(n){let r=nd({...o,autoplay:!1});e.setWithVelocity(r.sample(n-10).value,r.sample(n).value,10)}t5.Z_.update(()=>h.cancel())}}}(n,e,p);if(r)return r}return nd(p)};function nP(e,n,r={}){let i=eC(e,n,r.custom),{transition:o=e.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(o=r.transitionOverride);let s=i?()=>nR(e,i,r):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(i=0)=>{let{delayChildren:s=0,staggerChildren:a,staggerDirection:u}=o;return function(e,n,r=0,i=0,o=1,s){let a=[],u=(e.variantChildren.size-1)*i,c=1===o?(e=0)=>e*i:(e=0)=>u-e*i;return Array.from(e.variantChildren).sort(nO).forEach((e,i)=>{e.notify("AnimationStart",n),a.push(nP(e,n,{...s,delay:r+c(i)}).then(()=>e.notify("AnimationComplete",n)))}),Promise.all(a)}(e,n,s+i,a,u,r)}:()=>Promise.resolve(),{when:u}=o;if(!u)return Promise.all([s(),a(r.delay)]);{let[e,n]="beforeChildren"===u?[s,a]:[a,s];return e().then(n)}}function nR(e,n,{delay:r=0,transitionOverride:i,type:o}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:a,...u}=e.makeTargetAnimatable(n),c=e.getValue("willChange");i&&(s=i);let l=[],h=o&&e.animationState&&e.animationState.getState()[o];for(let n in u){let i=e.getValue(n),o=u[n];if(!i||void 0===o||h&&function({protectedKeys:e,needsAnimating:n},r){let i=e.hasOwnProperty(r)&&!0!==n[r];return n[r]=!1,i}(h,n))continue;let a={delay:r,elapsed:0,...s};if(window.HandoffAppearAnimations&&!i.hasAnimated){let r=e.getProps()[eP];r&&(a.elapsed=window.HandoffAppearAnimations(r,n,i,t5.Z_))}let f=i.start(nD(n,i,o,e.shouldReduceMotion&&P.has(n)?{type:!1}:a));eD(c)&&(c.add(n),f=f.then(()=>c.remove(n))),l.push(f)}return Promise.all(l).then(()=>{a&&function(e,n){let r=eC(e,n),{transitionEnd:i={},transition:o={},...s}=r?e.makeTargetAnimatable(r,!1):{};for(let n in s={...s,...i}){var a;let r=tk(s[n]);a=n,e.hasValue(a)?e.getValue(a).set(r):e.addValue(a,en(r))}}(e,a)})}function nO(e,n){return e.sortNodePosition(n)}let nL=[...p].reverse(),nM=p.length;function nj(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let nV=0,nF=(e,n)=>Math.abs(e-n);class nU{constructor(e,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let e=nz(this.lastMoveEventInfo,this.history),n=null!==this.startEvent,r=function(e,n){let r=nF(e.x,n.x),i=nF(e.y,n.y);return Math.sqrt(r**2+i**2)}(e.offset,{x:0,y:0})>=3;if(!n&&!r)return;let{point:i}=e,{timestamp:o}=t4.w;this.history.push({...i,timestamp:o});let{onStart:s,onMove:a}=this.handlers;n||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,n)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=nB(n,this.transformPagePoint),t5.Z_.update(this.updatePoint,!0)},this.handlePointerUp=(e,n)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let{onEnd:r,onSessionEnd:i}=this.handlers,o=nz("pointercancel"===e.type?this.lastMoveEventInfo:nB(n,this.transformPagePoint),this.history);this.startEvent&&r&&r(e,o),i&&i(e,o)},!tO(e))return;this.handlers=n,this.transformPagePoint=r;let i=tL(e),o=nB(i,this.transformPagePoint),{point:s}=o,{timestamp:a}=t4.w;this.history=[{...s,timestamp:a}];let{onSessionStart:u}=n;u&&u(e,nz(o,this.history)),this.removeListeners=tF(tj(window,"pointermove",this.handlePointerMove),tj(window,"pointerup",this.handlePointerUp),tj(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),t5.qY.update(this.updatePoint)}}function nB(e,n){return n?{point:n(e.point)}:e}function nq(e,n){return{x:e.x-n.x,y:e.y-n.y}}function nz({point:e},n){return{point:e,delta:nq(e,nK(n)),offset:nq(e,n[0]),velocity:function(e,n){if(e.length<2)return{x:0,y:0};let r=e.length-1,i=null,o=nK(e);for(;r>=0&&(i=e[r],!(o.timestamp-i.timestamp>eO(.1)));)r--;if(!i)return{x:0,y:0};let s=(o.timestamp-i.timestamp)/1e3;if(0===s)return{x:0,y:0};let a={x:(o.x-i.x)/s,y:(o.y-i.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}(n,0)}}function nK(e){return e[e.length-1]}function nG(e){return e.max-e.min}function nH(e,n=0,r=.01){return Math.abs(e-n)<=r}function nW(e,n,r,i=.5){e.origin=i,e.originPoint=eB(n.min,n.max,e.origin),e.scale=nG(r)/nG(n),(nH(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=eB(r.min,r.max,e.origin)-e.originPoint,(nH(e.translate)||isNaN(e.translate))&&(e.translate=0)}function nZ(e,n,r,i){nW(e.x,n.x,r.x,i?i.originX:void 0),nW(e.y,n.y,r.y,i?i.originY:void 0)}function n$(e,n,r){e.min=r.min+n.min,e.max=e.min+nG(n)}function nX(e,n,r){e.min=n.min-r.min,e.max=e.min+nG(n)}function nY(e,n,r){nX(e.x,n.x,r.x),nX(e.y,n.y,r.y)}function nQ(e,n,r){return{min:void 0!==n?e.min+n:void 0,max:void 0!==r?e.max+r-(e.max-e.min):void 0}}function nJ(e,n){let r=n.min-e.min,i=n.max-e.max;return n.max-n.min<e.max-e.min&&([r,i]=[i,r]),{min:r,max:i}}function n0(e,n,r){return{min:n1(e,n),max:n1(e,r)}}function n1(e,n){return"number"==typeof e?e:e[n]||0}let n2=()=>({translate:0,scale:1,origin:0,originPoint:0}),n3=()=>({x:n2(),y:n2()}),n4=()=>({min:0,max:0}),n5=()=>({x:n4(),y:n4()});function n6(e){return[e("x"),e("y")]}function n8({top:e,left:n,right:r,bottom:i}){return{x:{min:n,max:r},y:{min:e,max:i}}}function n9(e){return void 0===e||1===e}function n7({scale:e,scaleX:n,scaleY:r}){return!n9(e)||!n9(n)||!n9(r)}function rt(e){return n7(e)||re(e)||e.z||e.rotate||e.rotateX||e.rotateY}function re(e){var n,r;return(n=e.x)&&"0%"!==n||(r=e.y)&&"0%"!==r}function rn(e,n,r,i,o){return void 0!==o&&(e=i+o*(e-i)),i+r*(e-i)+n}function rr(e,n=0,r=1,i,o){e.min=rn(e.min,n,r,i,o),e.max=rn(e.max,n,r,i,o)}function ri(e,{x:n,y:r}){rr(e.x,n.translate,n.scale,n.originPoint),rr(e.y,r.translate,r.scale,r.originPoint)}function ro(e){return Number.isInteger(e)?e:e>1.0000000000001||e<.999999999999?e:1}function rs(e,n){e.min=e.min+n,e.max=e.max+n}function ra(e,n,[r,i,o]){let s=void 0!==n[o]?n[o]:.5,a=eB(e.min,e.max,s);rr(e,n[r],n[i],a,n.scale)}let ru=["x","scaleX","originX"],rc=["y","scaleY","originY"];function rl(e,n){ra(e.x,n,ru),ra(e.y,n,rc)}function rh(e,n){return n8(function(e,n){if(!n)return e;let r=n({x:e.left,y:e.top}),i=n({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:i.y,right:i.x}}(e.getBoundingClientRect(),n))}let rf=new WeakMap;class rd{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=n5(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){let{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;let i=e=>{this.stopAnimation(),n&&this.snapToCursor(tL(e,"page").point)},o=(e,n)=>{let{drag:r,dragPropagation:i,onDragStart:o}=this.getProps();if(r&&!i&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=tz(r),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),n6(e=>{let n=this.getAxisMotionValue(e).get()||0;if(Q.test(n)){let{projection:r}=this.visualElement;if(r&&r.layout){let i=r.layout.layoutBox[e];if(i){let e=nG(i);n=e*(parseFloat(n)/100)}}}this.originPoint[e]=n}),o&&o(e,n);let{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},s=(e,n)=>{let{dragPropagation:r,dragDirectionLock:i,onDirectionLock:o,onDrag:s}=this.getProps();if(!r&&!this.openGlobalLock)return;let{offset:a}=n;if(i&&null===this.currentDirection){this.currentDirection=function(e,n=10){let r=null;return Math.abs(e.y)>n?r="y":Math.abs(e.x)>n&&(r="x"),r}(a),null!==this.currentDirection&&o&&o(this.currentDirection);return}this.updateAxis("x",n.point,a),this.updateAxis("y",n.point,a),this.visualElement.render(),s&&s(e,n)},a=(e,n)=>this.stop(e,n);this.panSession=new nU(e,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,n){let r=this.isDragging;if(this.cancel(),!r)return;let{velocity:i}=n;this.startAnimation(i);let{onDragEnd:o}=this.getProps();o&&o(e,n)}cancel(){this.isDragging=!1;let{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){let{drag:i}=this.getProps();if(!r||!rp(e,i,this.currentDirection))return;let o=this.getAxisMotionValue(e),s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=function(e,{min:n,max:r},i){return void 0!==n&&e<n?e=i?eB(n,e,i.min):Math.max(e,n):void 0!==r&&e>r&&(e=i?eB(r,e,i.max):Math.min(e,r)),e}(s,this.constraints[e],this.elastic[e])),o.set(s)}resolveConstraints(){let{dragConstraints:e,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;e&&h(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=function(e,{top:n,left:r,bottom:i,right:o}){return{x:nQ(e.x,r,o),y:nQ(e.y,n,i)}}(r.layoutBox,e):this.constraints=!1,this.elastic=function(e=.35){return!1===e?e=0:!0===e&&(e=.35),{x:n0(e,"left","right"),y:n0(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&n6(e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,n){let r={};return void 0!==n.min&&(r.min=n.min-e.min),void 0!==n.max&&(r.max=n.max-e.min),r}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){var e;let{dragConstraints:n,onMeasureDragConstraints:r}=this.getProps();if(!n||!h(n))return!1;let i=n.current;(0,eR.k)(null!==i,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");let{projection:o}=this.visualElement;if(!o||!o.layout)return!1;let s=function(e,n,r){let i=rh(e,r),{scroll:o}=n;return o&&(rs(i.x,o.offset.x),rs(i.y,o.offset.y)),i}(i,o.root,this.visualElement.getTransformPagePoint()),a={x:nJ((e=o.layout.layoutBox).x,s.x),y:nJ(e.y,s.y)};if(r){let e=r(function({x:e,y:n}){return{top:n.min,right:e.max,bottom:n.max,left:e.min}}(a));this.hasMutatedConstraints=!!e,e&&(a=n8(e))}return a}startAnimation(e){let{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),u=this.constraints||{},c=n6(a=>{if(!rp(a,n,this.currentDirection))return;let c=u&&u[a]||{};s&&(c={min:0,max:0});let l={type:"inertia",velocity:r?e[a]:0,bounceStiffness:i?200:1e6,bounceDamping:i?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...o,...c};return this.startAxisValueAnimation(a,l)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){let r=this.getAxisMotionValue(e);return r.start(nD(e,r,0,n))}stopAnimation(){n6(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){let n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){n6(n=>{let{drag:r}=this.getProps();if(!rp(n,r,this.currentDirection))return;let{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){let{min:r,max:s}=i.layout.layoutBox[n];o.set(e[n]-eB(r,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!h(n)||!r||!this.constraints)return;this.stopAnimation();let i={x:0,y:0};n6(e=>{let n=this.getAxisMotionValue(e);if(n){let r=n.get();i[e]=function(e,n){let r=.5,i=nG(e),o=nG(n);return o>i?r=eQ(n.min,n.max-i,e.min):i>o&&(r=eQ(e.min,e.max-o,n.min)),B(0,1,r)}({min:r,max:r},this.constraints[e])}});let{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),n6(n=>{if(!rp(n,e,null))return;let r=this.getAxisMotionValue(n),{min:o,max:s}=this.constraints[n];r.set(eB(o,s,i[n]))})}addListeners(){if(!this.visualElement.current)return;rf.set(this.visualElement,this);let e=this.visualElement.current,n=tj(e,"pointerdown",e=>{let{drag:n,dragListener:r=!0}=this.getProps();n&&r&&this.start(e)}),r=()=>{let{dragConstraints:e}=this.getProps();h(e)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();let s=tR(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:e,hasLayoutChanged:n})=>{this.isDragging&&n&&(n6(n=>{let r=this.getAxisMotionValue(n);r&&(this.originPoint[n]+=e[n].translate,r.set(r.get()+e[n].translate))}),this.visualElement.render())});return()=>{s(),n(),o(),a&&a()}}getProps(){let e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=.35,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:a}}}function rp(e,n,r){return(!0===n||n===e)&&(null===r||r===e)}function rm(e,n){return n.max===n.min?0:e/(n.max-n.min)*100}let rg={correct:(e,n)=>{if(!n.target)return e;if("string"==typeof e){if(!J.test(e))return e;e=parseFloat(e)}let r=rm(e,n.target.x),i=rm(e,n.target.y);return`${r}% ${i}%`}},rv=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function ry(e,n,r=1){(0,eR.k)(r<=4,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`);let[i,o]=function(e){let n=rv.exec(e);if(!n)return[,];let[,r,i]=n;return[r,i]}(e);if(!i)return;let s=window.getComputedStyle(n).getPropertyValue(i);return s?s.trim():F(o)?ry(o,n,r+1):o}let rb="_$css",rw={correct:(e,{treeScale:n,projectionDelta:r})=>{let i=e,o=e.includes("var("),s=[];o&&(e=e.replace(rv,e=>(s.push(e),rb)));let a=ev.parse(e);if(a.length>5)return i;let u=ev.createTransformer(e),c="number"!=typeof a[0]?1:0,l=r.x.scale*n.x,h=r.y.scale*n.y;a[0+c]/=l,a[1+c]/=h;let f=eB(l,h,.5);"number"==typeof a[2+c]&&(a[2+c]/=f),"number"==typeof a[3+c]&&(a[3+c]/=f);let d=u(a);if(o){let e=0;d=d.replace(rb,()=>{let n=s[e];return e++,n})}return d}};class rE extends o.Component{componentDidMount(){let{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;Object.assign(C,rI),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),I.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){let{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,s=r.projection;return s&&(s.isPresent=o,i||e.layoutDependency!==n||void 0===n?s.willUpdate():this.safeToRemove(),e.isPresent===o||(o?s.promote():s.relegate()||t5.Z_.postRender(()=>{let e=s.getStack();e&&e.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){let{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){let{safeToRemove:e}=this.props;e&&e()}render(){return null}}function rT(e){let[n,r]=function(){let e=(0,o.useContext)(u.O);if(null===e)return[!0,null];let{isPresent:n,onExitComplete:r,register:i}=e,s=(0,o.useId)();(0,o.useEffect)(()=>i(s),[]);let a=()=>r&&r(s);return!n&&r?[!1,a]:[!0]}(),i=(0,o.useContext)(_.p);return o.createElement(rE,{...e,layoutGroup:i,switchLayoutGroup:(0,o.useContext)(x),isPresent:n,safeToRemove:r})}let rI={borderRadius:{...rg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:rg,borderTopRightRadius:rg,borderBottomLeftRadius:rg,borderBottomRightRadius:rg,boxShadow:rw},rS=["TopLeft","TopRight","BottomLeft","BottomRight"],r_=rS.length,rx=e=>"string"==typeof e?parseFloat(e):e,rA=e=>"number"==typeof e||J.test(e);function rk(e,n){return void 0!==e[n]?e[n]:e.borderRadius}let rN=rD(0,.5,e4),rC=rD(.5,.95,tZ.Z);function rD(e,n,r){return i=>i<e?0:i>n?1:r(eQ(e,n,i))}function rP(e,n){e.min=n.min,e.max=n.max}function rR(e,n){rP(e.x,n.x),rP(e.y,n.y)}function rO(e,n,r,i,o){return e-=n,e=i+1/r*(e-i),void 0!==o&&(e=i+1/o*(e-i)),e}function rL(e,n,[r,i,o],s,a){!function(e,n=0,r=1,i=.5,o,s=e,a=e){if(Q.test(n)){n=parseFloat(n);let e=eB(a.min,a.max,n/100);n=e-a.min}if("number"!=typeof n)return;let u=eB(s.min,s.max,i);e===s&&(u-=n),e.min=rO(e.min,n,r,u,o),e.max=rO(e.max,n,r,u,o)}(e,n[r],n[i],n[o],n.scale,s,a)}let rM=["x","scaleX","originX"],rj=["y","scaleY","originY"];function rV(e,n,r,i){rL(e.x,n,rM,r?r.x:void 0,i?i.x:void 0),rL(e.y,n,rj,r?r.y:void 0,i?i.y:void 0)}function rF(e){return 0===e.translate&&1===e.scale}function rU(e){return rF(e.x)&&rF(e.y)}function rB(e,n){return e.x.min===n.x.min&&e.x.max===n.x.max&&e.y.min===n.y.min&&e.y.max===n.y.max}function rq(e){return nG(e.x)/nG(e.y)}class rz{constructor(){this.members=[]}add(e){t6(this.members,e),e.scheduleRender()}remove(e){if(t8(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){let e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){let n;let r=this.members.findIndex(n=>e===n);if(0===r)return!1;for(let e=r;e>=0;e--){let r=this.members[e];if(!1!==r.isPresent){n=r;break}}return!!n&&(this.promote(n),!0)}promote(e,n){let r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);let{crossfade:i}=e.options;!1===i&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{let{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function rK(e,n,r){let i="",o=e.x.translate/n.x,s=e.y.translate/n.y;if((o||s)&&(i=`translate3d(${o}px, ${s}px, 0) `),(1!==n.x||1!==n.y)&&(i+=`scale(${1/n.x}, ${1/n.y}) `),r){let{rotate:e,rotateX:n,rotateY:o}=r;e&&(i+=`rotate(${e}deg) `),n&&(i+=`rotateX(${n}deg) `),o&&(i+=`rotateY(${o}deg) `)}let a=e.x.scale*n.x,u=e.y.scale*n.y;return(1!==a||1!==u)&&(i+=`scale(${a}, ${u})`),i||"none"}let rG=(e,n)=>e.depth-n.depth;class rH{constructor(){this.children=[],this.isDirty=!1}add(e){t6(this.children,e),this.isDirty=!0}remove(e){t8(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(rG),this.isDirty=!1,this.children.forEach(e)}}let rW=["","X","Y","Z"],rZ=0,r$={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function rX({attachResizeListener:e,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(e,r={},i=null==n?void 0:n()){this.id=rZ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{r$.totalNodes=r$.resolvedTargetDeltas=r$.recalculatedProjection=0,this.nodes.forEach(rJ),this.nodes.forEach(r5),this.nodes.forEach(r6),this.nodes.forEach(r0),window.MotionDebug&&window.MotionDebug.record(r$)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=e,this.latestValues=r,this.root=i?i.root||i:this,this.path=i?[...i.path,i]:[],this.parent=i,this.depth=i?i.depth+1:0,e&&this.root.registerPotentialNode(e,this);for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new rH)}addEventListener(e,n){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new t9),this.eventHandlers.get(e).add(n)}notifyListeners(e,...n){let r=this.eventHandlers.get(e);r&&r.notify(...n)}hasListeners(e){return this.eventHandlers.has(e)}registerPotentialNode(e,n){this.potentialNodes.set(e,n)}mount(n,r=!1){if(this.instance)return;this.isSVG=n instanceof SVGElement&&"svg"!==n.tagName,this.instance=n;let{layoutId:i,layout:o,visualElement:s}=this.options;if(s&&!s.current&&s.mount(n),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),r&&(o||i)&&(this.isLayoutDirty=!0),e){let r;let i=()=>this.root.updateBlockedByResize=!1;e(n,()=>{this.root.updateBlockedByResize=!0,r&&r(),r=nE(i,250),I.hasAnimatedSinceResize&&(I.hasAnimatedSinceResize=!1,this.nodes.forEach(r4))})}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&s&&(i||o)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:i})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let o=this.options.transition||s.getDefaultTransition()||ir,{onLayoutAnimationStart:a,onLayoutAnimationComplete:u}=s.getProps(),c=!this.targetLayout||!rB(this.targetLayout,i)||r,l=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||l||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,l);let n={...nC(o,"layout"),onPlay:a,onComplete:u};(s.shouldReduceMotion||this.options.layoutRoot)&&(n.delay=0,n.type=!1),this.startAnimation(n)}else n||0!==this.animationProgress||r4(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,t5.qY.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(r8),this.animationId++)}getTransformTemplate(){let{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){let n=this.path[e];n.shouldResetTransform=!0,n.updateScroll("snapshot"),n.options.layoutRoot&&n.willUpdate(!1)}let{layoutId:n,layout:r}=this.options;if(void 0===n&&!r)return;let i=this.getTransformTemplate();this.prevTransformTemplateValue=i?i(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}didUpdate(){let e=this.isUpdateBlocked();if(e){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(r2);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(ii),this.potentialNodes.clear()),this.nodes.forEach(r3),this.nodes.forEach(rY),this.nodes.forEach(rQ),this.clearAllSnapshots(),t5.iW.update(),t5.iW.preRender(),t5.iW.render())}clearAllSnapshots(){this.nodes.forEach(r1),this.sharedNodes.forEach(r9)}scheduleUpdateProjection(){t5.Z_.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){t5.Z_.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++){let n=this.path[e];n.updateScroll()}let e=this.layout;this.layout=this.measure(!1),this.layoutCorrected=n5(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:n}=this.options;n&&n.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let n=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(n=!1),n&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:i(this.instance),offset:r(this.instance)})}resetTransform(){if(!o)return;let e=this.isLayoutDirty||this.shouldResetTransform,n=this.projectionDelta&&!rU(this.projectionDelta),r=this.getTransformTemplate(),i=r?r(this.latestValues,""):void 0,s=i!==this.prevTransformTemplateValue;e&&(n||rt(this.latestValues)||s)&&(o(this.instance,i),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){var n;let r=this.measurePageBox(),i=this.removeElementScroll(r);return e&&(i=this.removeTransform(i)),io((n=i).x),io(n.y),{animationId:this.root.animationId,measuredBox:r,layoutBox:i,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:e}=this.options;if(!e)return n5();let n=e.measureViewportBox(),{scroll:r}=this.root;return r&&(rs(n.x,r.offset.x),rs(n.y,r.offset.y)),n}removeElementScroll(e){let n=n5();rR(n,e);for(let r=0;r<this.path.length;r++){let i=this.path[r],{scroll:o,options:s}=i;if(i!==this.root&&o&&s.layoutScroll){if(o.isRoot){rR(n,e);let{scroll:r}=this.root;r&&(rs(n.x,-r.offset.x),rs(n.y,-r.offset.y))}rs(n.x,o.offset.x),rs(n.y,o.offset.y)}}return n}applyTransform(e,n=!1){let r=n5();rR(r,e);for(let e=0;e<this.path.length;e++){let i=this.path[e];!n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&rl(r,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),rt(i.latestValues)&&rl(r,i.latestValues)}return rt(this.latestValues)&&rl(r,this.latestValues),r}removeTransform(e){let n=n5();rR(n,e);for(let e=0;e<this.path.length;e++){let r=this.path[e];if(!r.instance||!rt(r.latestValues))continue;n7(r.latestValues)&&r.updateSnapshot();let i=n5(),o=r.measurePageBox();rR(i,o),rV(n,r.latestValues,r.snapshot?r.snapshot.layoutBox:void 0,i)}return rt(this.latestValues)&&rV(n,this.latestValues),n}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var e,n,r,i;let o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);let s=Boolean(this.resumingFrom)||this!==o,a=!(s&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty)||this.attemptToResolveRelativeTarget);if(a)return;let{layout:u,layoutId:c}=this.options;if(this.layout&&(u||c)){if(!this.targetDelta&&!this.relativeTarget){let e=this.getClosestProjectingParent();e&&e.layout?(this.relativeParent=e,this.relativeTarget=n5(),this.relativeTargetOrigin=n5(),nY(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),rR(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){if((this.target||(this.target=n5(),this.targetWithTransforms=n5()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target)?(n=this.target,r=this.relativeTarget,i=this.relativeParent.target,n$(n.x,r.x,i.x),n$(n.y,r.y,i.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):rR(this.target,this.layout.layoutBox),ri(this.target,this.targetDelta)):rR(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;let e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target?(this.relativeParent=e,this.relativeTarget=n5(),this.relativeTargetOrigin=n5(),nY(this.relativeTargetOrigin,this.target,e.target),rR(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}r$.resolvedTargetDeltas++}}}getClosestProjectingParent(){return!this.parent||n7(this.parent.latestValues)||re(this.parent.latestValues)?void 0:this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;let n=this.getLead(),r=Boolean(this.resumingFrom)||this!==n,i=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(i=!1),r&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(i=!1),i)return;let{layout:o,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(o||s))return;rR(this.layoutCorrected,this.layout.layoutBox),function(e,n,r,i=!1){let o,s;let a=r.length;if(a){n.x=n.y=1;for(let u=0;u<a;u++){s=(o=r[u]).projectionDelta;let a=o.instance;(!a||!a.style||"contents"!==a.style.display)&&(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&rl(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(n.x*=s.x.scale,n.y*=s.y.scale,ri(e,s)),i&&rt(o.latestValues)&&rl(e,o.latestValues))}n.x=ro(n.x),n.y=ro(n.y)}}(this.layoutCorrected,this.treeScale,this.path,r);let{target:a}=n;if(!a)return;this.projectionDelta||(this.projectionDelta=n3(),this.projectionDeltaWithTransform=n3());let u=this.treeScale.x,c=this.treeScale.y,l=this.projectionTransform;nZ(this.projectionDelta,this.layoutCorrected,a,this.latestValues),this.projectionTransform=rK(this.projectionDelta,this.treeScale),(this.projectionTransform!==l||this.treeScale.x!==u||this.treeScale.y!==c)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",a)),r$.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),e){let e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e,n=!1){let r;let i=this.snapshot,o=i?i.latestValues:{},s={...this.latestValues},a=n3();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!n;let u=n5(),c=i?i.source:void 0,l=this.layout?this.layout.source:void 0,h=c!==l,f=this.getStack(),d=!f||f.members.length<=1,p=Boolean(h&&!d&&!0===this.options.crossfade&&!this.path.some(ie));this.animationProgress=0,this.mixTargetDelta=n=>{var i,c;let l=n/1e3;r7(a.x,e.x,l),r7(a.y,e.y,l),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(nY(u,this.layout.layoutBox,this.relativeParent.layout.layoutBox),i=this.relativeTarget,c=this.relativeTargetOrigin,it(i.x,c.x,u.x,l),it(i.y,c.y,u.y,l),r&&rB(this.relativeTarget,r)&&(this.isProjectionDirty=!1),r||(r=n5()),rR(r,this.relativeTarget)),h&&(this.animationValues=s,function(e,n,r,i,o,s){o?(e.opacity=eB(0,void 0!==r.opacity?r.opacity:1,rN(i)),e.opacityExit=eB(void 0!==n.opacity?n.opacity:1,0,rC(i))):s&&(e.opacity=eB(void 0!==n.opacity?n.opacity:1,void 0!==r.opacity?r.opacity:1,i));for(let o=0;o<r_;o++){let s=`border${rS[o]}Radius`,a=rk(n,s),u=rk(r,s);if(void 0===a&&void 0===u)continue;a||(a=0),u||(u=0);let c=0===a||0===u||rA(a)===rA(u);c?(e[s]=Math.max(eB(rx(a),rx(u),i),0),(Q.test(u)||Q.test(a))&&(e[s]+="%")):e[s]=u}(n.rotate||r.rotate)&&(e.rotate=eB(n.rotate||0,r.rotate||0,i))}(s,o,this.latestValues,l,p,d)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=l},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(t5.qY.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=t5.Z_.update(()=>{I.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,n,r={}){let i=O(e)?e:en(e);return i.start(nD("",i,1e3,r)),{stop:()=>i.stop(),isAnimating:()=>i.isAnimating()}}(0,0,{...e,onUpdate:n=>{this.mixTargetDelta(n),e.onUpdate&&e.onUpdate(n)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let e=this.getLead(),{targetWithTransforms:n,target:r,layout:i,latestValues:o}=e;if(n&&r&&i){if(this!==e&&this.layout&&i&&is(this.options.animationType,this.layout.layoutBox,i.layoutBox)){r=this.target||n5();let n=nG(this.layout.layoutBox.x);r.x.min=e.target.x.min,r.x.max=r.x.min+n;let i=nG(this.layout.layoutBox.y);r.y.min=e.target.y.min,r.y.max=r.y.min+i}rR(n,r),rl(n,o),nZ(this.projectionDeltaWithTransform,this.layoutCorrected,n,o)}}registerSharedNode(e,n){this.sharedNodes.has(e)||this.sharedNodes.set(e,new rz);let r=this.sharedNodes.get(e);r.add(n);let i=n.options.initialPromotionConfig;n.promote({transition:i?i.transition:void 0,preserveFollowOpacity:i&&i.shouldPreserveFollowOpacity?i.shouldPreserveFollowOpacity(n):void 0})}isLead(){let e=this.getStack();return!e||e.lead===this}getLead(){var e;let{layoutId:n}=this.options;return n&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;let{layoutId:n}=this.options;return n?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){let{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:n,preserveFollowOpacity:r}={}){let i=this.getStack();i&&i.promote(this,r),e&&(this.projectionDelta=void 0,this.needsReset=!0),n&&this.setOptions({transition:n})}relegate(){let e=this.getStack();return!!e&&e.relegate(this)}resetRotation(){let{visualElement:e}=this.options;if(!e)return;let n=!1,{latestValues:r}=e;if((r.rotate||r.rotateX||r.rotateY||r.rotateZ)&&(n=!0),!n)return;let i={};for(let n=0;n<rW.length;n++){let o="rotate"+rW[n];r[o]&&(i[o]=r[o],e.setStaticValue(o,0))}for(let n in e.render(),i)e.setStaticValue(n,i[n]);e.scheduleRender()}getProjectionStyles(e={}){var n,r;let i={};if(!this.instance||this.isSVG)return i;if(!this.isVisible)return{visibility:"hidden"};i.visibility="";let o=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,i.opacity="",i.pointerEvents=tN(e.pointerEvents)||"",i.transform=o?o(this.latestValues,""):"none",i;let s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){let n={};return this.options.layoutId&&(n.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,n.pointerEvents=tN(e.pointerEvents)||""),this.hasProjected&&!rt(this.latestValues)&&(n.transform=o?o({},""):"none",this.hasProjected=!1),n}let a=s.animationValues||s.latestValues;this.applyTransformsToTarget(),i.transform=rK(this.projectionDeltaWithTransform,this.treeScale,a),o&&(i.transform=o(a,i.transform));let{x:u,y:c}=this.projectionDelta;for(let e in i.transformOrigin=`${100*u.origin}% ${100*c.origin}% 0`,s.animationValues?i.opacity=s===this?null!==(r=null!==(n=a.opacity)&&void 0!==n?n:this.latestValues.opacity)&&void 0!==r?r:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:i.opacity=s===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0,C){if(void 0===a[e])continue;let{correct:n,applyTo:r}=C[e],o="none"===i.transform?a[e]:n(a[e],s);if(r){let e=r.length;for(let n=0;n<e;n++)i[r[n]]=o}else i[e]=o}return this.options.layoutId&&(i.pointerEvents=s===this?tN(e.pointerEvents)||"":"none"),i}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var n;return null===(n=e.currentAnimation)||void 0===n?void 0:n.stop()}),this.root.nodes.forEach(r2),this.root.sharedNodes.clear()}}}function rY(e){e.updateLayout()}function rQ(e){var n;let r=(null===(n=e.resumeFrom)||void 0===n?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){let{layoutBox:n,measuredBox:i}=e.layout,{animationType:o}=e.options,s=r.source!==e.layout.source;"size"===o?n6(e=>{let i=s?r.measuredBox[e]:r.layoutBox[e],o=nG(i);i.min=n[e].min,i.max=i.min+o}):is(o,r.layoutBox,n)&&n6(e=>{let i=s?r.measuredBox[e]:r.layoutBox[e],o=nG(n[e]);i.max=i.min+o});let a=n3();nZ(a,n,r.layoutBox);let u=n3();s?nZ(u,e.applyTransform(i,!0),r.measuredBox):nZ(u,n,r.layoutBox);let c=!rU(a),l=!1;if(!e.resumeFrom){let i=e.getClosestProjectingParent();if(i&&!i.resumeFrom){let{snapshot:o,layout:s}=i;if(o&&s){let a=n5();nY(a,r.layoutBox,o.layoutBox);let u=n5();nY(u,n,s.layoutBox),rB(a,u)||(l=!0),i.options.layoutRoot&&(e.relativeTarget=u,e.relativeTargetOrigin=a,e.relativeParent=i)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:u,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:l})}else if(e.isLead()){let{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function rJ(e){r$.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function r0(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function r1(e){e.clearSnapshot()}function r2(e){e.clearMeasurements()}function r3(e){let{visualElement:n}=e.options;n&&n.getProps().onBeforeLayoutMeasure&&n.notify("BeforeLayoutMeasure"),e.resetTransform()}function r4(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function r5(e){e.resolveTargetDelta()}function r6(e){e.calcProjection()}function r8(e){e.resetRotation()}function r9(e){e.removeLeadSnapshot()}function r7(e,n,r){e.translate=eB(n.translate,0,r),e.scale=eB(n.scale,1,r),e.origin=n.origin,e.originPoint=n.originPoint}function it(e,n,r,i){e.min=eB(n.min,r.min,i),e.max=eB(n.max,r.max,i)}function ie(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}let ir={duration:.45,ease:[.4,0,.1,1]};function ii(e,n){let r=e.root;for(let n=e.path.length-1;n>=0;n--)if(Boolean(e.path[n].instance)){r=e.path[n];break}let i=r&&r!==e.root?r.instance:document,o=i.querySelector(`[data-projection-id="${n}"]`);o&&e.mount(o,!0)}function io(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function is(e,n,r){return"position"===e||"preserve-aspect"===e&&!nH(rq(n),rq(r),.2)}let ia=rX({attachResizeListener:(e,n)=>tR(e,"resize",n),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),iu={current:void 0},ic=rX({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!iu.current){let e=new ia(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),iu.current=e}return iu.current},resetTransform:(e,n)=>{e.style.transform=void 0!==n?n:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),il=new Set(["width","height","top","left","right","bottom","x","y"]),ih=e=>il.has(e),id=e=>Object.keys(e).some(ih),ip=e=>e===q||e===J,im=(e,n)=>parseFloat(e.split(", ")[n]),ig=(e,n)=>(r,{transform:i})=>{if("none"===i||!i)return 0;let o=i.match(/^matrix3d\((.+)\)$/);if(o)return im(o[1],n);{let n=i.match(/^matrix\((.+)\)$/);return n?im(n[1],e):0}},iv=new Set(["x","y","z"]),iy=D.filter(e=>!iv.has(e)),ib={width:({x:e},{paddingLeft:n="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(n)-parseFloat(r),height:({y:e},{paddingTop:n="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(n)-parseFloat(r),top:(e,{top:n})=>parseFloat(n),left:(e,{left:n})=>parseFloat(n),bottom:({y:e},{top:n})=>parseFloat(n)+(e.max-e.min),right:({x:e},{left:n})=>parseFloat(n)+(e.max-e.min),x:ig(4,13),y:ig(5,14)},iw=(e,n,r)=>{let i=n.measureViewportBox(),o=n.current,s=getComputedStyle(o),{display:a}=s,u={};"none"===a&&n.setStaticValue("display",e.display||"block"),r.forEach(e=>{u[e]=ib[e](i,s)}),n.render();let c=n.measureViewportBox();return r.forEach(r=>{let i=n.getValue(r);i&&i.jump(u[r]),e[r]=ib[r](c,s)}),e},iE=(e,n,r={},i={})=>{n={...n},i={...i};let o=Object.keys(n).filter(ih),s=[],a=!1,u=[];if(o.forEach(o=>{let c;let l=e.getValue(o);if(!e.hasValue(o))return;let h=r[o],f=eA(h),d=n[o];if(tx(d)){let e=d.length,n=null===d[0]?1:0;f=eA(h=d[n]);for(let r=n;r<e;r++)c?(0,eR.k)(eA(d[r])===c,"All keyframes must be of the same type"):(c=eA(d[r]),(0,eR.k)(c===f||ip(f)&&ip(c),"Keyframes must be of the same dimension as the current value"))}else c=eA(d);if(f!==c){if(ip(f)&&ip(c)){let e=l.get();"string"==typeof e&&l.set(parseFloat(e)),"string"==typeof d?n[o]=parseFloat(d):Array.isArray(d)&&c===J&&(n[o]=d.map(parseFloat))}else(null==f?void 0:f.transform)&&(null==c?void 0:c.transform)&&(0===h||0===d)?0===h?l.set(c.transform(h)):n[o]=f.transform(d):(a||(s=function(e){let n=[];return iy.forEach(r=>{let i=e.getValue(r);void 0!==i&&(n.push([r,i.get()]),i.set(r.startsWith("scale")?1:0))}),n.length&&e.render(),n}(e),a=!0),u.push(o),i[o]=void 0!==i[o]?i[o]:n[o],l.jump(d))}}),!u.length)return{target:n,transitionEnd:i};{let r=u.indexOf("height")>=0?window.pageYOffset:null,o=iw(n,e,u);return s.length&&s.forEach(([n,r])=>{e.getValue(n).set(r)}),e.render(),E.j&&null!==r&&window.scrollTo({top:r}),{target:o,transitionEnd:i}}},iT=(e,n,r,i)=>{var o,s;let a=function(e,{...n},r){let i=e.current;if(!(i instanceof Element))return{target:n,transitionEnd:r};for(let o in r&&(r={...r}),e.values.forEach(e=>{let n=e.get();if(!F(n))return;let r=ry(n,i);r&&e.set(r)}),n){let e=n[o];if(!F(e))continue;let s=ry(e,i);s&&(n[o]=s,r&&void 0===r[o]&&(r[o]=e))}return{target:n,transitionEnd:r}}(e,n,i);return n=a.target,i=a.transitionEnd,o=n,s=i,id(o)?iE(e,o,r,s):{target:o,transitionEnd:s}},iI={current:null},iS={current:!1},i_=Object.keys(w),ix=i_.length,iA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],ik=m.length;class iN{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>t5.Z_.render(this.render,!1,!0);let{latestValues:a,renderState:u}=o;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=g(n),this.isVariantNode=v(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);let{willChange:c,...l}=this.scrapeMotionValuesFromProps(n,{});for(let e in l){let n=l[e];void 0!==a[e]&&O(n)&&(n.set(a[e],!1),eD(c)&&c.add(e))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,n)=>this.bindToMotionValue(n,e)),iS.current||function(){if(iS.current=!0,E.j){if(window.matchMedia){let e=window.matchMedia("(prefers-reduced-motion)"),n=()=>iI.current=e.matches;e.addListener(n),n()}else iI.current=!1}}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||iI.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){for(let e in this.projection&&this.projection.unmount(),t5.qY.update(this.notifyUpdate),t5.qY.render(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this),this.events)this.events[e].clear();for(let e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){let r=P.has(e),i=n.on("change",n=>{this.latestValues[e]=n,this.props.onUpdate&&t5.Z_.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),o()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}loadFeatures({children:e,...n},r,i,o,s){let a,u;for(let e=0;e<ix;e++){let r=i_[e],{isEnabled:i,Feature:o,ProjectionNode:s,MeasureLayout:c}=w[r];s&&(a=s),i(n)&&(!this.features[r]&&o&&(this.features[r]=new o(this)),c&&(u=c))}if(!this.projection&&a){this.projection=new a(o,this.latestValues,this.parent&&this.parent.projection);let{layoutId:e,layout:r,drag:i,dragConstraints:u,layoutScroll:c,layoutRoot:l}=n;this.projection.setOptions({layoutId:e,layout:r,alwaysMeasureLayout:Boolean(i)||u&&h(u),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"==typeof r?r:"both",initialPromotionConfig:s,layoutScroll:c,layoutRoot:l})}return u}updateFeatures(){for(let e in this.features){let n=this.features[e];n.isMounted?n.update(this.props,this.prevProps):(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):n5()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let n=0;n<iA.length;n++){let r=iA[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);let i=e["on"+r];i&&(this.propEventSubscriptions[r]=this.on(r,i))}this.prevMotionValues=function(e,n,r){let{willChange:i}=n;for(let o in n){let s=n[o],a=r[o];if(O(s))e.addValue(o,s),eD(i)&&i.add(o);else if(O(a))e.addValue(o,en(s,{owner:e})),eD(i)&&i.remove(o);else if(a!==s){if(e.hasValue(o)){let n=e.getValue(o);n.hasAnimated||n.set(s)}else{let n=e.getStaticValue(o);e.addValue(o,en(void 0!==n?n:s,{owner:e}))}}}for(let i in r)void 0===n[i]&&e.removeValue(i);return n}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){let e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}let n={};for(let e=0;e<ik;e++){let r=m[e],i=this.props[r];(f(i)||!1===i)&&(n[r]=i)}return n}addVariantChild(e){let n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);let n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return void 0===r&&void 0!==n&&(r=en(n,{owner:this}),this.addValue(e,r)),r}readValue(e){return void 0===this.latestValues[e]&&this.current?this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;let{initial:r}=this.props,i="string"==typeof r||"object"==typeof r?null===(n=t_(this.props,r))||void 0===n?void 0:n[e]:void 0;if(r&&void 0!==i)return i;let o=this.getBaseTargetFromProps(this.props,e);return void 0===o||O(o)?void 0!==this.initialValues[e]&&void 0===i?void 0:this.baseTarget[e]:o}on(e,n){return this.events[e]||(this.events[e]=new t9),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class iC extends iN{sortInstanceNodePosition(e,n){return 2&e.compareDocumentPosition(n)?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},o){let s=function(e,n,r){let i={};for(let o in e){let e=function(e,n){if(!n)return;let r=n[e]||n.default||n;return r.from}(o,n);if(void 0!==e)i[o]=e;else{let e=r.getValue(o);e&&(i[o]=e.get())}}return i}(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),s&&(s=i(s))),o){!function(e,n,r){var i,o;let s=Object.keys(n).filter(n=>!e.hasValue(n)),a=s.length;if(a)for(let u=0;u<a;u++){let a=s[u],c=n[a],l=null;Array.isArray(c)&&(l=c[0]),null===l&&(l=null!==(o=null!==(i=r[a])&&void 0!==i?i:e.readValue(a))&&void 0!==o?o:n[a]),null!=l&&("string"==typeof l&&(t2(l)||t3(l))?l=parseFloat(l):!eN(l)&&ev.test(c)&&(l=eS(a,c)),e.addValue(a,en(l,{owner:e})),void 0===r[a]&&(r[a]=l),null!==l&&e.setBaseTarget(a,l))}}(this,r,s);let e=iT(this,r,s,n);n=e.transitionEnd,r=e.target}return{transition:e,transitionEnd:n,...r}}}class iD extends iC{readValueFromInstance(e,n){if(P.has(n)){let e=eI(n);return e&&e.default||0}{let r=window.getComputedStyle(e),i=(V(n)?r.getPropertyValue(n):r[n])||0;return"string"==typeof i?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return rh(e,n)}build(e,n,r,i){to(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return tI(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:e}=this.props;O(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}renderInstance(e,n,r,i){tw(e,n,r,i)}}class iP extends iC{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(P.has(n)){let e=eI(n);return e&&e.default||0}return n=tE.has(n)?n:tb(n),e.getAttribute(n)}measureInstanceViewportBox(){return n5()}scrapeMotionValuesFromProps(e,n){return tS(e,n)}build(e,n,r,i){tm(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){tT(e,n,r,i)}mount(e){this.isSVGTag=tv(e.tagName),super.mount(e)}}let iR=(e,n)=>N(e)?new iP(n,{enableHardwareAcceleration:!1}):new iD(n,{enableHardwareAcceleration:!0}),iO={animation:{Feature:class extends tG{constructor(e){super(e),e.animationState||(e.animationState=function(e){let n=n=>Promise.all(n.map(({animation:n,options:r})=>(function(e,n,r={}){let i;if(e.notify("AnimationStart",n),Array.isArray(n)){let o=n.map(n=>nP(e,n,r));i=Promise.all(o)}else if("string"==typeof n)i=nP(e,n,r);else{let o="function"==typeof n?eC(e,n,r.custom):n;i=nR(e,o,r)}return i.then(()=>e.notify("AnimationComplete",n))})(e,n,r))),r={animate:nj(!0),whileInView:nj(),whileHover:nj(),whileTap:nj(),whileDrag:nj(),whileFocus:nj(),exit:nj()},i=!0,o=(n,r)=>{let i=eC(e,r);if(i){let{transition:e,transitionEnd:r,...o}=i;n={...n,...o,...r}}return n};function s(s,a){let u=e.getProps(),c=e.getVariantContext(!0)||{},l=[],h=new Set,p={},m=1/0;for(let n=0;n<nM;n++){var g;let v=nL[n],y=r[v],b=void 0!==u[v]?u[v]:c[v],w=f(b),E=v===a?y.isActive:null;!1===E&&(m=n);let T=b===c[v]&&b!==u[v]&&w;if(T&&i&&e.manuallyAnimateOnMount&&(T=!1),y.protectedKeys={...p},!y.isActive&&null===E||!b&&!y.prevProp||d(b)||"boolean"==typeof b)continue;let I=(g=y.prevProp,"string"==typeof b?b!==g:!!Array.isArray(b)&&!t1(b,g)),S=I||v===a&&y.isActive&&!T&&w||n>m&&w,_=Array.isArray(b)?b:[b],x=_.reduce(o,{});!1===E&&(x={});let{prevResolvedValues:A={}}=y,k={...A,...x},N=e=>{S=!0,h.delete(e),y.needsAnimating[e]=!0};for(let e in k){let n=x[e],r=A[e];p.hasOwnProperty(e)||(n!==r?tx(n)&&tx(r)?!t1(n,r)||I?N(e):y.protectedKeys[e]=!0:void 0!==n?N(e):h.add(e):void 0!==n&&h.has(e)?N(e):y.protectedKeys[e]=!0)}y.prevProp=b,y.prevResolvedValues=x,y.isActive&&(p={...p,...x}),i&&e.blockInitialAnimation&&(S=!1),S&&!T&&l.push(..._.map(e=>({animation:e,options:{type:v,...s}})))}if(h.size){let n={};h.forEach(r=>{let i=e.getBaseTarget(r);void 0!==i&&(n[r]=i)}),l.push({animation:n})}let v=Boolean(l.length);return i&&!1===u.initial&&!e.manuallyAnimateOnMount&&(v=!1),i=!1,v?n(l):Promise.resolve()}return{animateChanges:s,setActive:function(n,i,o){var a;if(r[n].isActive===i)return Promise.resolve();null===(a=e.variantChildren)||void 0===a||a.forEach(e=>{var r;return null===(r=e.animationState)||void 0===r?void 0:r.setActive(n,i)}),r[n].isActive=i;let u=s(o,n);for(let e in r)r[e].protectedKeys={};return u},setAnimateFunction:function(r){n=r(e)},getState:()=>r}}(e))}updateAnimationControlsSubscription(){let{animate:e}=this.node.getProps();this.unmount(),d(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends tG{constructor(){super(...arguments),this.id=nV++}update(){if(!this.node.presenceContext)return;let{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;let o=this.node.animationState.setActive("exit",!e,{custom:null!=r?r:this.node.getProps().custom});n&&!e&&o.then(()=>n(this.id))}mount(){let{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}},inView:{Feature:class extends tG{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();let{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:"number"==typeof i?i:t0[i]},a=e=>{let{isIntersecting:n}=e;if(this.isInView===n||(this.isInView=n,o&&!n&&this.hasEnteredView))return;n&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",n);let{onViewportEnter:r,onViewportLeave:i}=this.node.getProps(),s=n?r:i;s&&s(e)};return function(e,n,r){let i=function({root:e,...n}){let r=e||document;tY.has(r)||tY.set(r,{});let i=tY.get(r),o=JSON.stringify(n);return i[o]||(i[o]=new IntersectionObserver(tJ,{root:e,...n})),i[o]}(n);return tX.set(e,r),i.observe(e),()=>{tX.delete(e),i.unobserve(e)}}(this.node.current,s,a)}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;let{props:e,prevProps:n}=this.node,r=["amount","margin","root"].some(function({viewport:e={}},{viewport:n={}}={}){return r=>e[r]!==n[r]}(e,n));r&&this.startObserver()}unmount(){}}},tap:{Feature:class extends tG{constructor(){super(...arguments),this.removeStartListeners=tZ.Z,this.removeEndListeners=tZ.Z,this.removeAccessibleListeners=tZ.Z,this.startPointerPress=(e,n)=>{if(this.removeEndListeners(),this.isPressing)return;let r=this.node.getProps(),i=(e,n)=>{if(!this.checkPressEnd())return;let{onTap:r,onTapCancel:i}=this.node.getProps();tW(this.node.current,e.target)?r&&r(e,n):i&&i(e,n)},o=tj(window,"pointerup",i,{passive:!(r.onTap||r.onPointerUp)}),s=tj(window,"pointercancel",(e,n)=>this.cancelPress(e,n),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=tF(o,s),this.startPress(e,n)},this.startAccessiblePress=()=>{let e=e=>{if("Enter"!==e.key||this.isPressing)return;let n=e=>{"Enter"===e.key&&this.checkPressEnd()&&t$("up",this.node.getProps().onTap)};this.removeEndListeners(),this.removeEndListeners=tR(this.node.current,"keyup",n),t$("down",(e,n)=>{this.startPress(e,n)})},n=tR(this.node.current,"keydown",e),r=()=>{this.isPressing&&t$("cancel",(e,n)=>this.cancelPress(e,n))},i=tR(this.node.current,"blur",r);this.removeAccessibleListeners=tF(n,i)}}startPress(e,n){this.isPressing=!0;let{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&r(e,n)}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;let e=this.node.getProps();return e.whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!tK()}cancelPress(e,n){if(!this.checkPressEnd())return;let{onTapCancel:r}=this.node.getProps();r&&r(e,n)}mount(){let e=this.node.getProps(),n=tj(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=tR(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=tF(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends tG{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(n){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=tF(tR(this.node.current,"focus",()=>this.onFocus()),tR(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends tG{mount(){this.unmount=tF(tH(this.node,!0),tH(this.node,!1))}unmount(){}}},pan:{Feature:class extends tG{constructor(){super(...arguments),this.removePointerDownListener=tZ.Z}onPointerDown(e){this.session=new nU(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){let{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:e,onStart:n,onMove:r,onEnd:(e,n)=>{delete this.session,i&&i(e,n)}}}mount(){this.removePointerDownListener=tj(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends tG{constructor(e){super(e),this.removeGroupControls=tZ.Z,this.removeListeners=tZ.Z,this.controls=new rd(e)}mount(){let{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||tZ.Z}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:ic,MeasureLayout:rT},layout:{ProjectionNode:ic,MeasureLayout:rT}},iL=function(e){function n(n,r={}){return function({preloadedFeatures:e,createVisualElement:n,useRender:r,useVisualState:i,Component:d}){e&&function(e){for(let n in e)w[n]={...w[n],...e[n]}}(e);let p=(0,o.forwardRef)(function(p,m){var v,b;let w;let A={...(0,o.useContext)(s),...p,layoutId:function({layoutId:e}){let n=(0,o.useContext)(_.p).id;return n&&void 0!==e?n+"-"+e:e}(p)},{isStatic:k}=A,N=function(e){let{initial:n,animate:r}=function(e,n){if(g(e)){let{initial:n,animate:r}=e;return{initial:!1===n||f(n)?n:void 0,animate:f(r)?r:void 0}}return!1!==e.inherit?n:{}}(e,(0,o.useContext)(a));return(0,o.useMemo)(()=>({initial:n,animate:r}),[y(n),y(r)])}(p),C=k?void 0:(0,T.h)(()=>{if(I.hasEverUpdated)return S++}),D=i(p,k);if(!k&&E.j){N.visualElement=function(e,n,r,i){let h=(0,o.useContext)(a).visualElement,f=(0,o.useContext)(l),d=(0,o.useContext)(u.O),p=(0,o.useContext)(s).reducedMotion,m=(0,o.useRef)();i=i||f.renderer,!m.current&&i&&(m.current=i(e,{visualState:n,parent:h,props:r,presenceContext:d,blockInitialAnimation:!!d&&!1===d.initial,reducedMotionConfig:p}));let g=m.current;(0,o.useInsertionEffect)(()=>{g&&g.update(r,d)}),(0,c.L)(()=>{g&&g.render()}),(0,o.useEffect)(()=>{g&&g.updateFeatures()});let v=window.HandoffAppearAnimations?c.L:o.useEffect;return v(()=>{g&&g.animationState&&g.animationState.animateChanges()}),g}(d,D,A,n);let r=(0,o.useContext)(x),i=(0,o.useContext)(l).strict;N.visualElement&&(w=N.visualElement.loadFeatures(A,i,e,C,r))}return o.createElement(a.Provider,{value:N},w&&N.visualElement?o.createElement(w,{visualElement:N.visualElement,...A}):null,r(d,p,C,(v=N.visualElement,b=m,(0,o.useCallback)(e=>{e&&D.mount&&D.mount(e),v&&(e?v.mount(e):v.unmount()),b&&("function"==typeof b?b(e):h(b)&&(b.current=e))},[v])),D,k,N.visualElement))});return p[A]=d,p}(e(n,r))}if("undefined"==typeof Proxy)return n;let r=new Map;return new Proxy(n,{get:(e,i)=>(r.has(i)||r.set(i,n(i)),r.get(i))})}((e,n)=>(function(e,{forwardMotionProps:n=!1},r,i){let s=N(e)?tD:tP;return{...s,preloadedFeatures:r,useRender:function(e=!1){let n=(n,r,i,s,{latestValues:a},u)=>{let c=N(n)?ty:tu,l=c(r,a,u,n),h=function(e,n,r){let i={};for(let o in e)("values"!==o||"object"!=typeof e.values)&&(th(o)||!0===r&&tl(o)||!n&&!tl(o)||e.draggable&&o.startsWith("onDrag"))&&(i[o]=e[o]);return i}(r,"string"==typeof n,e),f={...h,...l,ref:s},{children:d}=r,p=(0,o.useMemo)(()=>O(d)?d.get():d,[d]);return i&&(f["data-projection-id"]=i),(0,o.createElement)(n,{...f,children:p})};return n}(n),createVisualElement:i,Component:e}})(e,n,iO,iR))},5487:function(e,n,r){"use strict";r.d(n,{K:function(){return o},k:function(){return s}});var i=r(1662);let o=i.Z,s=i.Z},1741:function(e,n,r){"use strict";r.d(n,{j:function(){return i}});let i="undefined"!=typeof document},1662:function(e,n,r){"use strict";r.d(n,{Z:function(){return i}});let i=e=>e},6681:function(e,n,r){"use strict";r.d(n,{h:function(){return o}});var i=r(7294);function o(e){let n=(0,i.useRef)(null);return null===n.current&&(n.current=e()),n.current}},8868:function(e,n,r){"use strict";r.d(n,{L:function(){return s}});var i=r(7294),o=r(1741);let s=o.j?i.useLayoutEffect:i.useEffect}},function(e){var n=function(n){return e(e.s=n)};e.O(0,[774,179],function(){return n(1118),n(880)}),_N_E=e.O()}]);